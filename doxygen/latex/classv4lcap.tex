\hypertarget{classv4lcap}{}\section{v4lcap Class Reference}
\label{classv4lcap}\index{v4lcap@{v4lcap}}


{\ttfamily \#include $<$v4lcap.\+hpp$>$}



Collaboration diagram for v4lcap\+:
% FIG 0
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structv4lcap_1_1buffer}{buffer}
\item 
struct \hyperlink{structv4lcap_1_1buffer__holder}{buffer\+\_\+holder}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753e}{memory\+\_\+type} \{ \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753eaa973888f299d63462efa19c3e52d416c}{M\+E\+M\+\_\+\+R\+E\+AD}, 
\hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753ea910bccf6fae3859b962b253fca85ad2a}{M\+E\+M\+\_\+\+M\+M\+AP}, 
\hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753ea30efcf7ca101412a17c617333e1bb064}{M\+E\+M\+\_\+\+U\+S\+ER}
 \}
\item 
enum \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5f}{device\+\_\+status} \{ \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa4015ad97149ce726bbc1843cb9527972}{O\+P\+E\+N\+ED} = 1 $<$$<$ 0, 
\hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa13fe1706c834cc277398a59fa0722bdb}{M\+M\+A\+P\+\_\+\+I\+N\+IT} = 1 $<$$<$ 1, 
\hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa50f1c16a61587c54c5bf5f95b3802625}{S\+T\+R\+E\+A\+M\+\_\+\+ON} = 1 $<$$<$ 2
 \}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl} (int \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, int request, void $\ast$arg)
\item 
\hyperlink{classv4lcap_adacb93ad544708ef99c5cca4202e7c93}{v4lcap} ()
\item 
\hyperlink{classv4lcap_aa1aaea89befb94cdf3dbb24bf758078f}{$\sim$v4lcap} ()
\item 
bool \hyperlink{classv4lcap_a1404aae893a64a8e8859d822a4dfb273}{open\+\_\+device} (const char $\ast$devname, bool emulate\+\_\+fmt)
\begin{DoxyCompactList}\small\item\em By getting device name and emulated format, this method open the connection to the camera. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a4a7ee51c878ec735c9a24b517c63df16}{start\+\_\+capturing} (enum \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753e}{memory\+\_\+type} mem\+\_\+type, int nbuffers)
\begin{DoxyCompactList}\small\item\em This method starts capturing and streaming from opened device passing memory type and number of buffers used. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aa8b3b1ffead9a21abf2aea074d1b309b}{start\+\_\+capturing} ()
\begin{DoxyCompactList}\small\item\em This method starts capturing and streaming from opened device. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a04f75c0a68f0e8547925906a488bb50d}{init\+\_\+mmap} (int nbuffers)
\begin{DoxyCompactList}\small\item\em This method requests buffers from host system to allocate streaming from camera. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_ab3496376778bd0acacacef396fcd6387}{set\+\_\+input} (int index)
\begin{DoxyCompactList}\small\item\em Set the input object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a5ce097aed8f4d0aee209e0c78924812d}{set\+\_\+standard} (v4l2\+\_\+std\+\_\+id std\+\_\+id)
\begin{DoxyCompactList}\small\item\em Set the standard object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a7da8705c4a542bb1118f74435957c471}{set\+\_\+pixel\+\_\+format} (unsigned int pixel\+\_\+format)
\begin{DoxyCompactList}\small\item\em Set the pixel format object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a6ad01c926c3162e858e030c8525cb94b}{set\+\_\+frame\+\_\+size} (int width, int height, unsigned int \hyperlink{classstd_1_1conditional_1_1type}{type})
\begin{DoxyCompactList}\small\item\em Set the frame size object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a698e7d4dcefeda932ecbab7bfccdc491}{set\+\_\+frame\+\_\+interval} (struct v4l2\+\_\+fract \&fract)
\begin{DoxyCompactList}\small\item\em Set the frame interval object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a863a15d2d66cc0b7367dcc9cba64e0bd}{set\+\_\+control} (int ctrl\+\_\+id, int value)
\begin{DoxyCompactList}\small\item\em Set the control object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_abb1f77b86c0368cd40dab1fb8d4a2565}{streamon} (enum v4l2\+\_\+buf\+\_\+type \hyperlink{classstd_1_1conditional_1_1type}{type})
\begin{DoxyCompactList}\small\item\em Query stream to initiate. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a171600fdcef434fc621e62d9373fcaf8}{streamon} (int \hyperlink{classstd_1_1conditional_1_1type}{type})
\item 
void $\ast$ \hyperlink{classv4lcap_a2974ed334916901ebfd9a59aed2428e8}{grab\+\_\+raw} (unsigned char $\ast$raw)
\item 
void $\ast$ \hyperlink{classv4lcap_a4ef7f2a17a32f5b89bf9ddce123a3b52}{grab\+\_\+rgb} (unsigned char $\ast$rgb)
\item 
bool \hyperlink{classv4lcap_ae15aa5107e993df45eb358a842d97e55}{streamoff} (enum v4l2\+\_\+buf\+\_\+type \hyperlink{classstd_1_1conditional_1_1type}{type})
\begin{DoxyCompactList}\small\item\em Query stream to terminate. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a34eced9e309545a1b6bb41a41c23bc57}{streamoff} (int \hyperlink{classstd_1_1conditional_1_1type}{type})
\item 
bool \hyperlink{classv4lcap_a2992ae4b4fd36da602284c62b97cbeed}{stop\+\_\+capturing} ()
\begin{DoxyCompactList}\small\item\em Closes capturing query. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aafab5fd381c1d5858cd87f42560a40ab}{uninit\+\_\+mmap} ()
\begin{DoxyCompactList}\small\item\em Free all requested buffers. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_adbb658a6f3248f24ee7926722e76ca43}{close\+\_\+device} ()
\begin{DoxyCompactList}\small\item\em Close camera communication with pc. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a0feac915e89a04f087bce5310f8b1051}{is\+\_\+opened} ()
\begin{DoxyCompactList}\small\item\em Verify if camera is open. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aff4ca1e9742c8659582810529b8c9a2c}{query\+\_\+capability} (struct v4l2\+\_\+capability $\ast$cap)
\begin{DoxyCompactList}\small\item\em Verify query lenght capability. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aa5c521438e06e14625c05a02bafd35c1}{get\+\_\+format} (struct v4l2\+\_\+format $\ast$fmt, unsigned int \hyperlink{classstd_1_1conditional_1_1type}{type})
\begin{DoxyCompactList}\small\item\em Get the format object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a1964262e616b7624fdef18d54ea211e4}{get\+\_\+format} (struct v4l2\+\_\+format $\ast$fmt)
\item 
bool \hyperlink{classv4lcap_ad6cf8417903c40e86a087a236cd39337}{get\+\_\+input\+\_\+index} (unsigned int $\ast$input)
\begin{DoxyCompactList}\small\item\em Get the input index object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a11e01d9043a7cb3537a772cc3a5bacb5}{get\+\_\+input} (struct v4l2\+\_\+input $\ast$input)
\begin{DoxyCompactList}\small\item\em Get the input object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a3db79824d21927b3057c87d19e873498}{get\+\_\+standard\+\_\+id} (v4l2\+\_\+std\+\_\+id $\ast$std\+\_\+id)
\begin{DoxyCompactList}\small\item\em Get the standard id object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_ad3ae859cc6d6d99146619ba550514aab}{get\+\_\+standard} (struct v4l2\+\_\+standard $\ast$standard)
\begin{DoxyCompactList}\small\item\em Get the standard object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a067a6b97d6c4d3ea83454132f1d3c87e}{get\+\_\+stream\+\_\+parameter} (struct v4l2\+\_\+streamparm $\ast$streamparm, unsigned int \hyperlink{classstd_1_1conditional_1_1type}{type})
\begin{DoxyCompactList}\small\item\em Get the stream parameter object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_affd6d918400a56e165d7a3e4fab8bdae}{get\+\_\+control} (struct v4l2\+\_\+control $\ast$ctrl, unsigned int ctrl\+\_\+id)
\begin{DoxyCompactList}\small\item\em Get the control object. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}{query\+\_\+control} (struct v4l2\+\_\+queryctrl $\ast$qctrl)
\begin{DoxyCompactList}\small\item\em Query control options. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aa23f5ba6c1828dc3af8258d8a33b95e4}{query\+\_\+control\+\_\+menu} (struct v4l2\+\_\+querymenu $\ast$qmenu)
\begin{DoxyCompactList}\small\item\em Query control menu. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_adfe2c7d6382e325a9f4e1ad699c01fc5}{request\+\_\+buffers} (struct v4l2\+\_\+requestbuffers $\ast$req\+\_\+buff, int nbuffers, enum v4l2\+\_\+memory memory, enum v4l2\+\_\+buf\+\_\+type \hyperlink{classstd_1_1conditional_1_1type}{type})
\begin{DoxyCompactList}\small\item\em Request buffers allocation from SO. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a84e43b6054a1d84002c1d060aef1bf84}{request\+\_\+buffers} (struct v4l2\+\_\+requestbuffers $\ast$req\+\_\+buff)
\item 
bool \hyperlink{classv4lcap_a874905b9c6c785294fa7487a844cb841}{request\+\_\+buffers\+\_\+mmap} (struct v4l2\+\_\+requestbuffers $\ast$req\+\_\+buff, int nbuffers)
\item 
bool \hyperlink{classv4lcap_a238573a18b367ebc812a49f4f1917012}{query\+\_\+buffer} (struct v4l2\+\_\+buffer $\ast$\hyperlink{structv4lcap_1_1buffer}{buffer})
\begin{DoxyCompactList}\small\item\em Query buffers to camera. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_ad3cb2800d0606ec4ade6fd78f52a56cd}{query\+\_\+buffer} (struct v4l2\+\_\+buffer $\ast$buf, unsigned int \hyperlink{classstd_1_1conditional_1_1type}{type}, unsigned int memory, unsigned int index)
\item 
bool \hyperlink{classv4lcap_a6e853d36a5e4c7959f36cc0669389c4a}{query\+\_\+buffer} (struct v4l2\+\_\+buffer $\ast$buf, enum v4l2\+\_\+buf\+\_\+type \hyperlink{classstd_1_1conditional_1_1type}{type}, enum v4l2\+\_\+memory memory, unsigned int index)
\item 
bool \hyperlink{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}{enqueue\+\_\+buff} (struct v4l2\+\_\+buffer $\ast$vbuf)
\begin{DoxyCompactList}\small\item\em Enqueue requested buffers and set capture params. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_acf3b811bf1d1db9842fef40e930813d7}{enqueue\+\_\+buff} (struct v4l2\+\_\+buffer $\ast$vbuf, enum v4l2\+\_\+buf\+\_\+type buf\+\_\+type, enum v4l2\+\_\+memory memory, int index)
\item 
bool \hyperlink{classv4lcap_a8a93dd2fbae2c781d2dde65433198cff}{enqueue\+\_\+buff} (struct v4l2\+\_\+buffer $\ast$vbuf, unsigned int buf\+\_\+type, unsigned int memory, int index)
\item 
bool \hyperlink{classv4lcap_a73678c131c1ac6c555be3ea125be08da}{dequeue\+\_\+buff} (struct v4l2\+\_\+buffer $\ast$vbuf)
\begin{DoxyCompactList}\small\item\em Dequeue buffers allocated. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aeb01cf9f6ded716a28f23e0be13d7ca5}{dequeue\+\_\+buff} (struct v4l2\+\_\+buffer $\ast$vbuf, enum v4l2\+\_\+buf\+\_\+type buf\+\_\+type, enum v4l2\+\_\+memory memory, bool $\ast$again)
\item 
bool \hyperlink{classv4lcap_a8968da9e151ee6048cb179e62d3b088f}{dequeue\+\_\+buff} (struct v4l2\+\_\+buffer $\ast$vbuf, unsigned int buf\+\_\+type, unsigned int memory, bool $\ast$again)
\item 
bool \hyperlink{classv4lcap_adc14ff929732ccd31b790bc118cfd06a}{init\+\_\+mmap} (struct v4l2\+\_\+requestbuffers $\ast$req\+\_\+buff)
\begin{DoxyCompactList}\small\item\em Get current format of data, request buffers from mmap, allocate buffers and map memory allocated. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a717dc56b523519e90853137346b6f7f7}{enum\+\_\+audio\+\_\+input} (struct v4l2\+\_\+audio $\ast$audio, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em Enumerate audio inputs. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a7a34a4f4c08c561059982b727e607bac}{enum\+\_\+audio\+\_\+output} (struct v4l2\+\_\+audioout $\ast$audiout, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em Enumerate audio outputs. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_ae798bdeaf8df06318f30140fe5a2af72}{enum\+\_\+dv\+\_\+timings} (...)
\begin{DoxyCompactList}\small\item\em Enumerate supported Digital Video timings. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a4f5a8ccdd2a75e9d2f2d4d541fdb84dd}{enum\+\_\+image\+\_\+format} (int \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, struct v4l2\+\_\+fmtdesc $\ast$fmtdesc)
\begin{DoxyCompactList}\small\item\em Enumerate image formats. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aafc2292c8ca86a45d42874ed4ca1c467}{enum\+\_\+image\+\_\+format} (struct v4l2\+\_\+fmtdesc $\ast$fmtdesc, int index=0, bool init=false)
\item 
bool \hyperlink{classv4lcap_a6b806d7b2bfce38081f71fe01f380f6f}{enum\+\_\+frame\+\_\+size} (struct v4l2\+\_\+frmsizeenum $\ast$frmsize, int pixel\+\_\+format, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em Enumerate frame sizes. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_af4e34a5583945f2d24dd0cb298b5e191}{enum\+\_\+frame\+\_\+interval} (struct v4l2\+\_\+frmivalenum $\ast$frmi, int pixel\+\_\+format, int width, int height, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em enumerate frame intervals \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a16a988e0ba3bce064c88d17d54551821}{enum\+\_\+video\+\_\+freq\+\_\+bands} (...)
\begin{DoxyCompactList}\small\item\em Enumerate supported frequency bands. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a77a9eda7d80dcf417afd97e6417d900b}{enum\+\_\+video\+\_\+input} (struct v4l2\+\_\+input $\ast$input, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em Enumerate video inputs. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aca4167638528670f624a7e8676aeeb84}{enum\+\_\+video\+\_\+output} (struct v4l2\+\_\+output $\ast$output, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em Enumerate video outputs. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a236476c3f736c1870a63ed79f4c1d5a9}{enum\+\_\+video\+\_\+standard} (struct v4l2\+\_\+standard $\ast$std, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em Enumerate supported video. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_a5ebdba4ccfce2572c143e6a291ef17ae}{enum\+\_\+control\+\_\+user\+\_\+base} (struct v4l2\+\_\+queryctrl $\ast$qctrl, bool init=false)
\item 
bool \hyperlink{classv4lcap_a8d3a9ba9c833aca83f339ba1a9965bf0}{enum\+\_\+control\+\_\+private\+\_\+base} (struct v4l2\+\_\+queryctrl $\ast$qctrl, bool init=false)
\item 
bool \hyperlink{classv4lcap_a34897884f1bfc348eea63d49d09417f7}{enum\+\_\+control\+\_\+default} (struct v4l2\+\_\+queryctrl $\ast$qctrl, bool init=false)
\item 
bool \hyperlink{classv4lcap_a240c44f236eac63c0e76c81473170ef9}{show\+\_\+controls} ()
\item 
bool \hyperlink{classv4lcap_a9d192d856a6f4243a4a4508beef2e211}{enum\+\_\+control\+\_\+menu} (struct v4l2\+\_\+querymenu $\ast$qmenu, v4l2\+\_\+queryctrl \&ctrl, int index=0, bool init=false)
\begin{DoxyCompactList}\small\item\em Fills menu controll with values. \end{DoxyCompactList}\item 
bool \hyperlink{classv4lcap_aedf12169721a174af1c2eea5244ff5d7}{set\+\_\+format} (struct v4l2\+\_\+format $\ast$fmt)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \hyperlink{classv4lcap_a4949a041b3096de1d98336eb8921b7c7}{enum\+\_\+device\+\_\+name} (char device\mbox{[}16\mbox{]}, int ndev\+\_\+max, bool init=false)
\begin{DoxyCompactList}\small\item\em Search and returns the path name of device that could be opened in the host by. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}
\item 
bool \hyperlink{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}{emulate\+\_\+format}
\item 
bool \hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\+\_\+convert}
\item 
struct v4l2\+\_\+format format\+\_\+src \hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\+\_\+dest}
\begin{DoxyCompactList}\small\item\em Video format that the cam\textquotesingle{}s video should be returned, if not null. If format is not supported, this will change to another one.  Gets the format from de camera.  Destination format of the video. \end{DoxyCompactList}\item 
struct v4lconvert\+\_\+data $\ast$ \hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv}
\begin{DoxyCompactList}\small\item\em Data obtained from camera. \end{DoxyCompactList}\item 
struct v4l2\+\_\+requestbuffers \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}
\item 
unsigned int \hyperlink{classv4lcap_ae90192b024d952b464408e0ffd95d90a}{status}
\item 
struct \hyperlink{structv4lcap_1_1buffer__holder}{buffer\+\_\+holder} \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 20 of file v4lcap.\+hpp.



\subsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv4lcap_a54af28c37f6a06c466390050290b8a5f}\label{classv4lcap_a54af28c37f6a06c466390050290b8a5f}} 
\index{v4lcap@{v4lcap}!device\+\_\+status@{device\+\_\+status}}
\index{device\+\_\+status@{device\+\_\+status}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{device\+\_\+status}{device\_status}}
{\footnotesize\ttfamily enum \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5f}{v4lcap\+::device\+\_\+status}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{O\+P\+E\+N\+ED@{O\+P\+E\+N\+ED}!v4lcap@{v4lcap}}\index{v4lcap@{v4lcap}!O\+P\+E\+N\+ED@{O\+P\+E\+N\+ED}}}\mbox{\Hypertarget{classv4lcap_a54af28c37f6a06c466390050290b8a5fa4015ad97149ce726bbc1843cb9527972}\label{classv4lcap_a54af28c37f6a06c466390050290b8a5fa4015ad97149ce726bbc1843cb9527972}} 
O\+P\+E\+N\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+M\+A\+P\+\_\+\+I\+N\+IT@{M\+M\+A\+P\+\_\+\+I\+N\+IT}!v4lcap@{v4lcap}}\index{v4lcap@{v4lcap}!M\+M\+A\+P\+\_\+\+I\+N\+IT@{M\+M\+A\+P\+\_\+\+I\+N\+IT}}}\mbox{\Hypertarget{classv4lcap_a54af28c37f6a06c466390050290b8a5fa13fe1706c834cc277398a59fa0722bdb}\label{classv4lcap_a54af28c37f6a06c466390050290b8a5fa13fe1706c834cc277398a59fa0722bdb}} 
M\+M\+A\+P\+\_\+\+I\+N\+IT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+T\+R\+E\+A\+M\+\_\+\+ON@{S\+T\+R\+E\+A\+M\+\_\+\+ON}!v4lcap@{v4lcap}}\index{v4lcap@{v4lcap}!S\+T\+R\+E\+A\+M\+\_\+\+ON@{S\+T\+R\+E\+A\+M\+\_\+\+ON}}}\mbox{\Hypertarget{classv4lcap_a54af28c37f6a06c466390050290b8a5fa50f1c16a61587c54c5bf5f95b3802625}\label{classv4lcap_a54af28c37f6a06c466390050290b8a5fa50f1c16a61587c54c5bf5f95b3802625}} 
S\+T\+R\+E\+A\+M\+\_\+\+ON&\\
\hline

\end{DoxyEnumFields}


Definition at line 50 of file v4lcap.\+hpp.


\begin{DoxyCode}
50                        \{
51         \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa4015ad97149ce726bbc1843cb9527972}{OPENED} = 1 << 0, \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa13fe1706c834cc277398a59fa0722bdb}{MMAP\_INIT} = 1 << 1, \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa50f1c16a61587c54c5bf5f95b3802625}{STREAM\_ON} = 1 << 2
52     \};
\end{DoxyCode}
\mbox{\Hypertarget{classv4lcap_aae799230441b7965d8947b104d8d753e}\label{classv4lcap_aae799230441b7965d8947b104d8d753e}} 
\index{v4lcap@{v4lcap}!memory\+\_\+type@{memory\+\_\+type}}
\index{memory\+\_\+type@{memory\+\_\+type}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{memory\+\_\+type}{memory\_type}}
{\footnotesize\ttfamily enum \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753e}{v4lcap\+::memory\+\_\+type}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+E\+M\+\_\+\+R\+E\+AD@{M\+E\+M\+\_\+\+R\+E\+AD}!v4lcap@{v4lcap}}\index{v4lcap@{v4lcap}!M\+E\+M\+\_\+\+R\+E\+AD@{M\+E\+M\+\_\+\+R\+E\+AD}}}\mbox{\Hypertarget{classv4lcap_aae799230441b7965d8947b104d8d753eaa973888f299d63462efa19c3e52d416c}\label{classv4lcap_aae799230441b7965d8947b104d8d753eaa973888f299d63462efa19c3e52d416c}} 
M\+E\+M\+\_\+\+R\+E\+AD&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+E\+M\+\_\+\+M\+M\+AP@{M\+E\+M\+\_\+\+M\+M\+AP}!v4lcap@{v4lcap}}\index{v4lcap@{v4lcap}!M\+E\+M\+\_\+\+M\+M\+AP@{M\+E\+M\+\_\+\+M\+M\+AP}}}\mbox{\Hypertarget{classv4lcap_aae799230441b7965d8947b104d8d753ea910bccf6fae3859b962b253fca85ad2a}\label{classv4lcap_aae799230441b7965d8947b104d8d753ea910bccf6fae3859b962b253fca85ad2a}} 
M\+E\+M\+\_\+\+M\+M\+AP&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+E\+M\+\_\+\+U\+S\+ER@{M\+E\+M\+\_\+\+U\+S\+ER}!v4lcap@{v4lcap}}\index{v4lcap@{v4lcap}!M\+E\+M\+\_\+\+U\+S\+ER@{M\+E\+M\+\_\+\+U\+S\+ER}}}\mbox{\Hypertarget{classv4lcap_aae799230441b7965d8947b104d8d753ea30efcf7ca101412a17c617333e1bb064}\label{classv4lcap_aae799230441b7965d8947b104d8d753ea30efcf7ca101412a17c617333e1bb064}} 
M\+E\+M\+\_\+\+U\+S\+ER&\\
\hline

\end{DoxyEnumFields}


Definition at line 23 of file v4lcap.\+hpp.


\begin{DoxyCode}
23                      \{
24         \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753eaa973888f299d63462efa19c3e52d416c}{MEM\_READ}, \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753ea910bccf6fae3859b962b253fca85ad2a}{MEM\_MMAP}, \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753ea30efcf7ca101412a17c617333e1bb064}{MEM\_USER}
25     \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv4lcap_adacb93ad544708ef99c5cca4202e7c93}\label{classv4lcap_adacb93ad544708ef99c5cca4202e7c93}} 
\index{v4lcap@{v4lcap}!v4lcap@{v4lcap}}
\index{v4lcap@{v4lcap}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{v4lcap()}{v4lcap()}}
{\footnotesize\ttfamily v4lcap\+::v4lcap (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 26 of file v4lcap.\+cpp.


\begin{DoxyCode}
26 : \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}(0), \hyperlink{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}{emulate\_format}(\textcolor{keyword}{true}), \hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert}(\textcolor{keyword}{false}), 
      \hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv}(NULL), \hyperlink{classv4lcap_ae90192b024d952b464408e0ffd95d90a}{status}(0), \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}() \{\}
\end{DoxyCode}
\mbox{\Hypertarget{classv4lcap_aa1aaea89befb94cdf3dbb24bf758078f}\label{classv4lcap_aa1aaea89befb94cdf3dbb24bf758078f}} 
\index{v4lcap@{v4lcap}!````~v4lcap@{$\sim$v4lcap}}
\index{````~v4lcap@{$\sim$v4lcap}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{$\sim$v4lcap()}{~v4lcap()}}
{\footnotesize\ttfamily v4lcap\+::$\sim$v4lcap (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 28 of file v4lcap.\+cpp.



References close\+\_\+device().


\begin{DoxyCode}
28                 \{
29     \hyperlink{classv4lcap_adbb658a6f3248f24ee7926722e76ca43}{close\_device}();
30 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 1


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classv4lcap_adbb658a6f3248f24ee7926722e76ca43}\label{classv4lcap_adbb658a6f3248f24ee7926722e76ca43}} 
\index{v4lcap@{v4lcap}!close\+\_\+device@{close\+\_\+device}}
\index{close\+\_\+device@{close\+\_\+device}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{close\+\_\+device()}{close\_device()}}
{\footnotesize\ttfamily bool v4lcap\+::close\+\_\+device (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Close camera communication with pc. 

\begin{DoxyReturn}{Returns}
true If close goes right 

false Can\textquotesingle{}t close webcam communication 
\end{DoxyReturn}


Definition at line 462 of file v4lcap.\+cpp.



References emulate\+\_\+format, fd, M\+M\+A\+P\+\_\+\+I\+N\+IT, O\+P\+E\+N\+ED, status, S\+T\+R\+E\+A\+M\+\_\+\+ON, streamoff(), uninit\+\_\+mmap(), and v4lconv.



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+device\+\_\+changed(), open\+\_\+device(), and $\sim$v4lcap().


\begin{DoxyCode}
462                           \{
463     \textcolor{keywordflow}{if}(!(\hyperlink{classv4lcap_ae90192b024d952b464408e0ffd95d90a}{status} & \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa4015ad97149ce726bbc1843cb9527972}{OPENED})) \textcolor{keywordflow}{return} \textcolor{keyword}{true};
464     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_ae90192b024d952b464408e0ffd95d90a}{status} & \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa50f1c16a61587c54c5bf5f95b3802625}{STREAM\_ON}) \hyperlink{classv4lcap_ae15aa5107e993df45eb358a842d97e55}{streamoff}(V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE);
465     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_ae90192b024d952b464408e0ffd95d90a}{status} & \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa13fe1706c834cc277398a59fa0722bdb}{MMAP\_INIT}) \hyperlink{classv4lcap_aafab5fd381c1d5858cd87f42560a40ab}{uninit\_mmap}();
466 
467     \textcolor{keywordtype}{int} r = 0;
468 
469     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv}) v4lconvert\_destroy(\hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv});
470 
471     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}{emulate\_format}) r = v4l2\_close(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd});
472     \textcolor{keywordflow}{else} r = close(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd});
473 
474     \textcolor{keywordflow}{if}(r < 0) \{
475         cout << \textcolor{stringliteral}{"Unable to close device!"} << endl;
476         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
477     \}
478 
479     \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd} = 0;
480 
481     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
482 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{classv4lcap_a73678c131c1ac6c555be3ea125be08da}\label{classv4lcap_a73678c131c1ac6c555be3ea125be08da}} 
\index{v4lcap@{v4lcap}!dequeue\+\_\+buff@{dequeue\+\_\+buff}}
\index{dequeue\+\_\+buff@{dequeue\+\_\+buff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{dequeue\+\_\+buff()}{dequeue\_buff()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool v4lcap\+::dequeue\+\_\+buff (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{vbuf }\end{DoxyParamCaption})}



Dequeue buffers allocated. 


\begin{DoxyParams}{Parameters}
{\em vbuf} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 150 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by dequeue\+\_\+buff(), grab\+\_\+raw(), and grab\+\_\+rgb().


\begin{DoxyCode}
150                                                    \{
151     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_DQBUF, vbuf) >= 0;
152 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 4
Here is the caller graph for this function\+:
% FIG 5
\mbox{\Hypertarget{classv4lcap_aeb01cf9f6ded716a28f23e0be13d7ca5}\label{classv4lcap_aeb01cf9f6ded716a28f23e0be13d7ca5}} 
\index{v4lcap@{v4lcap}!dequeue\+\_\+buff@{dequeue\+\_\+buff}}
\index{dequeue\+\_\+buff@{dequeue\+\_\+buff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{dequeue\+\_\+buff()}{dequeue\_buff()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool v4lcap\+::dequeue\+\_\+buff (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{vbuf,  }\item[{enum v4l2\+\_\+buf\+\_\+type}]{buf\+\_\+type,  }\item[{enum v4l2\+\_\+memory}]{memory,  }\item[{bool $\ast$}]{again }\end{DoxyParamCaption})}



Definition at line 166 of file v4lcap.\+cpp.



References dequeue\+\_\+buff().


\begin{DoxyCode}
166                                                                                                            
                  \{
167 
168     memset(vbuf, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} v4l2\_buffer));
169     vbuf->type = buf\_type;
170     vbuf->memory = memory;
171     \textcolor{keywordtype}{int} r = \hyperlink{classv4lcap_a73678c131c1ac6c555be3ea125be08da}{dequeue\_buff}(vbuf);
172 
173     \textcolor{comment}{// if the buffer is not avaliable, try again.}
174     *again = (r < 0) && (errno == EAGAIN);
175 
176     \textcolor{keywordflow}{return}(r >= 0) || (*again);
177 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 6
\mbox{\Hypertarget{classv4lcap_a8968da9e151ee6048cb179e62d3b088f}\label{classv4lcap_a8968da9e151ee6048cb179e62d3b088f}} 
\index{v4lcap@{v4lcap}!dequeue\+\_\+buff@{dequeue\+\_\+buff}}
\index{dequeue\+\_\+buff@{dequeue\+\_\+buff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{dequeue\+\_\+buff()}{dequeue\_buff()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily bool v4lcap\+::dequeue\+\_\+buff (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{vbuf,  }\item[{unsigned int}]{buf\+\_\+type,  }\item[{unsigned int}]{memory,  }\item[{bool $\ast$}]{again }\end{DoxyParamCaption})}



Definition at line 154 of file v4lcap.\+cpp.



References dequeue\+\_\+buff().


\begin{DoxyCode}
154                                                                                                            
        \{
155     memset(vbuf, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} v4l2\_buffer));
156     vbuf->type = buf\_type;
157     vbuf->memory = memory;
158     \textcolor{keywordtype}{int} r = \hyperlink{classv4lcap_a73678c131c1ac6c555be3ea125be08da}{dequeue\_buff}(vbuf);
159 
160     \textcolor{comment}{// if the buffer is not avaliable, try again.}
161     *again = (r < 0) && (errno == EAGAIN);
162 
163     \textcolor{keywordflow}{return}(r >= 0) || (*again);
164 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 7
\mbox{\Hypertarget{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}\label{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}} 
\index{v4lcap@{v4lcap}!enqueue\+\_\+buff@{enqueue\+\_\+buff}}
\index{enqueue\+\_\+buff@{enqueue\+\_\+buff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enqueue\+\_\+buff()}{enqueue\_buff()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool v4lcap\+::enqueue\+\_\+buff (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{vbuf }\end{DoxyParamCaption})}



Enqueue requested buffers and set capture params. 


\begin{DoxyParams}{Parameters}
{\em vbuf} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 128 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by enqueue\+\_\+buff(), grab\+\_\+raw(), grab\+\_\+rgb(), and start\+\_\+capturing().


\begin{DoxyCode}
128                                                    \{
129     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_QBUF, vbuf) >= 0;
130 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 8
Here is the caller graph for this function\+:
% FIG 9
\mbox{\Hypertarget{classv4lcap_acf3b811bf1d1db9842fef40e930813d7}\label{classv4lcap_acf3b811bf1d1db9842fef40e930813d7}} 
\index{v4lcap@{v4lcap}!enqueue\+\_\+buff@{enqueue\+\_\+buff}}
\index{enqueue\+\_\+buff@{enqueue\+\_\+buff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enqueue\+\_\+buff()}{enqueue\_buff()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool v4lcap\+::enqueue\+\_\+buff (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{vbuf,  }\item[{enum v4l2\+\_\+buf\+\_\+type}]{buf\+\_\+type,  }\item[{enum v4l2\+\_\+memory}]{memory,  }\item[{int}]{index }\end{DoxyParamCaption})}



Definition at line 132 of file v4lcap.\+cpp.



References enqueue\+\_\+buff().


\begin{DoxyCode}
132                                                                                                            
               \{
133     memset(vbuf, 0, \textcolor{keyword}{sizeof}(*vbuf));
134     vbuf->type = buf\_type;
135     vbuf->memory = memory;
136     vbuf->index = index;
137 
138     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}{enqueue\_buff}(vbuf);
139 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 10
\mbox{\Hypertarget{classv4lcap_a8a93dd2fbae2c781d2dde65433198cff}\label{classv4lcap_a8a93dd2fbae2c781d2dde65433198cff}} 
\index{v4lcap@{v4lcap}!enqueue\+\_\+buff@{enqueue\+\_\+buff}}
\index{enqueue\+\_\+buff@{enqueue\+\_\+buff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enqueue\+\_\+buff()}{enqueue\_buff()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily bool v4lcap\+::enqueue\+\_\+buff (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{vbuf,  }\item[{unsigned int}]{buf\+\_\+type,  }\item[{unsigned int}]{memory,  }\item[{int}]{index }\end{DoxyParamCaption})}



Definition at line 141 of file v4lcap.\+cpp.



References enqueue\+\_\+buff().


\begin{DoxyCode}
141                                                                                                           \{
142     memset(vbuf, 0, \textcolor{keyword}{sizeof}(*vbuf));
143     vbuf->type = buf\_type;
144     vbuf->memory = memory;
145     vbuf->index = index;
146 
147     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}{enqueue\_buff}(vbuf);
148 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 11
\mbox{\Hypertarget{classv4lcap_a717dc56b523519e90853137346b6f7f7}\label{classv4lcap_a717dc56b523519e90853137346b6f7f7}} 
\index{v4lcap@{v4lcap}!enum\+\_\+audio\+\_\+input@{enum\+\_\+audio\+\_\+input}}
\index{enum\+\_\+audio\+\_\+input@{enum\+\_\+audio\+\_\+input}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+audio\+\_\+input()}{enum\_audio\_input()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+audio\+\_\+input (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+audio $\ast$}]{audio,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Enumerate audio inputs. 


\begin{DoxyParams}{Parameters}
{\em audio} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 575 of file v4lcap.\+cpp.



References fd, and xioctl().


\begin{DoxyCode}
575                                                                              \{
576     \textcolor{keywordflow}{if}(init) audio->index = index;
577     \textcolor{keywordflow}{else} ++audio->index;
578 
579     audio->reserved[0] = 0;
580     audio->reserved[1] = 0;
581 
582     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUMAUDIO, audio) >= 0;
583 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 12
\mbox{\Hypertarget{classv4lcap_a7a34a4f4c08c561059982b727e607bac}\label{classv4lcap_a7a34a4f4c08c561059982b727e607bac}} 
\index{v4lcap@{v4lcap}!enum\+\_\+audio\+\_\+output@{enum\+\_\+audio\+\_\+output}}
\index{enum\+\_\+audio\+\_\+output@{enum\+\_\+audio\+\_\+output}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+audio\+\_\+output()}{enum\_audio\_output()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+audio\+\_\+output (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+audioout $\ast$}]{audiout,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Enumerate audio outputs. 


\begin{DoxyParams}{Parameters}
{\em audiout} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 585 of file v4lcap.\+cpp.



References fd, and xioctl().


\begin{DoxyCode}
585                                                                                    \{
586     \textcolor{keywordflow}{if}(init) audiout->index = index;
587     \textcolor{keywordflow}{else} ++audiout->index;
588 
589     audiout->reserved[0] = 0;
590     audiout->reserved[1] = 0;
591 
592     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUMAUDOUT, audiout) >= 0;
593 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 13
\mbox{\Hypertarget{classv4lcap_a34897884f1bfc348eea63d49d09417f7}\label{classv4lcap_a34897884f1bfc348eea63d49d09417f7}} 
\index{v4lcap@{v4lcap}!enum\+\_\+control\+\_\+default@{enum\+\_\+control\+\_\+default}}
\index{enum\+\_\+control\+\_\+default@{enum\+\_\+control\+\_\+default}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+control\+\_\+default()}{enum\_control\_default()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+control\+\_\+default (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+queryctrl $\ast$}]{qctrl,  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em qctrl} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 656 of file v4lcap.\+cpp.



References query\+\_\+control().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+make\+\_\+control\+\_\+list\+\_\+default().


\begin{DoxyCode}
656                                                                           \{
657     \textcolor{keywordflow}{if}(init) qctrl->id = V4L2\_CTRL\_FLAG\_NEXT\_CTRL;
658     \textcolor{keywordflow}{else} qctrl->id |= V4L2\_CTRL\_FLAG\_NEXT\_CTRL;
659 
660     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}{query\_control}(qctrl);
661 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 14
Here is the caller graph for this function\+:
% FIG 15
\mbox{\Hypertarget{classv4lcap_a9d192d856a6f4243a4a4508beef2e211}\label{classv4lcap_a9d192d856a6f4243a4a4508beef2e211}} 
\index{v4lcap@{v4lcap}!enum\+\_\+control\+\_\+menu@{enum\+\_\+control\+\_\+menu}}
\index{enum\+\_\+control\+\_\+menu@{enum\+\_\+control\+\_\+menu}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+control\+\_\+menu()}{enum\_control\_menu()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+control\+\_\+menu (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+querymenu $\ast$}]{qmenu,  }\item[{v4l2\+\_\+queryctrl \&}]{ctrl,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Fills menu controll with values. 


\begin{DoxyParams}{Parameters}
{\em qmenu} & Pointer to menu \\
\hline
{\em ctrl} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 687 of file v4lcap.\+cpp.



References query\+\_\+control\+\_\+menu().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+make\+\_\+control\+\_\+list\+\_\+default().


\begin{DoxyCode}
687                                                                                                            
           \{
688     \textcolor{keywordflow}{if}(init) \{
689         \textcolor{comment}{//memset(qmenu, 0, sizeof(struct v4l2\_querymenu));}
690         qmenu->id = ctrl.id;
691         qmenu->index = ctrl.minimum;
692     \} \textcolor{keywordflow}{else} qmenu->index++;
693 
694     \textcolor{keywordflow}{if}((\textcolor{keywordtype}{int}) qmenu->index > ctrl.maximum)
695         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
696 
697     \textcolor{keywordflow}{while}(!\hyperlink{classv4lcap_aa23f5ba6c1828dc3af8258d8a33b95e4}{query\_control\_menu}(qmenu))
698         qmenu->index++;
699 
700     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
701 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 16
Here is the caller graph for this function\+:
% FIG 17
\mbox{\Hypertarget{classv4lcap_a8d3a9ba9c833aca83f339ba1a9965bf0}\label{classv4lcap_a8d3a9ba9c833aca83f339ba1a9965bf0}} 
\index{v4lcap@{v4lcap}!enum\+\_\+control\+\_\+private\+\_\+base@{enum\+\_\+control\+\_\+private\+\_\+base}}
\index{enum\+\_\+control\+\_\+private\+\_\+base@{enum\+\_\+control\+\_\+private\+\_\+base}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+control\+\_\+private\+\_\+base()}{enum\_control\_private\_base()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+control\+\_\+private\+\_\+base (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+queryctrl $\ast$}]{qctrl,  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em qctrl} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 678 of file v4lcap.\+cpp.



References query\+\_\+control().


\begin{DoxyCode}
678                                                                                \{
679     \textcolor{keywordflow}{if}(init) qctrl->id = V4L2\_CID\_PRIVATE\_BASE;
680     \textcolor{keywordflow}{else} ++qctrl->id;
681 
682     \textcolor{keywordflow}{if} (!\hyperlink{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}{query\_control}(qctrl)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
683 
684     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
685 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 18
\mbox{\Hypertarget{classv4lcap_a5ebdba4ccfce2572c143e6a291ef17ae}\label{classv4lcap_a5ebdba4ccfce2572c143e6a291ef17ae}} 
\index{v4lcap@{v4lcap}!enum\+\_\+control\+\_\+user\+\_\+base@{enum\+\_\+control\+\_\+user\+\_\+base}}
\index{enum\+\_\+control\+\_\+user\+\_\+base@{enum\+\_\+control\+\_\+user\+\_\+base}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+control\+\_\+user\+\_\+base()}{enum\_control\_user\_base()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+control\+\_\+user\+\_\+base (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+queryctrl $\ast$}]{qctrl,  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em qctrl} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 663 of file v4lcap.\+cpp.



References query\+\_\+control().


\begin{DoxyCode}
663                                                                             \{
664     \textcolor{keywordflow}{if}(init) qctrl->id = V4L2\_CID\_BASE;
665     \textcolor{keywordflow}{else} \{
666         ++qctrl->id;
667         \textcolor{keywordflow}{if} (qctrl->id >= V4L2\_CID\_LASTP1) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
668     \}
669 
670     \textcolor{keywordflow}{while}(!\hyperlink{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}{query\_control}(qctrl)) \{
671         ++qctrl->id;
672         \textcolor{keywordflow}{if} (qctrl->id > V4L2\_CID\_LASTP1) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
673     \}
674 
675     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
676 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 19
\mbox{\Hypertarget{classv4lcap_a4949a041b3096de1d98336eb8921b7c7}\label{classv4lcap_a4949a041b3096de1d98336eb8921b7c7}} 
\index{v4lcap@{v4lcap}!enum\+\_\+device\+\_\+name@{enum\+\_\+device\+\_\+name}}
\index{enum\+\_\+device\+\_\+name@{enum\+\_\+device\+\_\+name}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+device\+\_\+name()}{enum\_device\_name()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+device\+\_\+name (\begin{DoxyParamCaption}\item[{char}]{device\mbox{[}16\mbox{]},  }\item[{int}]{ndev\+\_\+max,  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Search and returns the path name of device that could be opened in the host by. 


\begin{DoxyParams}{Parameters}
{\em device} & Path name of the device that will be filled inside the method. \\
\hline
{\em ndev\+\_\+max} & Max number of devices (cameras) on host. \\
\hline
{\em init} & Boolean trigger the method. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true Camera was found and the name will be filled inside \textquotesingle{}device\textquotesingle{} param. 

false Camera was not found. 
\end{DoxyReturn}


Definition at line 45 of file v4lcap.\+cpp.



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+device().


\begin{DoxyCode}
45                                                                       \{
46     \textcolor{keyword}{static} \textcolor{keywordtype}{int} \_\_dev\_count = 0;
47     \textcolor{keywordtype}{bool} not\_found = \textcolor{keyword}{true};
48     \textcolor{keyword}{struct }stat st;
49 
50     \textcolor{keywordflow}{if}(init) \_\_dev\_count = 0;
51 
52     \textcolor{keywordflow}{while}(not\_found && \_\_dev\_count < ndev\_max) \{
53         snprintf(device, 15, \textcolor{stringliteral}{"/dev/video%d"}, \_\_dev\_count);
54         ++\_\_dev\_count;
55 
56         \textcolor{keywordflow}{if}(stat(device, &st) != 0) \textcolor{keywordflow}{continue};
57 
58         not\_found = \textcolor{keyword}{false};
59     \}
60 
61     \textcolor{keywordflow}{return} !not\_found;
62 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 20
\mbox{\Hypertarget{classv4lcap_ae798bdeaf8df06318f30140fe5a2af72}\label{classv4lcap_ae798bdeaf8df06318f30140fe5a2af72}} 
\index{v4lcap@{v4lcap}!enum\+\_\+dv\+\_\+timings@{enum\+\_\+dv\+\_\+timings}}
\index{enum\+\_\+dv\+\_\+timings@{enum\+\_\+dv\+\_\+timings}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+dv\+\_\+timings()}{enum\_dv\_timings()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+dv\+\_\+timings (\begin{DoxyParamCaption}\item[{}]{... }\end{DoxyParamCaption})}



Enumerate supported Digital Video timings. 


\begin{DoxyParams}{Parameters}
{\em ...} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\mbox{\Hypertarget{classv4lcap_af4e34a5583945f2d24dd0cb298b5e191}\label{classv4lcap_af4e34a5583945f2d24dd0cb298b5e191}} 
\index{v4lcap@{v4lcap}!enum\+\_\+frame\+\_\+interval@{enum\+\_\+frame\+\_\+interval}}
\index{enum\+\_\+frame\+\_\+interval@{enum\+\_\+frame\+\_\+interval}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+frame\+\_\+interval()}{enum\_frame\_interval()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+frame\+\_\+interval (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+frmivalenum $\ast$}]{frmi,  }\item[{int}]{pixel\+\_\+format,  }\item[{int}]{width,  }\item[{int}]{height,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



enumerate frame intervals 


\begin{DoxyParams}{Parameters}
{\em frmi} & \\
\hline
{\em pixel\+\_\+format} & \\
\hline
{\em width} & \\
\hline
{\em height} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 624 of file v4lcap.\+cpp.



References fd, C\+O\+N\+S\+T\+::height, C\+O\+N\+S\+T\+::width, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+frame\+\_\+interval().


\begin{DoxyCode}
624                                                                                                            
                         \{
625     \textcolor{keywordflow}{if}(init) frmi->index = 0;
626     \textcolor{keywordflow}{else} ++frmi->index;
627 
628     frmi->pixel\_format = pixel\_format;
629     frmi->width = \hyperlink{namespace_c_o_n_s_t_afd10469262c8cf9aec66ca799bfea24c}{width};
630     frmi->height = \hyperlink{namespace_c_o_n_s_t_a9805ca9eb67b8225c60697567283175d}{height};
631 
632     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUM\_FRAMEINTERVALS, frmi) >= 0;
633 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 21
Here is the caller graph for this function\+:
% FIG 22
\mbox{\Hypertarget{classv4lcap_a6b806d7b2bfce38081f71fe01f380f6f}\label{classv4lcap_a6b806d7b2bfce38081f71fe01f380f6f}} 
\index{v4lcap@{v4lcap}!enum\+\_\+frame\+\_\+size@{enum\+\_\+frame\+\_\+size}}
\index{enum\+\_\+frame\+\_\+size@{enum\+\_\+frame\+\_\+size}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+frame\+\_\+size()}{enum\_frame\_size()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+frame\+\_\+size (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+frmsizeenum $\ast$}]{frmsize,  }\item[{int}]{pixel\+\_\+format,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Enumerate frame sizes. 


\begin{DoxyParams}{Parameters}
{\em frmsize} & \\
\hline
{\em pixel\+\_\+format} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 615 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+frame\+\_\+size().


\begin{DoxyCode}
615                                                                                                       \{
616     \textcolor{keywordflow}{if}(init) frmsize->index = index;
617     \textcolor{keywordflow}{else} ++frmsize->index;
618 
619     frmsize->pixel\_format = pixel\_format;
620 
621     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUM\_FRAMESIZES, frmsize) >= 0;
622 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 23
Here is the caller graph for this function\+:
% FIG 24
\mbox{\Hypertarget{classv4lcap_a4f5a8ccdd2a75e9d2f2d4d541fdb84dd}\label{classv4lcap_a4f5a8ccdd2a75e9d2f2d4d541fdb84dd}} 
\index{v4lcap@{v4lcap}!enum\+\_\+image\+\_\+format@{enum\+\_\+image\+\_\+format}}
\index{enum\+\_\+image\+\_\+format@{enum\+\_\+image\+\_\+format}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+image\+\_\+format()}{enum\_image\_format()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+image\+\_\+format (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{struct v4l2\+\_\+fmtdesc $\ast$}]{fmtdesc }\end{DoxyParamCaption})}



Enumerate image formats. 


\begin{DoxyParams}{Parameters}
{\em fd} & \\
\hline
{\em fmtdesc} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 595 of file v4lcap.\+cpp.



References xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+format\+\_\+desc(), and enum\+\_\+image\+\_\+format().


\begin{DoxyCode}
595                                                                     \{
596     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUM\_FMT, fmtdesc) >= 0;
597 \textcolor{comment}{//      int r = xioctl(fd, VIDIOC\_ENUM\_FMT, fmtdesc);}
598 \textcolor{comment}{//      if (r >= 0) return true;}
599 \textcolor{comment}{//      if( EINVAL == errno ) perror("VIDIOC\_ENUM\_FMT");}
600 \textcolor{comment}{//      return false;}
601 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 25
Here is the caller graph for this function\+:
% FIG 26
\mbox{\Hypertarget{classv4lcap_aafc2292c8ca86a45d42874ed4ca1c467}\label{classv4lcap_aafc2292c8ca86a45d42874ed4ca1c467}} 
\index{v4lcap@{v4lcap}!enum\+\_\+image\+\_\+format@{enum\+\_\+image\+\_\+format}}
\index{enum\+\_\+image\+\_\+format@{enum\+\_\+image\+\_\+format}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+image\+\_\+format()}{enum\_image\_format()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+image\+\_\+format (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+fmtdesc $\ast$}]{fmtdesc,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Definition at line 603 of file v4lcap.\+cpp.



References enum\+\_\+image\+\_\+format(), and fd.


\begin{DoxyCode}
603                                                                                   \{
604     \textcolor{keywordflow}{if}(init) \{
605         memset(fmtdesc, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} v4l2\_fmtdesc));
606         fmtdesc->index = index;
607     \} \textcolor{keywordflow}{else} fmtdesc->index++;
608 
609     fmtdesc->type = V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE;
610 
611     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_a4f5a8ccdd2a75e9d2f2d4d541fdb84dd}{enum\_image\_format}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, fmtdesc);
612     \textcolor{comment}{//return xioctl(fd, VIDIOC\_ENUM\_FMT, fmtdesc) >= 0;}
613 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 27
\mbox{\Hypertarget{classv4lcap_a16a988e0ba3bce064c88d17d54551821}\label{classv4lcap_a16a988e0ba3bce064c88d17d54551821}} 
\index{v4lcap@{v4lcap}!enum\+\_\+video\+\_\+freq\+\_\+bands@{enum\+\_\+video\+\_\+freq\+\_\+bands}}
\index{enum\+\_\+video\+\_\+freq\+\_\+bands@{enum\+\_\+video\+\_\+freq\+\_\+bands}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+video\+\_\+freq\+\_\+bands()}{enum\_video\_freq\_bands()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+video\+\_\+freq\+\_\+bands (\begin{DoxyParamCaption}\item[{}]{... }\end{DoxyParamCaption})}



Enumerate supported frequency bands. 


\begin{DoxyParams}{Parameters}
{\em ...} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\mbox{\Hypertarget{classv4lcap_a77a9eda7d80dcf417afd97e6417d900b}\label{classv4lcap_a77a9eda7d80dcf417afd97e6417d900b}} 
\index{v4lcap@{v4lcap}!enum\+\_\+video\+\_\+input@{enum\+\_\+video\+\_\+input}}
\index{enum\+\_\+video\+\_\+input@{enum\+\_\+video\+\_\+input}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+video\+\_\+input()}{enum\_video\_input()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+video\+\_\+input (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+input $\ast$}]{input,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Enumerate video inputs. 


\begin{DoxyParams}{Parameters}
{\em input} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 635 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+input().


\begin{DoxyCode}
635                                                                              \{
636     \textcolor{keywordflow}{if}(init) input->index = index;
637     \textcolor{keywordflow}{else} ++input->index;
638 
639     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUMINPUT, input) >= 0;
640 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 28
Here is the caller graph for this function\+:
% FIG 29
\mbox{\Hypertarget{classv4lcap_aca4167638528670f624a7e8676aeeb84}\label{classv4lcap_aca4167638528670f624a7e8676aeeb84}} 
\index{v4lcap@{v4lcap}!enum\+\_\+video\+\_\+output@{enum\+\_\+video\+\_\+output}}
\index{enum\+\_\+video\+\_\+output@{enum\+\_\+video\+\_\+output}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+video\+\_\+output()}{enum\_video\_output()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+video\+\_\+output (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+output $\ast$}]{output,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Enumerate video outputs. 


\begin{DoxyParams}{Parameters}
{\em output} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 642 of file v4lcap.\+cpp.



References fd, and xioctl().


\begin{DoxyCode}
642                                                                                 \{
643     \textcolor{keywordflow}{if}(init) output->index = index;
644     \textcolor{keywordflow}{else} ++output->index;
645 
646     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUMOUTPUT, output) >= 0;
647 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 30
\mbox{\Hypertarget{classv4lcap_a236476c3f736c1870a63ed79f4c1d5a9}\label{classv4lcap_a236476c3f736c1870a63ed79f4c1d5a9}} 
\index{v4lcap@{v4lcap}!enum\+\_\+video\+\_\+standard@{enum\+\_\+video\+\_\+standard}}
\index{enum\+\_\+video\+\_\+standard@{enum\+\_\+video\+\_\+standard}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{enum\+\_\+video\+\_\+standard()}{enum\_video\_standard()}}
{\footnotesize\ttfamily bool v4lcap\+::enum\+\_\+video\+\_\+standard (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+standard $\ast$}]{std,  }\item[{int}]{index = {\ttfamily 0},  }\item[{bool}]{init = {\ttfamily false} }\end{DoxyParamCaption})}



Enumerate supported video. 


\begin{DoxyParams}{Parameters}
{\em std} & \\
\hline
{\em index} & \\
\hline
{\em init} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 649 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+standard(), and get\+\_\+standard().


\begin{DoxyCode}
649                                                                                  \{
650     \textcolor{keywordflow}{if}(init) \hyperlink{namespacestd}{std}->index = index;
651     \textcolor{keywordflow}{else} ++\hyperlink{namespacestd}{std}->index;
652 
653     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUMSTD, \hyperlink{namespacestd}{std}) >= 0;
654 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 31
Here is the caller graph for this function\+:
% FIG 32
\mbox{\Hypertarget{classv4lcap_affd6d918400a56e165d7a3e4fab8bdae}\label{classv4lcap_affd6d918400a56e165d7a3e4fab8bdae}} 
\index{v4lcap@{v4lcap}!get\+\_\+control@{get\+\_\+control}}
\index{get\+\_\+control@{get\+\_\+control}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+control()}{get\_control()}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+control (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+control $\ast$}]{ctrl,  }\item[{unsigned int}]{ctrl\+\_\+id }\end{DoxyParamCaption})}



Get the control object. 


\begin{DoxyParams}{Parameters}
{\em ctrl} & \\
\hline
{\em ctrl\+\_\+id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 537 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+set\+\_\+control\+\_\+hscale(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+control\+\_\+widgets(), and json\+Save\+Manager\+::save\+\_\+camera().


\begin{DoxyCode}
537                                                                          \{
538     ctrl->id = ctrl\_id;
539     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_G\_CTRL, ctrl) >= 0;
540 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 33
Here is the caller graph for this function\+:
% FIG 34
\mbox{\Hypertarget{classv4lcap_aa5c521438e06e14625c05a02bafd35c1}\label{classv4lcap_aa5c521438e06e14625c05a02bafd35c1}} 
\index{v4lcap@{v4lcap}!get\+\_\+format@{get\+\_\+format}}
\index{get\+\_\+format@{get\+\_\+format}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+format()}{get\_format()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+format (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+format $\ast$}]{fmt,  }\item[{unsigned int}]{type }\end{DoxyParamCaption})}



Get the format object. 


\begin{DoxyParams}{Parameters}
{\em fmt} & \\
\hline
{\em type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 494 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+start\+\_\+clicked(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+format\+\_\+desc(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+frame\+\_\+interval(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+frame\+\_\+size(), init\+\_\+mmap(), set\+\_\+frame\+\_\+size(), and set\+\_\+pixel\+\_\+format().


\begin{DoxyCode}
494                                                                    \{
495     fmt->type = \hyperlink{classstd_1_1conditional_1_1type}{type};
496     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_G\_FMT, fmt) >= 0;
497 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 35
Here is the caller graph for this function\+:
% FIG 36
\mbox{\Hypertarget{classv4lcap_a1964262e616b7624fdef18d54ea211e4}\label{classv4lcap_a1964262e616b7624fdef18d54ea211e4}} 
\index{v4lcap@{v4lcap}!get\+\_\+format@{get\+\_\+format}}
\index{get\+\_\+format@{get\+\_\+format}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+format()}{get\_format()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+format (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+format $\ast$}]{fmt }\end{DoxyParamCaption})}



Definition at line 489 of file v4lcap.\+cpp.



References fd, and xioctl().


\begin{DoxyCode}
489                                                 \{
490     fmt->type = V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE;
491     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_G\_FMT, fmt) >= 0;
492 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 37
\mbox{\Hypertarget{classv4lcap_a11e01d9043a7cb3537a772cc3a5bacb5}\label{classv4lcap_a11e01d9043a7cb3537a772cc3a5bacb5}} 
\index{v4lcap@{v4lcap}!get\+\_\+input@{get\+\_\+input}}
\index{get\+\_\+input@{get\+\_\+input}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+input()}{get\_input()}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+input (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+input $\ast$}]{input }\end{DoxyParamCaption})}



Get the input object. 


\begin{DoxyParams}{Parameters}
{\em input} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 503 of file v4lcap.\+cpp.



References fd, get\+\_\+input\+\_\+index(), and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+input().


\begin{DoxyCode}
503                                                 \{
504     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} index;
505 
506     \textcolor{keywordflow}{if} (!\hyperlink{classv4lcap_ad6cf8417903c40e86a087a236cd39337}{get\_input\_index}(&index)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
507 
508     input->index = index;
509 
510     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_ENUMINPUT, input) >= 0;
511 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 38
Here is the caller graph for this function\+:
% FIG 39
\mbox{\Hypertarget{classv4lcap_ad6cf8417903c40e86a087a236cd39337}\label{classv4lcap_ad6cf8417903c40e86a087a236cd39337}} 
\index{v4lcap@{v4lcap}!get\+\_\+input\+\_\+index@{get\+\_\+input\+\_\+index}}
\index{get\+\_\+input\+\_\+index@{get\+\_\+input\+\_\+index}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+input\+\_\+index()}{get\_input\_index()}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+input\+\_\+index (\begin{DoxyParamCaption}\item[{unsigned int $\ast$}]{input }\end{DoxyParamCaption})}



Get the input index object. 


\begin{DoxyParams}{Parameters}
{\em input} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 499 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by get\+\_\+input().


\begin{DoxyCode}
499                                                  \{
500     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_G\_INPUT, input) >= 0;
501 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 40
Here is the caller graph for this function\+:
% FIG 41
\mbox{\Hypertarget{classv4lcap_ad3ae859cc6d6d99146619ba550514aab}\label{classv4lcap_ad3ae859cc6d6d99146619ba550514aab}} 
\index{v4lcap@{v4lcap}!get\+\_\+standard@{get\+\_\+standard}}
\index{get\+\_\+standard@{get\+\_\+standard}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+standard()}{get\_standard()}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+standard (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+standard $\ast$}]{standard }\end{DoxyParamCaption})}



Get the standard object. 


\begin{DoxyParams}{Parameters}
{\em standard} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 517 of file v4lcap.\+cpp.



References enum\+\_\+video\+\_\+standard(), fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+standard().


\begin{DoxyCode}
517                                                          \{
518     v4l2\_std\_id std\_id;
519 
520     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_G\_STD, &std\_id) < 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
521 
522     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a236476c3f736c1870a63ed79f4c1d5a9}{enum\_video\_standard}(standard, 0, \textcolor{keyword}{true})) \{
523         \textcolor{keywordflow}{do} \{
524             \textcolor{keywordflow}{if}(standard->id == std\_id)
525                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
526         \} \textcolor{keywordflow}{while}(\hyperlink{classv4lcap_a236476c3f736c1870a63ed79f4c1d5a9}{enum\_video\_standard}(standard));
527     \}
528 
529     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
530 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 42
Here is the caller graph for this function\+:
% FIG 43
\mbox{\Hypertarget{classv4lcap_a3db79824d21927b3057c87d19e873498}\label{classv4lcap_a3db79824d21927b3057c87d19e873498}} 
\index{v4lcap@{v4lcap}!get\+\_\+standard\+\_\+id@{get\+\_\+standard\+\_\+id}}
\index{get\+\_\+standard\+\_\+id@{get\+\_\+standard\+\_\+id}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+standard\+\_\+id()}{get\_standard\_id()}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+standard\+\_\+id (\begin{DoxyParamCaption}\item[{v4l2\+\_\+std\+\_\+id $\ast$}]{std\+\_\+id }\end{DoxyParamCaption})}



Get the standard id object. 


\begin{DoxyParams}{Parameters}
{\em std\+\_\+id} & This type is a set, each bit representing another video standard. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\href{https://www.linuxtv.org/downloads/v4l-dvb-apis-old/vidioc-enumstd.html#v4l2-std-id}{\tt https\+://www.\+linuxtv.\+org/downloads/v4l-\/dvb-\/apis-\/old/vidioc-\/enumstd.\+html\#v4l2-\/std-\/id} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 513 of file v4lcap.\+cpp.



References fd, and xioctl().


\begin{DoxyCode}
513                                                  \{
514     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_G\_STD, std\_id) >= 0;
515 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 44
\mbox{\Hypertarget{classv4lcap_a067a6b97d6c4d3ea83454132f1d3c87e}\label{classv4lcap_a067a6b97d6c4d3ea83454132f1d3c87e}} 
\index{v4lcap@{v4lcap}!get\+\_\+stream\+\_\+parameter@{get\+\_\+stream\+\_\+parameter}}
\index{get\+\_\+stream\+\_\+parameter@{get\+\_\+stream\+\_\+parameter}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{get\+\_\+stream\+\_\+parameter()}{get\_stream\_parameter()}}
{\footnotesize\ttfamily bool v4lcap\+::get\+\_\+stream\+\_\+parameter (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+streamparm $\ast$}]{streamparm,  }\item[{unsigned int}]{type }\end{DoxyParamCaption})}



Get the stream parameter object. 


\begin{DoxyParams}{Parameters}
{\em streamparm} & \\
\hline
{\em type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 532 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+update\+\_\+cb\+\_\+frame\+\_\+interval(), and set\+\_\+frame\+\_\+interval().


\begin{DoxyCode}
532                                                                                         \{
533     streamparm->type = \hyperlink{classstd_1_1conditional_1_1type}{type};
534     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_G\_PARM, streamparm) >= 0;
535 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 45
Here is the caller graph for this function\+:
% FIG 46
\mbox{\Hypertarget{classv4lcap_a2974ed334916901ebfd9a59aed2428e8}\label{classv4lcap_a2974ed334916901ebfd9a59aed2428e8}} 
\index{v4lcap@{v4lcap}!grab\+\_\+raw@{grab\+\_\+raw}}
\index{grab\+\_\+raw@{grab\+\_\+raw}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{grab\+\_\+raw()}{grab\_raw()}}
{\footnotesize\ttfamily void $\ast$ v4lcap\+::grab\+\_\+raw (\begin{DoxyParamCaption}\item[{unsigned char $\ast$}]{raw }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em raw} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void$\ast$ 
\end{DoxyReturn}


Definition at line 346 of file v4lcap.\+cpp.



References buffers, v4lcap\+::buffer\+\_\+holder\+::buffs, dequeue\+\_\+buff(), enqueue\+\_\+buff(), and v4lcap\+::buffer\+::start.


\begin{DoxyCode}
346                                            \{
347     \textcolor{keyword}{struct }v4l2\_buffer vbuf;
348     memset(&vbuf, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} v4l2\_buffer));
349 
350     \textcolor{comment}{/* dequeue buffer */}
351     \textcolor{comment}{// =========================================================================}
352     \textcolor{keywordtype}{int} count = 0;
353     \textcolor{keywordtype}{bool} again = \textcolor{keyword}{false};
354 
355     \textcolor{keywordflow}{do} \{
356         \hyperlink{classv4lcap_a73678c131c1ac6c555be3ea125be08da}{dequeue\_buff}(&vbuf, V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE, V4L2\_MEMORY\_MMAP, &again);
357 
358         \textcolor{keywordflow}{if}(count > 100) \{
359             std::cout << \textcolor{stringliteral}{"Cannot dequeue buffer "} << vbuf.index << std::endl;
360             \textcolor{keywordflow}{break};
361         \}
362 
363         count++;
364     \} \textcolor{keywordflow}{while}(again);
365     \textcolor{comment}{// =========================================================================}
366 
367     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * data = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[vbuf.index].
      \hyperlink{structv4lcap_1_1buffer_ae4fca9eb7724f4a93ee14537fb34597e}{start};
368 
369     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < vbuf.bytesused; ++i) \{
370         *raw = *data;
371         ++data;
372         ++raw;
373     \}
374 
375     \textcolor{comment}{// =========================================================================}
376     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}{enqueue\_buff}(&vbuf))
377         std::cout << \textcolor{stringliteral}{"Can't enqueue buffer "} << vbuf.index << \textcolor{stringliteral}{" !"} << std::endl;
378 
379     \textcolor{keywordflow}{return} data;
380 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 47
\mbox{\Hypertarget{classv4lcap_a4ef7f2a17a32f5b89bf9ddce123a3b52}\label{classv4lcap_a4ef7f2a17a32f5b89bf9ddce123a3b52}} 
\index{v4lcap@{v4lcap}!grab\+\_\+rgb@{grab\+\_\+rgb}}
\index{grab\+\_\+rgb@{grab\+\_\+rgb}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{grab\+\_\+rgb()}{grab\_rgb()}}
{\footnotesize\ttfamily void $\ast$ v4lcap\+::grab\+\_\+rgb (\begin{DoxyParamCaption}\item[{unsigned char $\ast$}]{rgb }\end{DoxyParamCaption})}



Definition at line 382 of file v4lcap.\+cpp.



References buffers, v4lcap\+::buffer\+\_\+holder\+::buffs, dequeue\+\_\+buff(), enqueue\+\_\+buff(), format\+\_\+dest, needs\+\_\+convert, v4lcap\+::buffer\+::start, and v4lconv.



Referenced by Cam\+Cap\+::capture\+\_\+and\+\_\+show(), and V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::grab\+\_\+rgb().


\begin{DoxyCode}
382                                            \{
383     \textcolor{keyword}{struct }v4l2\_buffer vbuf;
384     memset(&vbuf, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} v4l2\_buffer));
385 
386     \textcolor{comment}{/* dequeue buffer */}
387     \textcolor{comment}{// =========================================================================}
388     \textcolor{keywordtype}{int} count = 0;
389     \textcolor{keywordtype}{bool} again = \textcolor{keyword}{false};
390 
391     \textcolor{keywordflow}{do} \{
392         \hyperlink{classv4lcap_a73678c131c1ac6c555be3ea125be08da}{dequeue\_buff}(&vbuf, V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE, V4L2\_MEMORY\_MMAP, &again);
393 
394         \textcolor{keywordflow}{if}(count > 100) \{
395             std::cout << \textcolor{stringliteral}{"Cannot dequeue buffer "} << vbuf.index << std::endl;
396             \textcolor{keywordflow}{break};
397         \}
398         count++;
399     \} \textcolor{keywordflow}{while} (again);
400     \textcolor{comment}{// =========================================================================}
401 
402     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * data = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[vbuf.index].
      \hyperlink{structv4lcap_1_1buffer_ae4fca9eb7724f4a93ee14537fb34597e}{start};
403 
404     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert}) \{
405         \textcolor{keywordtype}{int} err = 0;
406         err = v4lconvert\_convert(\hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv}, &format\_src, &\hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) 
      data, vbuf.bytesused, rgb, \hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}.fmt.pix.sizeimage);
407 
408         \textcolor{keywordflow}{if} (err < 0)
409             std::cout << \textcolor{stringliteral}{"OOpsss \(\backslash\)n"};
410     \}
411 
412 \textcolor{comment}{//      for (int i = 0; i < format\_dest.fmt.pix.sizeimage; ++i) \{}
413 \textcolor{comment}{//          *rgb = *data;}
414 \textcolor{comment}{//          ++rgb;}
415 \textcolor{comment}{//          ++data;}
416 \textcolor{comment}{//      \}}
417 
418     \textcolor{comment}{// =========================================================================}
419     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}{enqueue\_buff}(&vbuf))
420         std::cout << \textcolor{stringliteral}{"Can't enqueue buffer "} << vbuf.index << \textcolor{stringliteral}{" !"} << std::endl;
421 
422     \textcolor{keywordflow}{return} NULL;
423 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 48
Here is the caller graph for this function\+:
% FIG 49
\mbox{\Hypertarget{classv4lcap_a04f75c0a68f0e8547925906a488bb50d}\label{classv4lcap_a04f75c0a68f0e8547925906a488bb50d}} 
\index{v4lcap@{v4lcap}!init\+\_\+mmap@{init\+\_\+mmap}}
\index{init\+\_\+mmap@{init\+\_\+mmap}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{init\+\_\+mmap()}{init\_mmap()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool v4lcap\+::init\+\_\+mmap (\begin{DoxyParamCaption}\item[{int}]{nbuffers }\end{DoxyParamCaption})}



This method requests buffers from host system to allocate streaming from camera. 


\begin{DoxyParams}{Parameters}
{\em nbuffers} & Number of buffers requested. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true Buffers successfully allocated. 

false If cannot allocate buffers. 
\end{DoxyReturn}


Definition at line 179 of file v4lcap.\+cpp.



References buffers, v4lcap\+::buffer\+\_\+holder\+::buffs, emulate\+\_\+format, fd, get\+\_\+format(), v4lcap\+::buffer\+::length, v4lcap\+::buffer\+\_\+holder\+::qtd, query\+\_\+buffer(), reqbuf, request\+\_\+buffers\+\_\+mmap(), and v4lcap\+::buffer\+::start.



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+start\+\_\+clicked(), and start\+\_\+capturing().


\begin{DoxyCode}
179                                    \{
180     \textcolor{comment}{// = Get current format ====================================================}
181     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_aa5c521438e06e14625c05a02bafd35c1}{get\_format}(&format\_src, V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
182 
183     \textcolor{comment}{// = Request buffers by mmap ===============================================}
184     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a874905b9c6c785294fa7487a844cb841}{request\_buffers\_mmap}(&\hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}, nbuffers)) \{
185         std::cout << \textcolor{stringliteral}{"Can't request mmap buffers.\(\backslash\)n"};
186         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
187     \}
188 
189     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.count < 2) \{
190         \textcolor{comment}{// = Request 0 buffers to clean memory driver ==========================}
191         \hyperlink{classv4lcap_a874905b9c6c785294fa7487a844cb841}{request\_buffers\_mmap}(&\hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}, 0);
192         std::cout << \textcolor{stringliteral}{"Insufficient buffer memory.\(\backslash\)n"};
193         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
194     \}
195 
196     \textcolor{comment}{// = Alloc buffer holders ==================================================}
197     \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_a40424b4a28263425ab1bc05aac1490b4}{qtd} = \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.count;
198     \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs} = (\textcolor{keyword}{struct }buffer *) calloc(\hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.count, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} buffer));
199 
200     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
201 
202     \textcolor{comment}{// = Memory map: mmap ======================================================}
203     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.count; ++i) \{
204         \textcolor{keyword}{struct }v4l2\_buffer buffer = \{ 0 \};
205 
206         \textcolor{keywordflow}{if} (!\hyperlink{classv4lcap_a238573a18b367ebc812a49f4f1917012}{query\_buffer}(&buffer, V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE, V4L2\_MEMORY\_MMAP, i))
207             std::cout << \textcolor{stringliteral}{"Can't request buffer "} << i << std::endl;
208 
209         \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_a63df371d2260a5daf5e948cf4ccef703}{length} = buffer.length; \textcolor{comment}{/* remember for munmap() */}
210 
211         \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}{emulate\_format}) \{
212             \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_ae4fca9eb7724f4a93ee14537fb34597e}{start} = v4l2\_mmap(NULL, \textcolor{comment}{//}
213                     buffer.length, \textcolor{comment}{//}
214                     PROT\_READ | PROT\_WRITE, \textcolor{comment}{/* recommended */}
215                     MAP\_SHARED, \textcolor{comment}{/* recommended */}
216                     \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, \textcolor{comment}{//}
217                     buffer.m.offset);
218         \} \textcolor{keywordflow}{else} \{
219             \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_ae4fca9eb7724f4a93ee14537fb34597e}{start} = mmap(NULL, \textcolor{comment}{//}
220                     buffer.length, \textcolor{comment}{//}
221                     PROT\_READ | PROT\_WRITE, \textcolor{comment}{/* recommended */}
222                     MAP\_SHARED, \textcolor{comment}{/* recommended */}
223                     \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, \textcolor{comment}{//}
224                     buffer.m.offset);
225         \}
226 
227         \textcolor{keywordflow}{if}(MAP\_FAILED == \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_ae4fca9eb7724f4a93ee14537fb34597e}{start}) \{
228             \textcolor{comment}{/* If you do not exit here you should unmap() and free() the buffers mapped so far. */}
229             perror(\textcolor{stringliteral}{"mmap"});
230             exit(EXIT\_FAILURE);
231         \}
232 
233 \textcolor{comment}{//          //////////////////////////////}
234 \textcolor{comment}{//          if (!query\_buffer(&buffer, reqbuf.type, reqbuf.memory, i)) \{}
235 \textcolor{comment}{//              std::cout << "Can't request buffer " << i << std::endl;}
236 \textcolor{comment}{//          \}}
237 \textcolor{comment}{//          if (buffer.flags & V4L2\_BUF\_FLAG\_MAPPED) \{}
238 \textcolor{comment}{//              std::cout << "Buffer " << i << " mapped!" << std::endl;}
239 \textcolor{comment}{//          \} else \{}
240 \textcolor{comment}{//              std::cout << "Buffer " << i << " NOT mapped!" << std::endl;}
241 \textcolor{comment}{//          \}}
242 
243     \}
244 
245     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
246 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 50
Here is the caller graph for this function\+:
% FIG 51
\mbox{\Hypertarget{classv4lcap_adc14ff929732ccd31b790bc118cfd06a}\label{classv4lcap_adc14ff929732ccd31b790bc118cfd06a}} 
\index{v4lcap@{v4lcap}!init\+\_\+mmap@{init\+\_\+mmap}}
\index{init\+\_\+mmap@{init\+\_\+mmap}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{init\+\_\+mmap()}{init\_mmap()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool v4lcap\+::init\+\_\+mmap (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+requestbuffers $\ast$}]{req\+\_\+buff }\end{DoxyParamCaption})}



Get current format of data, request buffers from mmap, allocate buffers and map memory allocated. 


\begin{DoxyParams}{Parameters}
{\em req\+\_\+buff} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}
\mbox{\Hypertarget{classv4lcap_a0feac915e89a04f087bce5310f8b1051}\label{classv4lcap_a0feac915e89a04f087bce5310f8b1051}} 
\index{v4lcap@{v4lcap}!is\+\_\+opened@{is\+\_\+opened}}
\index{is\+\_\+opened@{is\+\_\+opened}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{is\+\_\+opened()}{is\_opened()}}
{\footnotesize\ttfamily bool v4lcap\+::is\+\_\+opened (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Verify if camera is open. 

\begin{DoxyReturn}{Returns}
true Camera is open 

false Camera is not open 
\end{DoxyReturn}


Definition at line 41 of file v4lcap.\+cpp.



References fd.



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+start\+\_\+clicked(), and V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+device\+\_\+changed().


\begin{DoxyCode}
41                        \{
42     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd} > 0;
43 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 52
\mbox{\Hypertarget{classv4lcap_a1404aae893a64a8e8859d822a4dfb273}\label{classv4lcap_a1404aae893a64a8e8859d822a4dfb273}} 
\index{v4lcap@{v4lcap}!open\+\_\+device@{open\+\_\+device}}
\index{open\+\_\+device@{open\+\_\+device}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{open\+\_\+device()}{open\_device()}}
{\footnotesize\ttfamily bool v4lcap\+::open\+\_\+device (\begin{DoxyParamCaption}\item[{const char $\ast$}]{devname,  }\item[{bool}]{emulate\+\_\+fmt }\end{DoxyParamCaption})}



By getting device name and emulated format, this method open the connection to the camera. 


\begin{DoxyParams}{Parameters}
{\em devname} & Name of requested device. \\
\hline
{\em emulate\+\_\+fmt} & Boolean that sets up if camera will be emulated using libv4l2 wrapper. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If device was open and ready to use. 

false If device cannot be opened or device is not compatible with de library. 
\end{DoxyReturn}


Definition at line 64 of file v4lcap.\+cpp.



References close\+\_\+device(), emulate\+\_\+format, fd, O\+P\+E\+N\+ED, query\+\_\+capability(), status, and v4lconv.



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+device\+\_\+changed().


\begin{DoxyCode}
64                                                                \{
65     \hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd} = open(devname, O\_RDWR);
66     this->\hyperlink{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}{emulate\_format} = emulate\_fmt;
67 
68     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd} < 0) \{
69         cout << \textcolor{stringliteral}{"Can not open "} << devname << \textcolor{stringliteral}{"device!"} << endl;
70         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
71     \}
72 
73     \textcolor{keywordflow}{if}(emulate\_fmt) \{
74         \textcolor{keywordtype}{int} fd2 = v4l2\_fd\_open(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, V4L2\_ENABLE\_ENUM\_FMT\_EMULATION);
75 
76         \textcolor{keywordflow}{if}(fd2 < 0) \{
77             cout << \textcolor{stringliteral}{"Cannot use libv4l2 wrapper for "} << devname << \textcolor{stringliteral}{"!"} << endl;
78             emulate\_fmt = \textcolor{keyword}{false};
79         \}
80     \}
81 
82     \textcolor{keyword}{struct }v4l2\_capability cap;
83 
84     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_aff4ca1e9742c8659582810529b8c9a2c}{query\_capability}(&cap)) \{
85         cout << devname << \textcolor{stringliteral}{" is not a V4L2 device!"} << endl;
86 
87         \textcolor{keywordflow}{if}(emulate\_fmt) v4l2\_close(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd});
88          \textcolor{keywordflow}{else} close(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd});
89 
90         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
91     \}
92 
93     \hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv} = v4lconvert\_create(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd});
94 
95     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv}) \{
96         \hyperlink{classv4lcap_adbb658a6f3248f24ee7926722e76ca43}{close\_device}();
97         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
98     \}
99 
100     \hyperlink{classv4lcap_ae90192b024d952b464408e0ffd95d90a}{status} |= \hyperlink{classv4lcap_a54af28c37f6a06c466390050290b8a5fa4015ad97149ce726bbc1843cb9527972}{OPENED};
101     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
102 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 53
Here is the caller graph for this function\+:
% FIG 54
\mbox{\Hypertarget{classv4lcap_a238573a18b367ebc812a49f4f1917012}\label{classv4lcap_a238573a18b367ebc812a49f4f1917012}} 
\index{v4lcap@{v4lcap}!query\+\_\+buffer@{query\+\_\+buffer}}
\index{query\+\_\+buffer@{query\+\_\+buffer}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{query\+\_\+buffer()}{query\_buffer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool v4lcap\+::query\+\_\+buffer (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{buffer }\end{DoxyParamCaption})}



Query buffers to camera. 


\begin{DoxyParams}{Parameters}
{\em buffer} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 120 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by init\+\_\+mmap(), query\+\_\+buffer(), and start\+\_\+capturing().


\begin{DoxyCode}
120                                                      \{
121     \textcolor{keywordtype}{int} r = \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_QUERYBUF, buffer);
122     \textcolor{keywordflow}{if}(r >= 0) \textcolor{keywordflow}{return} \textcolor{keyword}{true};
123     perror(\textcolor{stringliteral}{"VIDIOC\_QUERYBUF"});
124 
125     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
126 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 55
Here is the caller graph for this function\+:
% FIG 56
\mbox{\Hypertarget{classv4lcap_ad3cb2800d0606ec4ade6fd78f52a56cd}\label{classv4lcap_ad3cb2800d0606ec4ade6fd78f52a56cd}} 
\index{v4lcap@{v4lcap}!query\+\_\+buffer@{query\+\_\+buffer}}
\index{query\+\_\+buffer@{query\+\_\+buffer}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{query\+\_\+buffer()}{query\_buffer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool v4lcap\+::query\+\_\+buffer (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{buf,  }\item[{unsigned int}]{type,  }\item[{unsigned int}]{memory,  }\item[{unsigned int}]{index }\end{DoxyParamCaption})}



Definition at line 112 of file v4lcap.\+cpp.



References query\+\_\+buffer().


\begin{DoxyCode}
112                                                                                                            
         \{
113     buf->type = \hyperlink{classstd_1_1conditional_1_1type}{type};
114     buf->memory = memory;
115     buf->index = index;
116 
117     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_a238573a18b367ebc812a49f4f1917012}{query\_buffer}(buf);
118 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 57
\mbox{\Hypertarget{classv4lcap_a6e853d36a5e4c7959f36cc0669389c4a}\label{classv4lcap_a6e853d36a5e4c7959f36cc0669389c4a}} 
\index{v4lcap@{v4lcap}!query\+\_\+buffer@{query\+\_\+buffer}}
\index{query\+\_\+buffer@{query\+\_\+buffer}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{query\+\_\+buffer()}{query\_buffer()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily bool v4lcap\+::query\+\_\+buffer (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+buffer $\ast$}]{buf,  }\item[{enum v4l2\+\_\+buf\+\_\+type}]{type,  }\item[{enum v4l2\+\_\+memory}]{memory,  }\item[{unsigned int}]{index }\end{DoxyParamCaption})}



Definition at line 104 of file v4lcap.\+cpp.



References query\+\_\+buffer().


\begin{DoxyCode}
104                                                                                                            
                   \{
105     buf->type = \hyperlink{classstd_1_1conditional_1_1type}{type};
106     buf->memory = memory;
107     buf->index = index;
108 
109     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_a238573a18b367ebc812a49f4f1917012}{query\_buffer}(buf);
110 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 58
\mbox{\Hypertarget{classv4lcap_aff4ca1e9742c8659582810529b8c9a2c}\label{classv4lcap_aff4ca1e9742c8659582810529b8c9a2c}} 
\index{v4lcap@{v4lcap}!query\+\_\+capability@{query\+\_\+capability}}
\index{query\+\_\+capability@{query\+\_\+capability}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{query\+\_\+capability()}{query\_capability()}}
{\footnotesize\ttfamily bool v4lcap\+::query\+\_\+capability (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+capability $\ast$}]{cap }\end{DoxyParamCaption})}



Verify query lenght capability. 


\begin{DoxyParams}{Parameters}
{\em cap} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 485 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+device\+\_\+changed(), and open\+\_\+device().


\begin{DoxyCode}
485                                                           \{
486     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_QUERYCAP, cap) >= 0;
487 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 59
Here is the caller graph for this function\+:
% FIG 60
\mbox{\Hypertarget{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}\label{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}} 
\index{v4lcap@{v4lcap}!query\+\_\+control@{query\+\_\+control}}
\index{query\+\_\+control@{query\+\_\+control}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{query\+\_\+control()}{query\_control()}}
{\footnotesize\ttfamily bool v4lcap\+::query\+\_\+control (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+queryctrl $\ast$}]{qctrl }\end{DoxyParamCaption})}



Query control options. 


\begin{DoxyParams}{Parameters}
{\em qctrl} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 542 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by enum\+\_\+control\+\_\+default(), enum\+\_\+control\+\_\+private\+\_\+base(), enum\+\_\+control\+\_\+user\+\_\+base(), and show\+\_\+controls().


\begin{DoxyCode}
542                                                         \{
543     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_QUERYCTRL, qctrl) >= 0;
544 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 61
Here is the caller graph for this function\+:
% FIG 62
\mbox{\Hypertarget{classv4lcap_aa23f5ba6c1828dc3af8258d8a33b95e4}\label{classv4lcap_aa23f5ba6c1828dc3af8258d8a33b95e4}} 
\index{v4lcap@{v4lcap}!query\+\_\+control\+\_\+menu@{query\+\_\+control\+\_\+menu}}
\index{query\+\_\+control\+\_\+menu@{query\+\_\+control\+\_\+menu}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{query\+\_\+control\+\_\+menu()}{query\_control\_menu()}}
{\footnotesize\ttfamily bool v4lcap\+::query\+\_\+control\+\_\+menu (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+querymenu $\ast$}]{qmenu }\end{DoxyParamCaption})}



Query control menu. 


\begin{DoxyParams}{Parameters}
{\em qmenu} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 546 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by enum\+\_\+control\+\_\+menu().


\begin{DoxyCode}
546                                                              \{
547     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_QUERYMENU, qmenu) >= 0;
548 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 63
Here is the caller graph for this function\+:
% FIG 64
\mbox{\Hypertarget{classv4lcap_adfe2c7d6382e325a9f4e1ad699c01fc5}\label{classv4lcap_adfe2c7d6382e325a9f4e1ad699c01fc5}} 
\index{v4lcap@{v4lcap}!request\+\_\+buffers@{request\+\_\+buffers}}
\index{request\+\_\+buffers@{request\+\_\+buffers}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{request\+\_\+buffers()}{request\_buffers()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool v4lcap\+::request\+\_\+buffers (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+requestbuffers $\ast$}]{req\+\_\+buff,  }\item[{int}]{nbuffers,  }\item[{enum v4l2\+\_\+memory}]{memory,  }\item[{enum v4l2\+\_\+buf\+\_\+type}]{type }\end{DoxyParamCaption})}



Request buffers allocation from SO. 


\begin{DoxyParams}{Parameters}
{\em req\+\_\+buff} & \\
\hline
{\em nbuffers} & \\
\hline
{\em v4l2\+\_\+memory} & \\
\hline
{\em v4l2\+\_\+buf\+\_\+type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 560 of file v4lcap.\+cpp.



Referenced by request\+\_\+buffers\+\_\+mmap().


\begin{DoxyCode}
560                                                                                                            
                             \{
561     req\_buff->reserved[0] = 0;
562     req\_buff->reserved[1] = 0;
563     req\_buff->count = nbuffers;
564     req\_buff->memory = memory;
565     req\_buff->type = \hyperlink{classstd_1_1conditional_1_1type}{type};
566 
567     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_adfe2c7d6382e325a9f4e1ad699c01fc5}{request\_buffers}(req\_buff);
568 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 65
\mbox{\Hypertarget{classv4lcap_a84e43b6054a1d84002c1d060aef1bf84}\label{classv4lcap_a84e43b6054a1d84002c1d060aef1bf84}} 
\index{v4lcap@{v4lcap}!request\+\_\+buffers@{request\+\_\+buffers}}
\index{request\+\_\+buffers@{request\+\_\+buffers}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{request\+\_\+buffers()}{request\_buffers()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool v4lcap\+::request\+\_\+buffers (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+requestbuffers $\ast$}]{req\+\_\+buff }\end{DoxyParamCaption})}



Definition at line 550 of file v4lcap.\+cpp.



References fd, and xioctl().


\begin{DoxyCode}
550                                                                   \{
551     \textcolor{keywordtype}{int} r = \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_REQBUFS, req\_buff);
552 
553     \textcolor{keywordflow}{if}(r >= 0) \textcolor{keywordflow}{return} \textcolor{keyword}{true};
554 
555     perror(\textcolor{stringliteral}{"VIDIOC\_REQBUFS"});
556 
557     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
558 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 66
\mbox{\Hypertarget{classv4lcap_a874905b9c6c785294fa7487a844cb841}\label{classv4lcap_a874905b9c6c785294fa7487a844cb841}} 
\index{v4lcap@{v4lcap}!request\+\_\+buffers\+\_\+mmap@{request\+\_\+buffers\+\_\+mmap}}
\index{request\+\_\+buffers\+\_\+mmap@{request\+\_\+buffers\+\_\+mmap}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{request\+\_\+buffers\+\_\+mmap()}{request\_buffers\_mmap()}}
{\footnotesize\ttfamily bool v4lcap\+::request\+\_\+buffers\+\_\+mmap (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+requestbuffers $\ast$}]{req\+\_\+buff,  }\item[{int}]{nbuffers }\end{DoxyParamCaption})}



Definition at line 570 of file v4lcap.\+cpp.



References request\+\_\+buffers().



Referenced by init\+\_\+mmap(), and uninit\+\_\+mmap().


\begin{DoxyCode}
570                                                                                      \{
571     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_adfe2c7d6382e325a9f4e1ad699c01fc5}{request\_buffers}(req\_buff, nbuffers, V4L2\_MEMORY\_MMAP, V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE
      );
572 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 67
Here is the caller graph for this function\+:
% FIG 68
\mbox{\Hypertarget{classv4lcap_a863a15d2d66cc0b7367dcc9cba64e0bd}\label{classv4lcap_a863a15d2d66cc0b7367dcc9cba64e0bd}} 
\index{v4lcap@{v4lcap}!set\+\_\+control@{set\+\_\+control}}
\index{set\+\_\+control@{set\+\_\+control}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{set\+\_\+control()}{set\_control()}}
{\footnotesize\ttfamily bool v4lcap\+::set\+\_\+control (\begin{DoxyParamCaption}\item[{int}]{ctrl\+\_\+id,  }\item[{int}]{value }\end{DoxyParamCaption})}



Set the control object. 


\begin{DoxyParams}{Parameters}
{\em ctrl\+\_\+id} & \\
\hline
{\em value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 794 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+set\+\_\+control(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+set\+\_\+control\+\_\+hscale(), and json\+Save\+Manager\+::load\+\_\+camera().


\begin{DoxyCode}
794                                                \{
795     \textcolor{keyword}{struct }v4l2\_control ctrl;
796     ctrl.id = ctrl\_id;
797     ctrl.value = value;
798 
799     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_S\_CTRL, &ctrl) >= 0;
800 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 69
Here is the caller graph for this function\+:
% FIG 70
\mbox{\Hypertarget{classv4lcap_aedf12169721a174af1c2eea5244ff5d7}\label{classv4lcap_aedf12169721a174af1c2eea5244ff5d7}} 
\index{v4lcap@{v4lcap}!set\+\_\+format@{set\+\_\+format}}
\index{set\+\_\+format@{set\+\_\+format}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{set\+\_\+format()}{set\_format()}}
{\footnotesize\ttfamily bool v4lcap\+::set\+\_\+format (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+format $\ast$}]{fmt }\end{DoxyParamCaption})}



Definition at line 712 of file v4lcap.\+cpp.



References fd, and xioctl().


\begin{DoxyCode}
712                                                 \{
713     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_S\_FMT, fmt) >= 0;
714 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 71
\mbox{\Hypertarget{classv4lcap_a698e7d4dcefeda932ecbab7bfccdc491}\label{classv4lcap_a698e7d4dcefeda932ecbab7bfccdc491}} 
\index{v4lcap@{v4lcap}!set\+\_\+frame\+\_\+interval@{set\+\_\+frame\+\_\+interval}}
\index{set\+\_\+frame\+\_\+interval@{set\+\_\+frame\+\_\+interval}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{set\+\_\+frame\+\_\+interval()}{set\_frame\_interval()}}
{\footnotesize\ttfamily bool v4lcap\+::set\+\_\+frame\+\_\+interval (\begin{DoxyParamCaption}\item[{struct v4l2\+\_\+fract \&}]{fract }\end{DoxyParamCaption})}



Set the frame interval object. 


\begin{DoxyParams}{Parameters}
{\em fract} & Time fraction to be set \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If time interval is set 

false If cannot set time interval 
\end{DoxyReturn}


Definition at line 780 of file v4lcap.\+cpp.



References fd, get\+\_\+stream\+\_\+parameter(), and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+frame\+\_\+interval\+\_\+changed().


\begin{DoxyCode}
780                                                          \{
781     v4l2\_streamparm parm;
782 
783     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a067a6b97d6c4d3ea83454132f1d3c87e}{get\_stream\_parameter}(&parm, V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE))
784         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
785 
786     \textcolor{keywordflow}{if}(!(parm.parm.capture.capability & V4L2\_CAP\_TIMEPERFRAME))
787         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
788 
789     parm.parm.capture.timeperframe = fract;
790 
791     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_S\_PARM, &parm) >= 0;
792 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 72
Here is the caller graph for this function\+:
% FIG 73
\mbox{\Hypertarget{classv4lcap_a6ad01c926c3162e858e030c8525cb94b}\label{classv4lcap_a6ad01c926c3162e858e030c8525cb94b}} 
\index{v4lcap@{v4lcap}!set\+\_\+frame\+\_\+size@{set\+\_\+frame\+\_\+size}}
\index{set\+\_\+frame\+\_\+size@{set\+\_\+frame\+\_\+size}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{set\+\_\+frame\+\_\+size()}{set\_frame\_size()}}
{\footnotesize\ttfamily bool v4lcap\+::set\+\_\+frame\+\_\+size (\begin{DoxyParamCaption}\item[{int}]{width,  }\item[{int}]{height,  }\item[{unsigned int}]{type }\end{DoxyParamCaption})}



Set the frame size object. 


\begin{DoxyParams}{Parameters}
{\em width} & Frame width \\
\hline
{\em height} & Frame height \\
\hline
{\em type} & Frame type \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If frame is set 

false if cannot set frame 
\end{DoxyReturn}


Definition at line 768 of file v4lcap.\+cpp.



References fd, get\+\_\+format(), C\+O\+N\+S\+T\+::height, C\+O\+N\+S\+T\+::width, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+start\+\_\+clicked(), and V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+frame\+\_\+size\+\_\+changed().


\begin{DoxyCode}
768                                                                     \{
769     \textcolor{keyword}{struct }v4l2\_format fmt;
770 
771     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_aa5c521438e06e14625c05a02bafd35c1}{get\_format}(&fmt, \hyperlink{classstd_1_1conditional_1_1type}{type}))
772         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
773 
774     fmt.fmt.pix.width = \hyperlink{namespace_c_o_n_s_t_afd10469262c8cf9aec66ca799bfea24c}{width};
775     fmt.fmt.pix.height = \hyperlink{namespace_c_o_n_s_t_a9805ca9eb67b8225c60697567283175d}{height};
776 
777     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_S\_FMT, &fmt) >= 0;
778 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 74
Here is the caller graph for this function\+:
% FIG 75
\mbox{\Hypertarget{classv4lcap_ab3496376778bd0acacacef396fcd6387}\label{classv4lcap_ab3496376778bd0acacacef396fcd6387}} 
\index{v4lcap@{v4lcap}!set\+\_\+input@{set\+\_\+input}}
\index{set\+\_\+input@{set\+\_\+input}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{set\+\_\+input()}{set\_input()}}
{\footnotesize\ttfamily bool v4lcap\+::set\+\_\+input (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}



Set the input object. 


\begin{DoxyParams}{Parameters}
{\em index} & ID of selected camera \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If querying is capable 

false If querying is not capable 
\end{DoxyReturn}


Definition at line 704 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+input\+\_\+changed().


\begin{DoxyCode}
704                                 \{
705     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_S\_INPUT, &index) >= 0;
706 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 76
Here is the caller graph for this function\+:
% FIG 77
\mbox{\Hypertarget{classv4lcap_a7da8705c4a542bb1118f74435957c471}\label{classv4lcap_a7da8705c4a542bb1118f74435957c471}} 
\index{v4lcap@{v4lcap}!set\+\_\+pixel\+\_\+format@{set\+\_\+pixel\+\_\+format}}
\index{set\+\_\+pixel\+\_\+format@{set\+\_\+pixel\+\_\+format}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{set\+\_\+pixel\+\_\+format()}{set\_pixel\_format()}}
{\footnotesize\ttfamily bool v4lcap\+::set\+\_\+pixel\+\_\+format (\begin{DoxyParamCaption}\item[{unsigned int}]{pixel\+\_\+format }\end{DoxyParamCaption})}



Set the pixel format object. 


\begin{DoxyParams}{Parameters}
{\em pixel\+\_\+format} & Pixel format param to set on capturing \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If format is set 

false If cannot set the format 
\end{DoxyReturn}


Definition at line 757 of file v4lcap.\+cpp.



References fd, get\+\_\+format(), and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+format\+\_\+desc\+\_\+changed().


\begin{DoxyCode}
757                                                        \{
758     \textcolor{keyword}{struct }v4l2\_format fmt;
759 
760     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_aa5c521438e06e14625c05a02bafd35c1}{get\_format}(&fmt, V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE))
761         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
762 
763     fmt.fmt.pix.pixelformat = pixel\_format;
764 
765     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_S\_FMT, &fmt) >= 0;
766 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 78
Here is the caller graph for this function\+:
% FIG 79
\mbox{\Hypertarget{classv4lcap_a5ce097aed8f4d0aee209e0c78924812d}\label{classv4lcap_a5ce097aed8f4d0aee209e0c78924812d}} 
\index{v4lcap@{v4lcap}!set\+\_\+standard@{set\+\_\+standard}}
\index{set\+\_\+standard@{set\+\_\+standard}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{set\+\_\+standard()}{set\_standard()}}
{\footnotesize\ttfamily bool v4lcap\+::set\+\_\+standard (\begin{DoxyParamCaption}\item[{v4l2\+\_\+std\+\_\+id}]{std\+\_\+id }\end{DoxyParamCaption})}



Set the standard object. 


\begin{DoxyParams}{Parameters}
{\em std\+\_\+id} & This type is a set, each bit representing another video standard. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\href{https://www.linuxtv.org/downloads/v4l-dvb-apis-old/vidioc-enumstd.html#v4l2-std-id}{\tt https\+://www.\+linuxtv.\+org/downloads/v4l-\/dvb-\/apis-\/old/vidioc-\/enumstd.\+html\#v4l2-\/std-\/id} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
true If querying is capable 

false If querying is not capable 
\end{DoxyReturn}


Definition at line 708 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+cb\+\_\+standard\+\_\+changed().


\begin{DoxyCode}
708                                             \{
709     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_S\_STD, &std\_id) >= 0;
710 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 80
Here is the caller graph for this function\+:
% FIG 81
\mbox{\Hypertarget{classv4lcap_a240c44f236eac63c0e76c81473170ef9}\label{classv4lcap_a240c44f236eac63c0e76c81473170ef9}} 
\index{v4lcap@{v4lcap}!show\+\_\+controls@{show\+\_\+controls}}
\index{show\+\_\+controls@{show\+\_\+controls}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{show\+\_\+controls()}{show\_controls()}}
{\footnotesize\ttfamily bool v4lcap\+::show\+\_\+controls (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyReturn}{Returns}
true 

false 
\end{DoxyReturn}


Definition at line 803 of file v4lcap.\+cpp.



References query\+\_\+control().


\begin{DoxyCode}
803                            \{
804     \textcolor{keyword}{struct }v4l2\_queryctrl qctrl;
805 
806     cout << \textcolor{stringliteral}{"=== Enumeratin controls via V4L2\_CTRL\_FLAG\_NEXT\_CTRL: ==="} << endl;
807     qctrl.id = V4L2\_CTRL\_FLAG\_NEXT\_CTRL;
808 
809     \textcolor{keywordflow}{while}(\hyperlink{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}{query\_control}(&qctrl)) \{
810         \textcolor{keywordflow}{if}((qctrl.flags & V4L2\_CTRL\_FLAG\_DISABLED) != 0)
811             cout << \textcolor{stringliteral}{"[ Disabled ] "} << qctrl.name;
812 
813         cout << \textcolor{stringliteral}{"Control: "} << qctrl.name << endl;
814 
815         qctrl.id |= V4L2\_CTRL\_FLAG\_NEXT\_CTRL;
816     \}
817 
818     cout << \textcolor{stringliteral}{"=== Enumeratin controls via V4L2\_CID\_BASE until to V4L2\_CID\_LASTP1: ==="} << endl;
819 
820     \textcolor{keywordflow}{for}(qctrl.id = V4L2\_CID\_BASE; qctrl.id <= V4L2\_CID\_LASTP1; ++qctrl.id) \{
821         \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}{query\_control}(&qctrl))
822             \textcolor{keywordflow}{continue};
823 
824         \textcolor{keywordflow}{if}((qctrl.flags & V4L2\_CTRL\_FLAG\_DISABLED) != 0) \{
825             cout << \textcolor{stringliteral}{"[ Disabled ] "} << qctrl.name;
826         \}
827 
828         cout << \textcolor{stringliteral}{"Control: "} << qctrl.name << endl;
829     \}
830 
831     cout << \textcolor{stringliteral}{"=== Enumeratin controls via V4L2\_CID\_PRIVATE\_BASE: ==="} << endl;
832 
833     \textcolor{keywordflow}{for}(qctrl.id = V4L2\_CID\_PRIVATE\_BASE; \hyperlink{classv4lcap_acede842207240d9eb3b4a8d99ff32fc4}{query\_control}(&qctrl); ++qctrl.id) \{
834         \textcolor{keywordflow}{if}((qctrl.flags & V4L2\_CTRL\_FLAG\_DISABLED) != 0)
835             cout << \textcolor{stringliteral}{"[ Disabled ] "} << qctrl.name;
836 
837         cout << \textcolor{stringliteral}{"Control: "} << qctrl.name << endl;
838     \}
839 
840     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
841 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 82
\mbox{\Hypertarget{classv4lcap_a4a7ee51c878ec735c9a24b517c63df16}\label{classv4lcap_a4a7ee51c878ec735c9a24b517c63df16}} 
\index{v4lcap@{v4lcap}!start\+\_\+capturing@{start\+\_\+capturing}}
\index{start\+\_\+capturing@{start\+\_\+capturing}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{start\+\_\+capturing()}{start\_capturing()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool v4lcap\+::start\+\_\+capturing (\begin{DoxyParamCaption}\item[{enum \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753e}{memory\+\_\+type}}]{mem\+\_\+type,  }\item[{int}]{nbuffers }\end{DoxyParamCaption})}



This method starts capturing and streaming from opened device passing memory type and number of buffers used. 


\begin{DoxyParams}{Parameters}
{\em memory\+\_\+type} & Defines memory type. \\
\hline
{\em nbuffers} & Number of buffers used to streaming from camera. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true Streaming from camera is openned. 

false Streaming cannot be started. 
\end{DoxyReturn}


Definition at line 256 of file v4lcap.\+cpp.



References enqueue\+\_\+buff(), format\+\_\+dest, init\+\_\+mmap(), M\+E\+M\+\_\+\+M\+M\+AP, M\+E\+M\+\_\+\+R\+E\+AD, M\+E\+M\+\_\+\+U\+S\+ER, needs\+\_\+convert, query\+\_\+buffer(), reqbuf, streamon(), and v4lconv.



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+start\+\_\+clicked().


\begin{DoxyCode}
256                                                                     \{
257     \textcolor{keywordflow}{switch}(mem\_type) \{
258         \textcolor{keywordflow}{case} \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753ea910bccf6fae3859b962b253fca85ad2a}{MEM\_MMAP}:
259             \textcolor{keywordflow}{if} (!\hyperlink{classv4lcap_a04f75c0a68f0e8547925906a488bb50d}{init\_mmap}(nbuffers)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
260             \textcolor{keywordflow}{break};
261         \textcolor{keywordflow}{case} \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753ea30efcf7ca101412a17c617333e1bb064}{MEM\_USER}:
262         \textcolor{keywordflow}{case} \hyperlink{classv4lcap_aae799230441b7965d8947b104d8d753eaa973888f299d63462efa19c3e52d416c}{MEM\_READ}:
263         \textcolor{keywordflow}{default}:
264             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
265     \}
266 
267     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a04f75c0a68f0e8547925906a488bb50d}{init\_mmap}(nbuffers)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
268 
269     \textcolor{comment}{// = Enqueue all buffers ===================================================}
270     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.count; ++i) \{
271         \textcolor{keyword}{struct }v4l2\_buffer buffer = \{ 0 \};
272         \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}{enqueue\_buff}(&buffer, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.type, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.memory, i))
273             std::cout << \textcolor{stringliteral}{"Can't enqueue buffer "} << i << std::endl;
274 
276         \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a238573a18b367ebc812a49f4f1917012}{query\_buffer}(&buffer, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.type, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.memory, i))
277             std::cout << \textcolor{stringliteral}{"Can't request buffer "} << i << std::endl;
278 
279         \textcolor{keywordflow}{if}(buffer.flags & V4L2\_BUF\_FLAG\_QUEUED) \{
280             std::cout << \textcolor{stringliteral}{"Buffer "} << i << \textcolor{stringliteral}{" queued!"} << std::endl;
281         \} \textcolor{keywordflow}{else} \{
282             std::cout << \textcolor{stringliteral}{"Buffer "} << i << \textcolor{stringliteral}{" NOT queued!"} << std::endl;
283         \}
284     \}
285 
286     this->\hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest} = this->format\_src;
287     \hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}.fmt.pix.pixelformat = V4L2\_PIX\_FMT\_RGB24;
288 
289     \textcolor{keywordflow}{if}(format\_src.fmt.pix.pixelformat != V4L2\_PIX\_FMT\_RGB24) \{
290         \hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert} = \textcolor{keyword}{true};
291     \} \textcolor{keywordflow}{else} \{
292         \hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert} = \textcolor{keyword}{false};
293     \}
294 
295     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert}) \{
296         v4l2\_format copy = format\_src;
297         v4lconvert\_try\_format(\hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv}, &\hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}, &format\_src);
298         \textcolor{comment}{// v4lconvert\_try\_format sometimes modifies the source format if it thinks}
299         \textcolor{comment}{// that there is a better format available. Restore our selected source}
300         \textcolor{comment}{// format since we do not want that happening.}
301         format\_src = copy;
302     \}
303 
304     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_abb1f77b86c0368cd40dab1fb8d4a2565}{streamon}(V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE);
305 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 83
Here is the caller graph for this function\+:
% FIG 84
\mbox{\Hypertarget{classv4lcap_aa8b3b1ffead9a21abf2aea074d1b309b}\label{classv4lcap_aa8b3b1ffead9a21abf2aea074d1b309b}} 
\index{v4lcap@{v4lcap}!start\+\_\+capturing@{start\+\_\+capturing}}
\index{start\+\_\+capturing@{start\+\_\+capturing}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{start\+\_\+capturing()}{start\_capturing()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool v4lcap\+::start\+\_\+capturing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method starts capturing and streaming from opened device. 

\begin{DoxyReturn}{Returns}
true Streaming from camera is openned. 

false Streaming cannot be started. 
\end{DoxyReturn}


Definition at line 307 of file v4lcap.\+cpp.



References debug\+\_\+error, debug\+\_\+log, enqueue\+\_\+buff(), format\+\_\+dest, needs\+\_\+convert, query\+\_\+buffer(), reqbuf, streamon(), and v4lconv.


\begin{DoxyCode}
307                              \{
308     \textcolor{comment}{// = Enqueue all buffers ===================================================}
309     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.count; ++i) \{
310         \textcolor{keyword}{struct }v4l2\_buffer buffer = \{ 0 \};
311         \textcolor{keywordflow}{if} (!\hyperlink{classv4lcap_a61dcacb5bb57a9f8c72d6942f46e9ddc}{enqueue\_buff}(&buffer, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.type, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.memory, i))
312             \hyperlink{debug_8hpp_ab163a9e3f1ed9f61bd7d743fdf4a161a}{debug\_error}(\textcolor{stringliteral}{"Can't enqueue buffer "} + std::to\_string(i));
313 
315         \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a238573a18b367ebc812a49f4f1917012}{query\_buffer}(&buffer, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.type, \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.memory, i))
316             \hyperlink{debug_8hpp_ab163a9e3f1ed9f61bd7d743fdf4a161a}{debug\_error}(\textcolor{stringliteral}{"Can't request buffer "} + std::to\_string(i));
317 
318         \textcolor{keywordflow}{if}(buffer.flags & V4L2\_BUF\_FLAG\_QUEUED) \{
319             \hyperlink{debug_8hpp_afde3f42696113719c9ae35507125ee6e}{debug\_log}(\textcolor{stringliteral}{"Buffer "} + std::to\_string(i) + \textcolor{stringliteral}{" queued!"});
320         \} \textcolor{keywordflow}{else} \{
321             \hyperlink{debug_8hpp_ab163a9e3f1ed9f61bd7d743fdf4a161a}{debug\_error}(\textcolor{stringliteral}{"Buffer "} + std::to\_string(i) + \textcolor{stringliteral}{" NOT queued!"});
322         \}
323     \}
324 
325     this->\hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest} = this->format\_src;
326     \hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}.fmt.pix.pixelformat = V4L2\_PIX\_FMT\_RGB24;
327 
328     \textcolor{keywordflow}{if}(format\_src.fmt.pix.pixelformat != V4L2\_PIX\_FMT\_RGB24) \{
329         \hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert} = \textcolor{keyword}{true};
330     \} \textcolor{keywordflow}{else} \{
331         \hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert} = \textcolor{keyword}{false};
332     \}
333 
334     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}{needs\_convert}) \{
335         v4l2\_format copy = format\_src;
336         v4lconvert\_try\_format(\hyperlink{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}{v4lconv}, &\hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}, &format\_src);
337         \textcolor{comment}{// v4lconvert\_try\_format sometimes modifies the source format if it thinks}
338         \textcolor{comment}{// that there is a better format available. Restore our selected source}
339         \textcolor{comment}{// format since we do not want that happening.}
340         format\_src = copy;
341     \}
342 
343     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_abb1f77b86c0368cd40dab1fb8d4a2565}{streamon}(V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE);
344 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 85
\mbox{\Hypertarget{classv4lcap_a2992ae4b4fd36da602284c62b97cbeed}\label{classv4lcap_a2992ae4b4fd36da602284c62b97cbeed}} 
\index{v4lcap@{v4lcap}!stop\+\_\+capturing@{stop\+\_\+capturing}}
\index{stop\+\_\+capturing@{stop\+\_\+capturing}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{stop\+\_\+capturing()}{stop\_capturing()}}
{\footnotesize\ttfamily bool v4lcap\+::stop\+\_\+capturing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Closes capturing query. 

\begin{DoxyReturn}{Returns}
true Closed successfully 

false Something goes wrong 
\end{DoxyReturn}


Definition at line 433 of file v4lcap.\+cpp.



References streamoff().



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+start\+\_\+clicked().


\begin{DoxyCode}
433                             \{
434     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ae15aa5107e993df45eb358a842d97e55}{streamoff}(V4L2\_BUF\_TYPE\_VIDEO\_CAPTURE);
435 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 86
Here is the caller graph for this function\+:
% FIG 87
\mbox{\Hypertarget{classv4lcap_ae15aa5107e993df45eb358a842d97e55}\label{classv4lcap_ae15aa5107e993df45eb358a842d97e55}} 
\index{v4lcap@{v4lcap}!streamoff@{streamoff}}
\index{streamoff@{streamoff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{streamoff()}{streamoff()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool v4lcap\+::streamoff (\begin{DoxyParamCaption}\item[{enum v4l2\+\_\+buf\+\_\+type}]{type }\end{DoxyParamCaption})}



Query stream to terminate. 


\begin{DoxyParams}{Parameters}
{\em v4l2\+\_\+buf\+\_\+type} & Buffer type off running stream \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If all succeds 

false If something goes wrong with query 
\end{DoxyReturn}


Definition at line 425 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by close\+\_\+device(), stop\+\_\+capturing(), and streamoff().


\begin{DoxyCode}
425                                               \{
426     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_STREAMOFF, &\hyperlink{classstd_1_1conditional_1_1type}{type}) >= 0;
427 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 88
Here is the caller graph for this function\+:
% FIG 89
\mbox{\Hypertarget{classv4lcap_a34eced9e309545a1b6bb41a41c23bc57}\label{classv4lcap_a34eced9e309545a1b6bb41a41c23bc57}} 
\index{v4lcap@{v4lcap}!streamoff@{streamoff}}
\index{streamoff@{streamoff}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{streamoff()}{streamoff()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool v4lcap\+::streamoff (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})}



Definition at line 429 of file v4lcap.\+cpp.



References streamoff().


\begin{DoxyCode}
429                                \{
430     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ae15aa5107e993df45eb358a842d97e55}{streamoff}((\textcolor{keyword}{enum} v4l2\_buf\_type) \hyperlink{classstd_1_1conditional_1_1type}{type});
431 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 90
\mbox{\Hypertarget{classv4lcap_abb1f77b86c0368cd40dab1fb8d4a2565}\label{classv4lcap_abb1f77b86c0368cd40dab1fb8d4a2565}} 
\index{v4lcap@{v4lcap}!streamon@{streamon}}
\index{streamon@{streamon}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{streamon()}{streamon()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool v4lcap\+::streamon (\begin{DoxyParamCaption}\item[{enum v4l2\+\_\+buf\+\_\+type}]{type }\end{DoxyParamCaption})}



Query stream to initiate. 


\begin{DoxyParams}{Parameters}
{\em v4l2\+\_\+buf\+\_\+type} & Buffer type of streaming \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true If all succeeds 

false If something goes wrong with stream query 
\end{DoxyReturn}


Definition at line 248 of file v4lcap.\+cpp.



References fd, and xioctl().



Referenced by start\+\_\+capturing(), and streamon().


\begin{DoxyCode}
248                                              \{
249     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}{xioctl}(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, VIDIOC\_STREAMON, &\hyperlink{classstd_1_1conditional_1_1type}{type}) >= 0;
250 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 91
Here is the caller graph for this function\+:
% FIG 92
\mbox{\Hypertarget{classv4lcap_a171600fdcef434fc621e62d9373fcaf8}\label{classv4lcap_a171600fdcef434fc621e62d9373fcaf8}} 
\index{v4lcap@{v4lcap}!streamon@{streamon}}
\index{streamon@{streamon}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{streamon()}{streamon()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool v4lcap\+::streamon (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})}



Definition at line 252 of file v4lcap.\+cpp.



References streamon().


\begin{DoxyCode}
252                               \{
253     \textcolor{keywordflow}{return} \hyperlink{classv4lcap_abb1f77b86c0368cd40dab1fb8d4a2565}{streamon}((\textcolor{keyword}{enum} v4l2\_buf\_type) \hyperlink{classstd_1_1conditional_1_1type}{type});
254 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 93
\mbox{\Hypertarget{classv4lcap_aafab5fd381c1d5858cd87f42560a40ab}\label{classv4lcap_aafab5fd381c1d5858cd87f42560a40ab}} 
\index{v4lcap@{v4lcap}!uninit\+\_\+mmap@{uninit\+\_\+mmap}}
\index{uninit\+\_\+mmap@{uninit\+\_\+mmap}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{uninit\+\_\+mmap()}{uninit\_mmap()}}
{\footnotesize\ttfamily bool v4lcap\+::uninit\+\_\+mmap (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Free all requested buffers. 

\begin{DoxyReturn}{Returns}
true Free all buffers 

false Nothing freed =,( 
\end{DoxyReturn}


Definition at line 437 of file v4lcap.\+cpp.



References buffers, v4lcap\+::buffer\+\_\+holder\+::buffs, emulate\+\_\+format, v4lcap\+::buffer\+::length, v4lcap\+::buffer\+\_\+holder\+::qtd, reqbuf, request\+\_\+buffers\+\_\+mmap(), and v4lcap\+::buffer\+::start.



Referenced by V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+start\+\_\+clicked(), and close\+\_\+device().


\begin{DoxyCode}
437                          \{
438     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}.count; i++) \{
439         \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}{emulate\_format}) \{
440             \textcolor{keywordflow}{if}(-1 == v4l2\_munmap(\hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_ae4fca9eb7724f4a93ee14537fb34597e}{start}, 
      \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_a63df371d2260a5daf5e948cf4ccef703}{length}))
441                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
442         \} \textcolor{keywordflow}{else} \{
443             \textcolor{keywordflow}{if} (-1 == munmap(\hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_ae4fca9eb7724f4a93ee14537fb34597e}{start}, \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.
      \hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs}[i].\hyperlink{structv4lcap_1_1buffer_a63df371d2260a5daf5e948cf4ccef703}{length}))
444                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
445         \}
446     \}
447 
448     \textcolor{comment}{// = free all requested buffers ================================================}
449     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a874905b9c6c785294fa7487a844cb841}{request\_buffers\_mmap}(&\hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}, 1))
450         std::cout << \textcolor{stringliteral}{"Can't request 1 mmap buffers.\(\backslash\)n"};
451 
452     \textcolor{keywordflow}{if}(!\hyperlink{classv4lcap_a874905b9c6c785294fa7487a844cb841}{request\_buffers\_mmap}(&\hyperlink{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}{reqbuf}, 0))
453         std::cout << \textcolor{stringliteral}{"Can't request 0 mmap buffers.\(\backslash\)n"};
454 
455     free(\hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs});
456     \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_afa53426fad11e19f7d615f564c979495}{buffs} = 0;
457     \hyperlink{classv4lcap_a046084072d2279bb204ed93cd2692700}{buffers}.\hyperlink{structv4lcap_1_1buffer__holder_a40424b4a28263425ab1bc05aac1490b4}{qtd} = 0;
458 
459     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
460 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 94
Here is the caller graph for this function\+:
% FIG 95
\mbox{\Hypertarget{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}\label{classv4lcap_ab5aaa5a8c0df17f5ca57e0b5170232cb}} 
\index{v4lcap@{v4lcap}!xioctl@{xioctl}}
\index{xioctl@{xioctl}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{xioctl()}{xioctl()}}
{\footnotesize\ttfamily int v4lcap\+::xioctl (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{int}]{request,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Definition at line 32 of file v4lcap.\+cpp.



References emulate\+\_\+format.



Referenced by dequeue\+\_\+buff(), enqueue\+\_\+buff(), enum\+\_\+audio\+\_\+input(), enum\+\_\+audio\+\_\+output(), enum\+\_\+frame\+\_\+interval(), enum\+\_\+frame\+\_\+size(), enum\+\_\+image\+\_\+format(), enum\+\_\+video\+\_\+input(), enum\+\_\+video\+\_\+output(), enum\+\_\+video\+\_\+standard(), get\+\_\+control(), get\+\_\+format(), get\+\_\+input(), get\+\_\+input\+\_\+index(), get\+\_\+standard(), get\+\_\+standard\+\_\+id(), get\+\_\+stream\+\_\+parameter(), query\+\_\+buffer(), query\+\_\+capability(), query\+\_\+control(), query\+\_\+control\+\_\+menu(), request\+\_\+buffers(), set\+\_\+control(), set\+\_\+format(), set\+\_\+frame\+\_\+interval(), set\+\_\+frame\+\_\+size(), set\+\_\+input(), set\+\_\+pixel\+\_\+format(), set\+\_\+standard(), streamoff(), and streamon().


\begin{DoxyCode}
32                                                   \{
33     \textcolor{keywordtype}{int} r;
34 
35     \textcolor{keywordflow}{if}(\hyperlink{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}{emulate\_format}) r = v4l2\_ioctl(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, request, arg);
36     \textcolor{keywordflow}{else} r = ioctl(\hyperlink{classv4lcap_a38109593bde997dad13b3a461569573d}{fd}, request, arg);
37 
38     \textcolor{keywordflow}{return} r;
39 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 96


\subsection{Field Documentation}
\mbox{\Hypertarget{classv4lcap_a046084072d2279bb204ed93cd2692700}\label{classv4lcap_a046084072d2279bb204ed93cd2692700}} 
\index{v4lcap@{v4lcap}!buffers@{buffers}}
\index{buffers@{buffers}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{buffers}{buffers}}
{\footnotesize\ttfamily struct \hyperlink{structv4lcap_1_1buffer__holder}{buffer\+\_\+holder} v4lcap\+::buffers}



Definition at line 66 of file v4lcap.\+hpp.



Referenced by grab\+\_\+raw(), grab\+\_\+rgb(), init\+\_\+mmap(), and uninit\+\_\+mmap().

\mbox{\Hypertarget{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}\label{classv4lcap_a21b4c152f56ecc309a490cb8ab4ce117}} 
\index{v4lcap@{v4lcap}!emulate\+\_\+format@{emulate\+\_\+format}}
\index{emulate\+\_\+format@{emulate\+\_\+format}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{emulate\+\_\+format}{emulate\_format}}
{\footnotesize\ttfamily bool v4lcap\+::emulate\+\_\+format}



Definition at line 28 of file v4lcap.\+hpp.



Referenced by close\+\_\+device(), init\+\_\+mmap(), open\+\_\+device(), uninit\+\_\+mmap(), and xioctl().

\mbox{\Hypertarget{classv4lcap_a38109593bde997dad13b3a461569573d}\label{classv4lcap_a38109593bde997dad13b3a461569573d}} 
\index{v4lcap@{v4lcap}!fd@{fd}}
\index{fd@{fd}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{fd}{fd}}
{\footnotesize\ttfamily int v4lcap\+::fd}



Definition at line 27 of file v4lcap.\+hpp.



Referenced by close\+\_\+device(), dequeue\+\_\+buff(), enqueue\+\_\+buff(), enum\+\_\+audio\+\_\+input(), enum\+\_\+audio\+\_\+output(), enum\+\_\+frame\+\_\+interval(), enum\+\_\+frame\+\_\+size(), enum\+\_\+image\+\_\+format(), enum\+\_\+video\+\_\+input(), enum\+\_\+video\+\_\+output(), enum\+\_\+video\+\_\+standard(), get\+\_\+control(), get\+\_\+format(), get\+\_\+input(), get\+\_\+input\+\_\+index(), get\+\_\+standard(), get\+\_\+standard\+\_\+id(), get\+\_\+stream\+\_\+parameter(), init\+\_\+mmap(), is\+\_\+opened(), open\+\_\+device(), query\+\_\+buffer(), query\+\_\+capability(), query\+\_\+control(), query\+\_\+control\+\_\+menu(), request\+\_\+buffers(), set\+\_\+control(), set\+\_\+format(), set\+\_\+frame\+\_\+interval(), set\+\_\+frame\+\_\+size(), set\+\_\+input(), set\+\_\+pixel\+\_\+format(), set\+\_\+standard(), streamoff(), and streamon().

\mbox{\Hypertarget{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}\label{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}} 
\index{v4lcap@{v4lcap}!format\+\_\+dest@{format\+\_\+dest}}
\index{format\+\_\+dest@{format\+\_\+dest}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{format\+\_\+dest}{format\_dest}}
{\footnotesize\ttfamily struct v4l2\+\_\+format format\+\_\+src v4lcap\+::format\+\_\+dest}



Video format that the cam\textquotesingle{}s video should be returned, if not null. If format is not supported, this will change to another one.  Gets the format from de camera.  Destination format of the video. 



Definition at line 37 of file v4lcap.\+hpp.



Referenced by grab\+\_\+rgb(), start\+\_\+capturing(), and Cam\+Cap\+::start\+\_\+signal().

\mbox{\Hypertarget{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}\label{classv4lcap_acd02d2da6ff03a44a2e155af449144e4}} 
\index{v4lcap@{v4lcap}!needs\+\_\+convert@{needs\+\_\+convert}}
\index{needs\+\_\+convert@{needs\+\_\+convert}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{needs\+\_\+convert}{needs\_convert}}
{\footnotesize\ttfamily bool v4lcap\+::needs\+\_\+convert}



Definition at line 29 of file v4lcap.\+hpp.



Referenced by grab\+\_\+rgb(), and start\+\_\+capturing().

\mbox{\Hypertarget{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}\label{classv4lcap_a4b98d5a7e7859a8e234d54649ea9251e}} 
\index{v4lcap@{v4lcap}!reqbuf@{reqbuf}}
\index{reqbuf@{reqbuf}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{reqbuf}{reqbuf}}
{\footnotesize\ttfamily struct v4l2\+\_\+requestbuffers v4lcap\+::reqbuf}



Definition at line 48 of file v4lcap.\+hpp.



Referenced by init\+\_\+mmap(), start\+\_\+capturing(), and uninit\+\_\+mmap().

\mbox{\Hypertarget{classv4lcap_ae90192b024d952b464408e0ffd95d90a}\label{classv4lcap_ae90192b024d952b464408e0ffd95d90a}} 
\index{v4lcap@{v4lcap}!status@{status}}
\index{status@{status}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{status}{status}}
{\footnotesize\ttfamily unsigned int v4lcap\+::status}



Definition at line 54 of file v4lcap.\+hpp.



Referenced by close\+\_\+device(), and open\+\_\+device().

\mbox{\Hypertarget{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}\label{classv4lcap_a5e57bbf84383d7b42d0cc9d1e7e03abb}} 
\index{v4lcap@{v4lcap}!v4lconv@{v4lconv}}
\index{v4lconv@{v4lconv}!v4lcap@{v4lcap}}
\subsubsection{\texorpdfstring{v4lconv}{v4lconv}}
{\footnotesize\ttfamily struct v4lconvert\+\_\+data$\ast$ v4lcap\+::v4lconv}



Data obtained from camera. 



Definition at line 42 of file v4lcap.\+hpp.



Referenced by close\+\_\+device(), grab\+\_\+rgb(), open\+\_\+device(), and start\+\_\+capturing().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/capture/\hyperlink{v4lcap_8hpp}{v4lcap.\+hpp}\item 
src/capture/\hyperlink{v4lcap_8cpp}{v4lcap.\+cpp}\end{DoxyCompactItemize}
