\hypertarget{classnlohmann_1_1detail_1_1binary__writer}{}\section{nlohmann\+:\+:detail\+:\+:binary\+\_\+writer$<$ Basic\+Json\+Type, Char\+Type $>$ Class Template Reference}
\label{classnlohmann_1_1detail_1_1binary__writer}\index{nlohmann\+::detail\+::binary\+\_\+writer$<$ Basic\+Json\+Type, Char\+Type $>$@{nlohmann\+::detail\+::binary\+\_\+writer$<$ Basic\+Json\+Type, Char\+Type $>$}}


serialization to C\+B\+OR and Message\+Pack values  




{\ttfamily \#include $<$json.\+hpp$>$}



Collaboration diagram for nlohmann\+:\+:detail\+:\+:binary\+\_\+writer$<$ Basic\+Json\+Type, Char\+Type $>$\+:
% FIG 0
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classnlohmann_1_1detail_1_1binary__writer_a373289af95a946c19bb4a58a5df71a78}{binary\+\_\+writer} (\hyperlink{namespacenlohmann_1_1detail_a9b680ddfb58f27eb53a67229447fc556}{output\+\_\+adapter\+\_\+t}$<$ Char\+Type $>$ adapter)
\begin{DoxyCompactList}\small\item\em create a binary writer \end{DoxyCompactList}\item 
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer_aa0ab8d27fd88a33a2f801413ac4c7fbc}{write\+\_\+cbor} (const Basic\+Json\+Type \&j)
\begin{DoxyCompactList}\small\item\em \mbox{[}in\mbox{]} j J\+S\+ON value to serialize \end{DoxyCompactList}\item 
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer_ae4e0852b64102ce4b07d99f08f828b7c}{write\+\_\+msgpack} (const Basic\+Json\+Type \&j)
\begin{DoxyCompactList}\small\item\em \mbox{[}in\mbox{]} j J\+S\+ON value to serialize \end{DoxyCompactList}\item 
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a0f6c65053d859269f88eb4ebb0cd7060}{write\+\_\+ubjson} (const Basic\+Json\+Type \&j, const bool use\+\_\+count, const bool use\+\_\+type, const bool add\+\_\+prefix=true)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Number\+Type $>$ }\\void \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\+\_\+number} (const Number\+Type n)
\item 
{\footnotesize template$<$typename Number\+Type $>$ }\\void \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix} (const Number\+Type n, const bool add\+\_\+prefix)
\item 
char \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a67e1f5bb505bf9269c1e1e71d389291d}{ubjson\+\_\+prefix} (const Basic\+Json\+Type \&j) const noexcept
\begin{DoxyCompactList}\small\item\em determine the type prefix of container values \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const bool \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a048887c907afe39759b777e8c888414c}{is\+\_\+little\+\_\+endian} = \hyperlink{classnlohmann_1_1detail_1_1binary__reader}{binary\+\_\+reader}$<$Basic\+Json\+Type$>$\+::little\+\_\+endianess()
\begin{DoxyCompactList}\small\item\em whether we can assume little endianess \end{DoxyCompactList}\item 
\hyperlink{namespacenlohmann_1_1detail_a9b680ddfb58f27eb53a67229447fc556}{output\+\_\+adapter\+\_\+t}$<$ Char\+Type $>$ \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa} = nullptr
\begin{DoxyCompactList}\small\item\em the output \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename Basic\+Json\+Type, typename Char\+Type$>$\newline
class nlohmann\+::detail\+::binary\+\_\+writer$<$ Basic\+Json\+Type, Char\+Type $>$}

serialization to C\+B\+OR and Message\+Pack values 

Definition at line 6229 of file json.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_a373289af95a946c19bb4a58a5df71a78}\label{classnlohmann_1_1detail_1_1binary__writer_a373289af95a946c19bb4a58a5df71a78}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!binary\+\_\+writer@{binary\+\_\+writer}}
\index{binary\+\_\+writer@{binary\+\_\+writer}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{binary\+\_\+writer()}{binary\_writer()}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
\hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::\hyperlink{classnlohmann_1_1detail_1_1binary__writer}{binary\+\_\+writer} (\begin{DoxyParamCaption}\item[{\hyperlink{namespacenlohmann_1_1detail_a9b680ddfb58f27eb53a67229447fc556}{output\+\_\+adapter\+\_\+t}$<$ Char\+Type $>$}]{adapter }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



create a binary writer 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em adapter} & output adapter to write to \\
\hline
\end{DoxyParams}


Definition at line 6237 of file json.\+hpp.


\begin{DoxyCode}
6237                                                                : \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}(adapter)
6238     \{
6239         assert(\hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa});
6240     \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_a67e1f5bb505bf9269c1e1e71d389291d}\label{classnlohmann_1_1detail_1_1binary__writer_a67e1f5bb505bf9269c1e1e71d389291d}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!ubjson\+\_\+prefix@{ubjson\+\_\+prefix}}
\index{ubjson\+\_\+prefix@{ubjson\+\_\+prefix}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{ubjson\+\_\+prefix()}{ubjson\_prefix()}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
char \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::ubjson\+\_\+prefix (\begin{DoxyParamCaption}\item[{const Basic\+Json\+Type \&}]{j }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}



determine the type prefix of container values 

\begin{DoxyNote}{Note}
This function does not need to be 100\% accurate when it comes to integer limits. In case a number exceeds the limits of int64\+\_\+t, this will be detected by a later call to function write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix. Therefore, we return \textquotesingle{}L\textquotesingle{} for any value that does not fit the previous limits. 
\end{DoxyNote}


Definition at line 7031 of file json.\+hpp.



References nlohmann\+::detail\+::array, nlohmann\+::detail\+::boolean, nlohmann\+::detail\+::null, nlohmann\+::detail\+::number\+\_\+float, nlohmann\+::detail\+::number\+\_\+integer, nlohmann\+::detail\+::number\+\_\+unsigned, nlohmann\+::detail\+::object, and nlohmann\+::detail\+::string.


\begin{DoxyCode}
7032     \{
7033         \textcolor{keywordflow}{switch} (j.type())
7034         \{
7035             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd}{value\_t::null}:
7036                 \textcolor{keywordflow}{return} \textcolor{charliteral}{'Z'};
7037 
7038             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27}{value\_t::boolean}:
7039                 \textcolor{keywordflow}{return} j.m\_value.boolean ? \textcolor{charliteral}{'T'} : \textcolor{charliteral}{'F'};
7040 
7041             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc}{value\_t::number\_integer}:
7042             \{
7043                 \textcolor{keywordflow}{if} ((std::numeric\_limits<int8\_t>::min)() <= j.m\_value.number\_integer and j.m\_value.
      number\_integer <= (std::numeric\_limits<int8\_t>::max)())
7044                 \{
7045                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'i'};
7046                 \}
7047                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((std::numeric\_limits<uint8\_t>::min)() <= j.m\_value.number\_integer and j.m\_value.
      number\_integer <= (std::numeric\_limits<uint8\_t>::max)())
7048                 \{
7049                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'U'};
7050                 \}
7051                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((std::numeric\_limits<int16\_t>::min)() <= j.m\_value.number\_integer and j.m\_value.
      number\_integer <= (std::numeric\_limits<int16\_t>::max)())
7052                 \{
7053                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'I'};
7054                 \}
7055                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((std::numeric\_limits<int32\_t>::min)() <= j.m\_value.number\_integer and j.m\_value.
      number\_integer <= (std::numeric\_limits<int32\_t>::max)())
7056                 \{
7057                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'l'};
7058                 \}
7059                 \textcolor{keywordflow}{else}  \textcolor{comment}{// no check and assume int64\_t (see note above)}
7060                 \{
7061                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'L'};
7062                 \}
7063             \}
7064 
7065             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e}{value\_t::number\_unsigned}:
7066             \{
7067                 \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<int8\_t>::max)())
7068                 \{
7069                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'i'};
7070                 \}
7071                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint8\_t>::max)())
7072                 \{
7073                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'U'};
7074                 \}
7075                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<int16\_t>::max)())
7076                 \{
7077                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'I'};
7078                 \}
7079                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<int32\_t>::max)())
7080                 \{
7081                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'l'};
7082                 \}
7083                 \textcolor{keywordflow}{else}  \textcolor{comment}{// no check and assume int64\_t (see note above)}
7084                 \{
7085                     \textcolor{keywordflow}{return} \textcolor{charliteral}{'L'};
7086                 \}
7087             \}
7088 
7089             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef}{value\_t::number\_float}:
7090                 \textcolor{keywordflow}{return} \textcolor{charliteral}{'D'};
7091 
7092             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21}{value\_t::string}:
7093                 \textcolor{keywordflow}{return} \textcolor{charliteral}{'S'};
7094 
7095             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5}{value\_t::array}:
7096                 \textcolor{keywordflow}{return} \textcolor{charliteral}{'['};
7097 
7098             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666}{value\_t::object}:
7099                 \textcolor{keywordflow}{return} \textcolor{charliteral}{'\{'};
7100 
7101             \textcolor{keywordflow}{default}:  \textcolor{comment}{// discarded values}
7102                 \textcolor{keywordflow}{return} \textcolor{charliteral}{'N'};
7103         \}
7104     \}
\end{DoxyCode}
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_aa0ab8d27fd88a33a2f801413ac4c7fbc}\label{classnlohmann_1_1detail_1_1binary__writer_aa0ab8d27fd88a33a2f801413ac4c7fbc}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!write\+\_\+cbor@{write\+\_\+cbor}}
\index{write\+\_\+cbor@{write\+\_\+cbor}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{write\+\_\+cbor()}{write\_cbor()}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::write\+\_\+cbor (\begin{DoxyParamCaption}\item[{const Basic\+Json\+Type \&}]{j }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}in\mbox{]} j J\+S\+ON value to serialize 



Definition at line 6245 of file json.\+hpp.



References nlohmann\+::detail\+::array, nlohmann\+::detail\+::boolean, nlohmann\+::detail\+::null, nlohmann\+::detail\+::number\+\_\+float, nlohmann\+::detail\+::number\+\_\+integer, nlohmann\+::detail\+::number\+\_\+unsigned, nlohmann\+::detail\+::object, and nlohmann\+::detail\+::string.


\begin{DoxyCode}
6246     \{
6247         \textcolor{keywordflow}{switch} (j.type())
6248         \{
6249             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd}{value\_t::null}:
6250             \{
6251                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xF6));
6252                 \textcolor{keywordflow}{break};
6253             \}
6254 
6255             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27}{value\_t::boolean}:
6256             \{
6257                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(j.m\_value.boolean
6258                                     ? static\_cast<CharType>(0xF5)
6259                                     : static\_cast<CharType>(0xF4));
6260                 \textcolor{keywordflow}{break};
6261             \}
6262 
6263             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc}{value\_t::number\_integer}:
6264             \{
6265                 \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= 0)
6266                 \{
6267                     \textcolor{comment}{// CBOR does not differentiate between positive signed}
6268                     \textcolor{comment}{// integers and unsigned integers. Therefore, we used the}
6269                     \textcolor{comment}{// code from the value\_t::number\_unsigned case here.}
6270                     \textcolor{keywordflow}{if} (j.m\_value.number\_integer <= 0x17)
6271                     \{
6272                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_integer));
6273                     \}
6274                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_integer <= (std::numeric\_limits<uint8\_t>::max)())
6275                     \{
6276                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x18));
6277                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_integer));
6278                     \}
6279                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_integer <= (std::numeric\_limits<uint16\_t>::max)())
6280                     \{
6281                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x19));
6282                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(j.m\_value.number\_integer));
6283                     \}
6284                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_integer <= (std::numeric\_limits<uint32\_t>::max)())
6285                     \{
6286                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x1A));
6287                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(j.m\_value.number\_integer));
6288                     \}
6289                     \textcolor{keywordflow}{else}
6290                     \{
6291                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x1B));
6292                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(j.m\_value.number\_integer));
6293                     \}
6294                 \}
6295                 \textcolor{keywordflow}{else}
6296                 \{
6297                     \textcolor{comment}{// The conversions below encode the sign in the first}
6298                     \textcolor{comment}{// byte, and the value is converted to a positive number.}
6299                     \textcolor{keyword}{const} \textcolor{keyword}{auto} positive\_number = -1 - j.m\_value.number\_integer;
6300                     \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= -24)
6301                     \{
6302                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(0x20 + positive\_number));
6303                     \}
6304                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (positive\_number <= (std::numeric\_limits<uint8\_t>::max)())
6305                     \{
6306                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x38));
6307                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(positive\_number));
6308                     \}
6309                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (positive\_number <= (std::numeric\_limits<uint16\_t>::max)())
6310                     \{
6311                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x39));
6312                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(positive\_number));
6313                     \}
6314                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (positive\_number <= (std::numeric\_limits<uint32\_t>::max)())
6315                     \{
6316                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x3A));
6317                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(positive\_number));
6318                     \}
6319                     \textcolor{keywordflow}{else}
6320                     \{
6321                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x3B));
6322                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(positive\_number));
6323                     \}
6324                 \}
6325                 \textcolor{keywordflow}{break};
6326             \}
6327 
6328             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e}{value\_t::number\_unsigned}:
6329             \{
6330                 \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= 0x17)
6331                 \{
6332                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_unsigned));
6333                 \}
6334                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint8\_t>::max)())
6335                 \{
6336                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x18));
6337                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_unsigned));
6338                 \}
6339                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint16\_t>::max)())
6340                 \{
6341                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x19));
6342                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(j.m\_value.number\_unsigned));
6343                 \}
6344                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint32\_t>::max)())
6345                 \{
6346                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x1A));
6347                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(j.m\_value.number\_unsigned));
6348                 \}
6349                 \textcolor{keywordflow}{else}
6350                 \{
6351                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x1B));
6352                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(j.m\_value.number\_unsigned));
6353                 \}
6354                 \textcolor{keywordflow}{break};
6355             \}
6356 
6357             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef}{value\_t::number\_float}: \textcolor{comment}{// Double-Precision Float}
6358             \{
6359                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xFB));
6360                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(j.m\_value.number\_float);
6361                 \textcolor{keywordflow}{break};
6362             \}
6363 
6364             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21}{value\_t::string}:
6365             \{
6366                 \textcolor{comment}{// step 1: write control byte and the string length}
6367                 \textcolor{keyword}{const} \textcolor{keyword}{auto} N = j.m\_value.string->size();
6368                 \textcolor{keywordflow}{if} (N <= 0x17)
6369                 \{
6370                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(0x60 + N));
6371                 \}
6372                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint8\_t>::max)())
6373                 \{
6374                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x78));
6375                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(N));
6376                 \}
6377                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint16\_t>::max)())
6378                 \{
6379                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x79));
6380                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(N));
6381                 \}
6382                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint32\_t>::max)())
6383                 \{
6384                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x7A));
6385                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(N));
6386                 \}
6387                 \textcolor{comment}{// LCOV\_EXCL\_START}
6388                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint64\_t>::max)())
6389                 \{
6390                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x7B));
6391                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(N));
6392                 \}
6393                 \textcolor{comment}{// LCOV\_EXCL\_STOP}
6394 
6395                 \textcolor{comment}{// step 2: write the string}
6396                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_characters(
6397                     reinterpret\_cast<const CharType*>(j.m\_value.string->c\_str()),
6398                     j.m\_value.string->size());
6399                 \textcolor{keywordflow}{break};
6400             \}
6401 
6402             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5}{value\_t::array}:
6403             \{
6404                 \textcolor{comment}{// step 1: write control byte and the array size}
6405                 \textcolor{keyword}{const} \textcolor{keyword}{auto} N = j.m\_value.array->size();
6406                 \textcolor{keywordflow}{if} (N <= 0x17)
6407                 \{
6408                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(0x80 + N));
6409                 \}
6410                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint8\_t>::max)())
6411                 \{
6412                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x98));
6413                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(N));
6414                 \}
6415                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint16\_t>::max)())
6416                 \{
6417                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x99));
6418                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(N));
6419                 \}
6420                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint32\_t>::max)())
6421                 \{
6422                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x9A));
6423                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(N));
6424                 \}
6425                 \textcolor{comment}{// LCOV\_EXCL\_START}
6426                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint64\_t>::max)())
6427                 \{
6428                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0x9B));
6429                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(N));
6430                 \}
6431                 \textcolor{comment}{// LCOV\_EXCL\_STOP}
6432 
6433                 \textcolor{comment}{// step 2: write each element}
6434                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& el : *j.m\_value.array)
6435                 \{
6436                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_aa0ab8d27fd88a33a2f801413ac4c7fbc}{write\_cbor}(el);
6437                 \}
6438                 \textcolor{keywordflow}{break};
6439             \}
6440 
6441             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666}{value\_t::object}:
6442             \{
6443                 \textcolor{comment}{// step 1: write control byte and the object size}
6444                 \textcolor{keyword}{const} \textcolor{keyword}{auto} N = j.m\_value.object->size();
6445                 \textcolor{keywordflow}{if} (N <= 0x17)
6446                 \{
6447                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(0xA0 + N));
6448                 \}
6449                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint8\_t>::max)())
6450                 \{
6451                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xB8));
6452                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(N));
6453                 \}
6454                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint16\_t>::max)())
6455                 \{
6456                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xB9));
6457                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(N));
6458                 \}
6459                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint32\_t>::max)())
6460                 \{
6461                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xBA));
6462                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(N));
6463                 \}
6464                 \textcolor{comment}{// LCOV\_EXCL\_START}
6465                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint64\_t>::max)())
6466                 \{
6467                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xBB));
6468                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(N));
6469                 \}
6470                 \textcolor{comment}{// LCOV\_EXCL\_STOP}
6471 
6472                 \textcolor{comment}{// step 2: write each element}
6473                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& el : *j.m\_value.object)
6474                 \{
6475                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_aa0ab8d27fd88a33a2f801413ac4c7fbc}{write\_cbor}(el.first);
6476                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_aa0ab8d27fd88a33a2f801413ac4c7fbc}{write\_cbor}(el.second);
6477                 \}
6478                 \textcolor{keywordflow}{break};
6479             \}
6480 
6481             \textcolor{keywordflow}{default}:
6482                 \textcolor{keywordflow}{break};
6483         \}
6484     \}
\end{DoxyCode}
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_ae4e0852b64102ce4b07d99f08f828b7c}\label{classnlohmann_1_1detail_1_1binary__writer_ae4e0852b64102ce4b07d99f08f828b7c}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!write\+\_\+msgpack@{write\+\_\+msgpack}}
\index{write\+\_\+msgpack@{write\+\_\+msgpack}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{write\+\_\+msgpack()}{write\_msgpack()}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::write\+\_\+msgpack (\begin{DoxyParamCaption}\item[{const Basic\+Json\+Type \&}]{j }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{[}in\mbox{]} j J\+S\+ON value to serialize 



Definition at line 6489 of file json.\+hpp.



References nlohmann\+::detail\+::array, nlohmann\+::detail\+::boolean, nlohmann\+::detail\+::null, nlohmann\+::detail\+::number\+\_\+float, nlohmann\+::detail\+::number\+\_\+integer, nlohmann\+::detail\+::number\+\_\+unsigned, nlohmann\+::detail\+::object, and nlohmann\+::detail\+::string.


\begin{DoxyCode}
6490     \{
6491         \textcolor{keywordflow}{switch} (j.type())
6492         \{
6493             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd}{value\_t::null}: \textcolor{comment}{// nil}
6494             \{
6495                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xC0));
6496                 \textcolor{keywordflow}{break};
6497             \}
6498 
6499             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27}{value\_t::boolean}: \textcolor{comment}{// true and false}
6500             \{
6501                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(j.m\_value.boolean
6502                                     ? static\_cast<CharType>(0xC3)
6503                                     : static\_cast<CharType>(0xC2));
6504                 \textcolor{keywordflow}{break};
6505             \}
6506 
6507             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc}{value\_t::number\_integer}:
6508             \{
6509                 \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= 0)
6510                 \{
6511                     \textcolor{comment}{// MessagePack does not differentiate between positive}
6512                     \textcolor{comment}{// signed integers and unsigned integers. Therefore, we used}
6513                     \textcolor{comment}{// the code from the value\_t::number\_unsigned case here.}
6514                     \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned < 128)
6515                     \{
6516                         \textcolor{comment}{// positive fixnum}
6517                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_integer));
6518                     \}
6519                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint8\_t>::max)())
6520                     \{
6521                         \textcolor{comment}{// uint 8}
6522                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCC));
6523                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_integer));
6524                     \}
6525                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint16\_t>::max)())
6526                     \{
6527                         \textcolor{comment}{// uint 16}
6528                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCD));
6529                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(j.m\_value.number\_integer));
6530                     \}
6531                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint32\_t>::max)())
6532                     \{
6533                         \textcolor{comment}{// uint 32}
6534                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCE));
6535                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(j.m\_value.number\_integer));
6536                     \}
6537                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint64\_t>::max)())
6538                     \{
6539                         \textcolor{comment}{// uint 64}
6540                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCF));
6541                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(j.m\_value.number\_integer));
6542                     \}
6543                 \}
6544                 \textcolor{keywordflow}{else}
6545                 \{
6546                     \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= -32)
6547                     \{
6548                         \textcolor{comment}{// negative fixnum}
6549                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int8\_t>(j.m\_value.number\_integer));
6550                     \}
6551                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= (std::numeric\_limits<int8\_t>::min)() and
6552                              j.m\_value.number\_integer <= (std::numeric\_limits<int8\_t>::max)())
6553                     \{
6554                         \textcolor{comment}{// int 8}
6555                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xD0));
6556                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int8\_t>(j.m\_value.number\_integer));
6557                     \}
6558                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= (std::numeric\_limits<int16\_t>::min)() and
6559                              j.m\_value.number\_integer <= (std::numeric\_limits<int16\_t>::max)())
6560                     \{
6561                         \textcolor{comment}{// int 16}
6562                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xD1));
6563                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int16\_t>(j.m\_value.number\_integer));
6564                     \}
6565                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= (std::numeric\_limits<int32\_t>::min)() and
6566                              j.m\_value.number\_integer <= (std::numeric\_limits<int32\_t>::max)())
6567                     \{
6568                         \textcolor{comment}{// int 32}
6569                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xD2));
6570                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int32\_t>(j.m\_value.number\_integer));
6571                     \}
6572                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_integer >= (std::numeric\_limits<int64\_t>::min)() and
6573                              j.m\_value.number\_integer <= (std::numeric\_limits<int64\_t>::max)())
6574                     \{
6575                         \textcolor{comment}{// int 64}
6576                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xD3));
6577                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int64\_t>(j.m\_value.number\_integer));
6578                     \}
6579                 \}
6580                 \textcolor{keywordflow}{break};
6581             \}
6582 
6583             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e}{value\_t::number\_unsigned}:
6584             \{
6585                 \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned < 128)
6586                 \{
6587                     \textcolor{comment}{// positive fixnum}
6588                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_integer));
6589                 \}
6590                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint8\_t>::max)())
6591                 \{
6592                     \textcolor{comment}{// uint 8}
6593                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCC));
6594                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(j.m\_value.number\_integer));
6595                 \}
6596                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint16\_t>::max)())
6597                 \{
6598                     \textcolor{comment}{// uint 16}
6599                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCD));
6600                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(j.m\_value.number\_integer));
6601                 \}
6602                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint32\_t>::max)())
6603                 \{
6604                     \textcolor{comment}{// uint 32}
6605                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCE));
6606                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(j.m\_value.number\_integer));
6607                 \}
6608                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (j.m\_value.number\_unsigned <= (std::numeric\_limits<uint64\_t>::max)())
6609                 \{
6610                     \textcolor{comment}{// uint 64}
6611                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCF));
6612                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint64\_t>(j.m\_value.number\_integer));
6613                 \}
6614                 \textcolor{keywordflow}{break};
6615             \}
6616 
6617             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef}{value\_t::number\_float}: \textcolor{comment}{// float 64}
6618             \{
6619                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xCB));
6620                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(j.m\_value.number\_float);
6621                 \textcolor{keywordflow}{break};
6622             \}
6623 
6624             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21}{value\_t::string}:
6625             \{
6626                 \textcolor{comment}{// step 1: write control byte and the string length}
6627                 \textcolor{keyword}{const} \textcolor{keyword}{auto} N = j.m\_value.string->size();
6628                 \textcolor{keywordflow}{if} (N <= 31)
6629                 \{
6630                     \textcolor{comment}{// fixstr}
6631                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(0xA0 | N));
6632                 \}
6633                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint8\_t>::max)())
6634                 \{
6635                     \textcolor{comment}{// str 8}
6636                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xD9));
6637                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(N));
6638                 \}
6639                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint16\_t>::max)())
6640                 \{
6641                     \textcolor{comment}{// str 16}
6642                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xDA));
6643                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(N));
6644                 \}
6645                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint32\_t>::max)())
6646                 \{
6647                     \textcolor{comment}{// str 32}
6648                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xDB));
6649                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(N));
6650                 \}
6651 
6652                 \textcolor{comment}{// step 2: write the string}
6653                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_characters(
6654                     reinterpret\_cast<const CharType*>(j.m\_value.string->c\_str()),
6655                     j.m\_value.string->size());
6656                 \textcolor{keywordflow}{break};
6657             \}
6658 
6659             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5}{value\_t::array}:
6660             \{
6661                 \textcolor{comment}{// step 1: write control byte and the array size}
6662                 \textcolor{keyword}{const} \textcolor{keyword}{auto} N = j.m\_value.array->size();
6663                 \textcolor{keywordflow}{if} (N <= 15)
6664                 \{
6665                     \textcolor{comment}{// fixarray}
6666                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(0x90 | N));
6667                 \}
6668                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint16\_t>::max)())
6669                 \{
6670                     \textcolor{comment}{// array 16}
6671                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xDC));
6672                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(N));
6673                 \}
6674                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint32\_t>::max)())
6675                 \{
6676                     \textcolor{comment}{// array 32}
6677                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xDD));
6678                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(N));
6679                 \}
6680 
6681                 \textcolor{comment}{// step 2: write each element}
6682                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& el : *j.m\_value.array)
6683                 \{
6684                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_ae4e0852b64102ce4b07d99f08f828b7c}{write\_msgpack}(el);
6685                 \}
6686                 \textcolor{keywordflow}{break};
6687             \}
6688 
6689             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666}{value\_t::object}:
6690             \{
6691                 \textcolor{comment}{// step 1: write control byte and the object size}
6692                 \textcolor{keyword}{const} \textcolor{keyword}{auto} N = j.m\_value.object->size();
6693                 \textcolor{keywordflow}{if} (N <= 15)
6694                 \{
6695                     \textcolor{comment}{// fixmap}
6696                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(0x80 | (N & 0xF)));
6697                 \}
6698                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint16\_t>::max)())
6699                 \{
6700                     \textcolor{comment}{// map 16}
6701                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xDE));
6702                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint16\_t>(N));
6703                 \}
6704                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N <= (std::numeric\_limits<uint32\_t>::max)())
6705                 \{
6706                     \textcolor{comment}{// map 32}
6707                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(0xDF));
6708                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint32\_t>(N));
6709                 \}
6710 
6711                 \textcolor{comment}{// step 2: write each element}
6712                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& el : *j.m\_value.object)
6713                 \{
6714                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_ae4e0852b64102ce4b07d99f08f828b7c}{write\_msgpack}(el.first);
6715                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_ae4e0852b64102ce4b07d99f08f828b7c}{write\_msgpack}(el.second);
6716                 \}
6717                 \textcolor{keywordflow}{break};
6718             \}
6719 
6720             \textcolor{keywordflow}{default}:
6721                 \textcolor{keywordflow}{break};
6722         \}
6723     \}
\end{DoxyCode}
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}\label{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!write\+\_\+number@{write\+\_\+number}}
\index{write\+\_\+number@{write\+\_\+number}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{write\+\_\+number()}{write\_number()}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
template$<$typename Number\+Type $>$ \\
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::write\+\_\+number (\begin{DoxyParamCaption}\item[{const Number\+Type}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 6896 of file json.\+hpp.


\begin{DoxyCode}
6897     \{
6898         \textcolor{comment}{// step 1: write number to array of length NumberType}
6899         std::array<CharType, sizeof(NumberType)> vec;
6900         std::memcpy(vec.data(), &n, \textcolor{keyword}{sizeof}(NumberType));
6901 
6902         \textcolor{comment}{// step 2: write array to output (with possible reordering)}
6903         \textcolor{keywordflow}{if} (\hyperlink{classnlohmann_1_1detail_1_1binary__writer_a048887c907afe39759b777e8c888414c}{is\_little\_endian})
6904         \{
6905             \textcolor{comment}{// reverse byte order prior to conversion if necessary}
6906             std::reverse(vec.begin(), vec.end());
6907         \}
6908 
6909         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_characters(vec.data(), \textcolor{keyword}{sizeof}(NumberType));
6910     \}
\end{DoxyCode}
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}\label{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix@{write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix}}
\index{write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix@{write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix()}{write\_number\_with\_ubjson\_prefix()}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
template$<$typename Number\+Type $>$ \\
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::write\+\_\+number\+\_\+with\+\_\+ubjson\+\_\+prefix (\begin{DoxyParamCaption}\item[{const Number\+Type}]{n,  }\item[{const bool}]{add\+\_\+prefix }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 6913 of file json.\+hpp.



References nlohmann\+::detail\+::out\+\_\+of\+\_\+range\+::create(), and J\+S\+O\+N\+\_\+\+T\+H\+R\+OW.


\begin{DoxyCode}
6915     \{
6916         \textcolor{keywordflow}{if} (std::is\_floating\_point<NumberType>::value)
6917         \{
6918             \textcolor{keywordflow}{if} (add\_prefix)
6919             \{
6920                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'D'}));  \textcolor{comment}{// float64}
6921             \}
6922             \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(n);
6923         \}
6924         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (std::is\_unsigned<NumberType>::value)
6925         \{
6926             \textcolor{keywordflow}{if} (n <= (std::numeric\_limits<int8\_t>::max)())
6927             \{
6928                 \textcolor{keywordflow}{if} (add\_prefix)
6929                 \{
6930                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'i'}));  \textcolor{comment}{// int8}
6931                 \}
6932                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(n));
6933             \}
6934             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n <= (std::numeric\_limits<uint8\_t>::max)())
6935             \{
6936                 \textcolor{keywordflow}{if} (add\_prefix)
6937                 \{
6938                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'U'}));  \textcolor{comment}{// uint8}
6939                 \}
6940                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(n));
6941             \}
6942             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n <= (std::numeric\_limits<int16\_t>::max)())
6943             \{
6944                 \textcolor{keywordflow}{if} (add\_prefix)
6945                 \{
6946                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'I'}));  \textcolor{comment}{// int16}
6947                 \}
6948                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int16\_t>(n));
6949             \}
6950             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n <= (std::numeric\_limits<int32\_t>::max)())
6951             \{
6952                 \textcolor{keywordflow}{if} (add\_prefix)
6953                 \{
6954                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'l'}));  \textcolor{comment}{// int32}
6955                 \}
6956                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int32\_t>(n));
6957             \}
6958             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n <= (std::numeric\_limits<int64\_t>::max)())
6959             \{
6960                 \textcolor{keywordflow}{if} (add\_prefix)
6961                 \{
6962                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'L'}));  \textcolor{comment}{// int64}
6963                 \}
6964                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int64\_t>(n));
6965             \}
6966             \textcolor{keywordflow}{else}
6967             \{
6968                 \hyperlink{json_8hpp_a6c274f6db2e65c1b66c7d41b06ad690f}{JSON\_THROW}(\hyperlink{classnlohmann_1_1detail_1_1out__of__range_a3f6d82a6f967c4728a1ec735a7867073}{out\_of\_range::create}(407, \textcolor{stringliteral}{"number overflow
       serializing "} + std::to\_string(n)));
6969             \}
6970         \}
6971         \textcolor{keywordflow}{else}
6972         \{
6973             \textcolor{keywordflow}{if} ((std::numeric\_limits<int8\_t>::min)() <= n and n <= (std::numeric\_limits<int8\_t>::max)())
6974             \{
6975                 \textcolor{keywordflow}{if} (add\_prefix)
6976                 \{
6977                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'i'}));  \textcolor{comment}{// int8}
6978                 \}
6979                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int8\_t>(n));
6980             \}
6981             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((std::numeric\_limits<uint8\_t>::min)() <= n and n <= (std::numeric\_limits<uint8\_t>::max
      )())
6982             \{
6983                 \textcolor{keywordflow}{if} (add\_prefix)
6984                 \{
6985                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'U'}));  \textcolor{comment}{// uint8}
6986                 \}
6987                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<uint8\_t>(n));
6988             \}
6989             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((std::numeric\_limits<int16\_t>::min)() <= n and n <= (std::numeric\_limits<int16\_t>::max
      )())
6990             \{
6991                 \textcolor{keywordflow}{if} (add\_prefix)
6992                 \{
6993                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'I'}));  \textcolor{comment}{// int16}
6994                 \}
6995                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int16\_t>(n));
6996             \}
6997             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((std::numeric\_limits<int32\_t>::min)() <= n and n <= (std::numeric\_limits<int32\_t>::max
      )())
6998             \{
6999                 \textcolor{keywordflow}{if} (add\_prefix)
7000                 \{
7001                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'l'}));  \textcolor{comment}{// int32}
7002                 \}
7003                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int32\_t>(n));
7004             \}
7005             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((std::numeric\_limits<int64\_t>::min)() <= n and n <= (std::numeric\_limits<int64\_t>::max
      )())
7006             \{
7007                 \textcolor{keywordflow}{if} (add\_prefix)
7008                 \{
7009                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'L'}));  \textcolor{comment}{// int64}
7010                 \}
7011                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a62cfd50a511371e718f37ad7bb29ae9d}{write\_number}(static\_cast<int64\_t>(n));
7012             \}
7013             \textcolor{comment}{// LCOV\_EXCL\_START}
7014             \textcolor{keywordflow}{else}
7015             \{
7016                 \hyperlink{json_8hpp_a6c274f6db2e65c1b66c7d41b06ad690f}{JSON\_THROW}(\hyperlink{classnlohmann_1_1detail_1_1out__of__range_a3f6d82a6f967c4728a1ec735a7867073}{out\_of\_range::create}(407, \textcolor{stringliteral}{"number overflow
       serializing "} + std::to\_string(n)));
7017             \}
7018             \textcolor{comment}{// LCOV\_EXCL\_STOP}
7019         \}
7020     \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 1
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_a0f6c65053d859269f88eb4ebb0cd7060}\label{classnlohmann_1_1detail_1_1binary__writer_a0f6c65053d859269f88eb4ebb0cd7060}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!write\+\_\+ubjson@{write\+\_\+ubjson}}
\index{write\+\_\+ubjson@{write\+\_\+ubjson}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{write\+\_\+ubjson()}{write\_ubjson()}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
void \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::write\+\_\+ubjson (\begin{DoxyParamCaption}\item[{const Basic\+Json\+Type \&}]{j,  }\item[{const bool}]{use\+\_\+count,  }\item[{const bool}]{use\+\_\+type,  }\item[{const bool}]{add\+\_\+prefix = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em j} & J\+S\+ON value to serialize \\
\hline
\mbox{\tt in}  & {\em use\+\_\+count} & whether to use \textquotesingle{}\#\textquotesingle{} prefixes (optimized format) \\
\hline
\mbox{\tt in}  & {\em use\+\_\+type} & whether to use \textquotesingle{}\$\textquotesingle{} prefixes (optimized format) \\
\hline
\mbox{\tt in}  & {\em add\+\_\+prefix} & whether prefixes need to be used for this value \\
\hline
\end{DoxyParams}


Definition at line 6731 of file json.\+hpp.



References nlohmann\+::detail\+::array, nlohmann\+::detail\+::boolean, nlohmann\+::detail\+::null, nlohmann\+::detail\+::number\+\_\+float, nlohmann\+::detail\+::number\+\_\+integer, nlohmann\+::detail\+::number\+\_\+unsigned, nlohmann\+::detail\+::object, and nlohmann\+::detail\+::string.


\begin{DoxyCode}
6733     \{
6734         \textcolor{keywordflow}{switch} (j.type())
6735         \{
6736             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a37a6259cc0c1dae299a7866489dff0bd}{value\_t::null}:
6737             \{
6738                 \textcolor{keywordflow}{if} (add\_prefix)
6739                 \{
6740                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'Z'}));
6741                 \}
6742                 \textcolor{keywordflow}{break};
6743             \}
6744 
6745             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27}{value\_t::boolean}:
6746             \{
6747                 \textcolor{keywordflow}{if} (add\_prefix)
6748                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(j.m\_value.boolean
6749                                         ? static\_cast<CharType>(\textcolor{charliteral}{'T'})
6750                                         : static\_cast<CharType>(\textcolor{charliteral}{'F'}));
6751                 \textcolor{keywordflow}{break};
6752             \}
6753 
6754             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a5763da164f8659d94a56e29df64b4bcc}{value\_t::number\_integer}:
6755             \{
6756                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\_number\_with\_ubjson\_prefix}(j.m\_value.number\_integer, 
      add\_prefix);
6757                 \textcolor{keywordflow}{break};
6758             \}
6759 
6760             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985adce7cc8ec29055c4158828921f2f265e}{value\_t::number\_unsigned}:
6761             \{
6762                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\_number\_with\_ubjson\_prefix}(j.m\_value.number\_unsigned, 
      add\_prefix);
6763                 \textcolor{keywordflow}{break};
6764             \}
6765 
6766             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ad9966ecb59667235a57b4b999a649eef}{value\_t::number\_float}:
6767             \{
6768                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\_number\_with\_ubjson\_prefix}(j.m\_value.number\_float, 
      add\_prefix);
6769                 \textcolor{keywordflow}{break};
6770             \}
6771 
6772             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985ab45cffe084dd3d20d928bee85e7b0f21}{value\_t::string}:
6773             \{
6774                 \textcolor{keywordflow}{if} (add\_prefix)
6775                 \{
6776                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'S'}));
6777                 \}
6778                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\_number\_with\_ubjson\_prefix}(j.m\_value.string->size(), \textcolor{keyword}{
      true});
6779                 \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_characters(
6780                     reinterpret\_cast<const CharType*>(j.m\_value.string->c\_str()),
6781                     j.m\_value.string->size());
6782                 \textcolor{keywordflow}{break};
6783             \}
6784 
6785             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985af1f713c9e000f5d3f280adbd124df4f5}{value\_t::array}:
6786             \{
6787                 \textcolor{keywordflow}{if} (add\_prefix)
6788                 \{
6789                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'['}));
6790                 \}
6791 
6792                 \textcolor{keywordtype}{bool} prefix\_required = \textcolor{keyword}{true};
6793                 \textcolor{keywordflow}{if} (use\_type and not j.m\_value.array->empty())
6794                 \{
6795                     assert(use\_count);
6796                     \textcolor{keyword}{const} \textcolor{keywordtype}{char} first\_prefix = \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a67e1f5bb505bf9269c1e1e71d389291d}{ubjson\_prefix}(j.front());
6797                     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} same\_prefix = std::all\_of(j.begin() + 1, j.end(),
6798                                                          [\textcolor{keyword}{this}, first\_prefix](\textcolor{keyword}{const} BasicJsonType & v)
6799                     \{
6800                         \textcolor{keywordflow}{return} \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a67e1f5bb505bf9269c1e1e71d389291d}{ubjson\_prefix}(v) == first\_prefix;
6801                     \});
6802 
6803                     \textcolor{keywordflow}{if} (same\_prefix)
6804                     \{
6805                         prefix\_required = \textcolor{keyword}{false};
6806                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'$'}));
6807                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(first\_prefix));
6808                     \}
6809                 \}
6810 
6811                 \textcolor{keywordflow}{if} (use\_count)
6812                 \{
6813                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'#'}));
6814                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\_number\_with\_ubjson\_prefix}(j.m\_value.array->size(),
       \textcolor{keyword}{true});
6815                 \}
6816 
6817                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& el : *j.m\_value.array)
6818                 \{
6819                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a0f6c65053d859269f88eb4ebb0cd7060}{write\_ubjson}(el, use\_count, use\_type, prefix\_required);
6820                 \}
6821 
6822                 \textcolor{keywordflow}{if} (not use\_count)
6823                 \{
6824                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{']'}));
6825                 \}
6826 
6827                 \textcolor{keywordflow}{break};
6828             \}
6829 
6830             \textcolor{keywordflow}{case} \hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985aa8cfde6331bd59eb2ac96f8911c4b666}{value\_t::object}:
6831             \{
6832                 \textcolor{keywordflow}{if} (add\_prefix)
6833                 \{
6834                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'\{'}));
6835                 \}
6836 
6837                 \textcolor{keywordtype}{bool} prefix\_required = \textcolor{keyword}{true};
6838                 \textcolor{keywordflow}{if} (use\_type and not j.m\_value.object->empty())
6839                 \{
6840                     assert(use\_count);
6841                     \textcolor{keyword}{const} \textcolor{keywordtype}{char} first\_prefix = \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a67e1f5bb505bf9269c1e1e71d389291d}{ubjson\_prefix}(j.front());
6842                     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} same\_prefix = std::all\_of(j.begin(), j.end(),
6843                                                          [\textcolor{keyword}{this}, first\_prefix](\textcolor{keyword}{const} BasicJsonType & v)
6844                     \{
6845                         \textcolor{keywordflow}{return} \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a67e1f5bb505bf9269c1e1e71d389291d}{ubjson\_prefix}(v) == first\_prefix;
6846                     \});
6847 
6848                     \textcolor{keywordflow}{if} (same\_prefix)
6849                     \{
6850                         prefix\_required = \textcolor{keyword}{false};
6851                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'$'}));
6852                         \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(first\_prefix));
6853                     \}
6854                 \}
6855 
6856                 \textcolor{keywordflow}{if} (use\_count)
6857                 \{
6858                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'#'}));
6859                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\_number\_with\_ubjson\_prefix}(j.m\_value.object->size()
      , \textcolor{keyword}{true});
6860                 \}
6861 
6862                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}& el : *j.m\_value.object)
6863                 \{
6864                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6a40756933ccc4f69e3d885fe2e9032b}{write\_number\_with\_ubjson\_prefix}(el.first.size(), \textcolor{keyword}{true});
6865                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_characters(
6866                         reinterpret\_cast<const CharType*>(el.first.c\_str()),
6867                         el.first.size());
6868                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a0f6c65053d859269f88eb4ebb0cd7060}{write\_ubjson}(el.second, use\_count, use\_type, prefix\_required);
6869                 \}
6870 
6871                 \textcolor{keywordflow}{if} (not use\_count)
6872                 \{
6873                     \hyperlink{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}{oa}->write\_character(static\_cast<CharType>(\textcolor{charliteral}{'\}'}));
6874                 \}
6875 
6876                 \textcolor{keywordflow}{break};
6877             \}
6878 
6879             \textcolor{keywordflow}{default}:
6880                 \textcolor{keywordflow}{break};
6881         \}
6882     \}
\end{DoxyCode}


\subsection{Field Documentation}
\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_a048887c907afe39759b777e8c888414c}\label{classnlohmann_1_1detail_1_1binary__writer_a048887c907afe39759b777e8c888414c}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!is\+\_\+little\+\_\+endian@{is\+\_\+little\+\_\+endian}}
\index{is\+\_\+little\+\_\+endian@{is\+\_\+little\+\_\+endian}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{is\+\_\+little\+\_\+endian}{is\_little\_endian}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
const bool \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::is\+\_\+little\+\_\+endian = \hyperlink{classnlohmann_1_1detail_1_1binary__reader}{binary\+\_\+reader}$<$Basic\+Json\+Type$>$\+::little\+\_\+endianess()\hspace{0.3cm}{\ttfamily [private]}}



whether we can assume little endianess 



Definition at line 7108 of file json.\+hpp.

\mbox{\Hypertarget{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}\label{classnlohmann_1_1detail_1_1binary__writer_a6f15b782a7900f50ef37d123008e601b}} 
\index{nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}!oa@{oa}}
\index{oa@{oa}!nlohmann\+::detail\+::binary\+\_\+writer@{nlohmann\+::detail\+::binary\+\_\+writer}}
\subsubsection{\texorpdfstring{oa}{oa}}
{\footnotesize\ttfamily template$<$typename Basic\+Json\+Type , typename Char\+Type $>$ \\
\hyperlink{namespacenlohmann_1_1detail_a9b680ddfb58f27eb53a67229447fc556}{output\+\_\+adapter\+\_\+t}$<$Char\+Type$>$ \hyperlink{classnlohmann_1_1detail_1_1binary__writer}{nlohmann\+::detail\+::binary\+\_\+writer}$<$ Basic\+Json\+Type, Char\+Type $>$\+::oa = nullptr\hspace{0.3cm}{\ttfamily [private]}}



the output 



Definition at line 7111 of file json.\+hpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/lib/\hyperlink{json_8hpp}{json.\+hpp}\end{DoxyCompactItemize}
