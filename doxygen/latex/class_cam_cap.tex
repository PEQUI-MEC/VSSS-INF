\hypertarget{class_cam_cap}{}\section{Cam\+Cap Class Reference}
\label{class_cam_cap}\index{Cam\+Cap@{Cam\+Cap}}


{\ttfamily \#include $<$camcap.\+hpp$>$}



Inheritance diagram for Cam\+Cap\+:
% FIG 0


Collaboration diagram for Cam\+Cap\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_cam_cap_afc272fe8b0ddc82386dbf827aed7db78}{update\+All\+Positions} ()
\begin{DoxyCompactList}\small\item\em Updates the position of all captured elements. \end{DoxyCompactList}\item 
bool \hyperlink{class_cam_cap_ae676e6624dd821ad494a80e68a41e249}{start\+\_\+signal} (bool b)
\begin{DoxyCompactList}\small\item\em Interface adjustments after \textquotesingle{}start\textquotesingle{} button is clicked. \end{DoxyCompactList}\item 
bool \hyperlink{class_cam_cap_a87f384c5fec40a0ccfd7833347fec0df}{capture\+\_\+and\+\_\+show} ()
\begin{DoxyCompactList}\small\item\em Captures camera frames and shows it in the interface. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_afb044a7b5b3b2f17af62e3115e84993e}{arrowed\+Line} (cv\+::\+Mat img, cv\+::\+Point pt1, cv\+::\+Point pt2, const cv\+::\+Scalar \&color, int thickness=1, int line\+\_\+type=8, int shift=0, double tip\+Length=0.\+1)
\begin{DoxyCompactList}\small\item\em Draws an arrow between two given points. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_a0f09ee70dc70ffad088a87bd3011592d}{send\+\_\+cmd\+\_\+thread} ()
\begin{DoxyCompactList}\small\item\em Send robots to its estimated positions. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_ad34d9213700050e66a66e63d027b9bf0}{notify\+\_\+data\+\_\+ready} ()
\begin{DoxyCompactList}\small\item\em Notifies all waiting threads through a conditional variable. \end{DoxyCompactList}\item 
double \hyperlink{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}{distance} (cv\+::\+Point a, cv\+::\+Point b)
\begin{DoxyCompactList}\small\item\em Calculates the euclidean distance between two given points. \end{DoxyCompactList}\item 
double \hyperlink{class_cam_cap_abf57bed0fb3a45bb50947cd6f42698ea}{angular\+\_\+distance} (double alpha, double beta)
\begin{DoxyCompactList}\small\item\em Calculates the angular distance between two given points. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_a8bab2cf2a40f386ab20480cfc83ac77c}{updating\+\_\+formation} ()
\begin{DoxyCompactList}\small\item\em Sends robots to the target position and orientation. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_a848749241df00e03c5fca82cc9423fdd}{formation\+\_\+creation} ()
\begin{DoxyCompactList}\small\item\em Creates the formation (creation and load) interface. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_afa26f0cbaee5db899735934f3548ebe9}{update\+\_\+formation\+\_\+information} ()
\begin{DoxyCompactList}\small\item\em Updates information given by interface in strategy. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_a93f8ee79ed618c215139e40eb0485c9f}{P\+I\+D\+\_\+test} ()
\begin{DoxyCompactList}\small\item\em Executes the \textquotesingle{}P\+ID Test on click\textquotesingle{} at the control panel. \end{DoxyCompactList}\item 
void \hyperlink{class_cam_cap_a90c0560e51d69bc551ae17c72edb3028}{warp\+\_\+transform} (cv\+::\+Mat camera\+Flow)
\begin{DoxyCompactList}\small\item\em Adjusts the image framing. \end{DoxyCompactList}\item 
\hyperlink{class_cam_cap_afe0db98a5f72bc9b261dcb78e2840da6}{Cam\+Cap} ()
\begin{DoxyCompactList}\small\item\em Constructor of a \hyperlink{class_cam_cap}{Cam\+Cap} object. \end{DoxyCompactList}\item 
\hyperlink{class_cam_cap_a3d74911ae33294e1714a40fc02e7783d}{$\sim$\+Cam\+Cap} ()
\begin{DoxyCompactList}\small\item\em Destructor of a \hyperlink{class_cam_cap}{Cam\+Cap} object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}
\item 
int \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}
\item 
int \hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\+\_\+index} =-\/1
\item 
int \hyperlink{class_cam_cap_a01f1239b5e2b6478ebda3eac68c35bc1}{fps\+\_\+average} = 0
\item 
int \hyperlink{class_cam_cap_a074219feeb2cc1531246f45d8244ed0c}{timer\+Counter} = 0
\item 
\hyperlink{class_c_p_u_timer}{C\+P\+U\+Timer} \hyperlink{class_cam_cap_a2ea4ba1566017370f13057ec3d8b43ff}{timer}
\item 
bool \hyperlink{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}{fixed\+\_\+ball} \mbox{[}3\mbox{]}
\item 
bool \hyperlink{class_cam_cap_ada660167ec9872e8c91f0e8cf82028f0}{K\+F\+\_\+\+F\+I\+R\+ST} = true
\item 
unsigned char $\ast$ \hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data}
\item 
int \hyperlink{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}{frame\+Counter}
\item 
double \hyperlink{class_cam_cap_adfc9cd012ff6fa67497ffb0d32eb634e}{ticks} = 0
\item 
vector$<$ cv\+::\+Point $>$ \hyperlink{class_cam_cap_ae72873010cb7dae6e9842ccae917cae3}{adv\+Robots}
\item 
vector$<$ \hyperlink{class_kalman_filter}{Kalman\+Filter} $>$ \hyperlink{class_cam_cap_abf236d376a111567379a41ae29b3f644}{K\+F\+\_\+\+Robot\+Ball}
\item 
cv\+::\+Point \hyperlink{class_cam_cap_ae91debabf4943c74262acf6d60c6930f}{Ball\+\_\+\+Est}
\item 
cv\+::\+Point \hyperlink{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}{Ball\+\_\+kf\+\_\+est}
\item 
cv\+::\+Point \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\+\_\+robots\+\_\+positions} \mbox{[}3\mbox{]}
\item 
float \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\+\_\+robots\+\_\+orientations} \mbox{[}3\mbox{]}
\item 
int \hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\+\_\+robot\+\_\+selected} = -\/1
\item 
\hyperlink{class_strategy_g_u_i}{Strategy\+G\+UI} \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategy\+G\+UI}
\item 
\hyperlink{class_control_g_u_i}{Control\+G\+UI} \hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}
\item 
\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface}{V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface} \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}
\item 
Gtk\+::\+Frame \hyperlink{class_cam_cap_ad0377b692fbf2edec6d8cc3dfdc65c2d}{fm}
\item 
Gtk\+::\+Frame \hyperlink{class_cam_cap_a411c71ae763f50f8a8752bb9a6ddc4d1}{info\+\_\+fm}
\item 
Gtk\+::\+V\+Box \hyperlink{class_cam_cap_a4a00cd71f3f2ab88b985f53e527613fd}{camera\+\_\+vbox}
\item 
Gtk\+::\+Notebook \hyperlink{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}{notebook}
\item 
sigc\+::connection \hyperlink{class_cam_cap_a608a3c47ba3c1c046794e3f074b97cea}{con}
\item 
boost\+::thread \hyperlink{class_cam_cap_a0aedb5217ab6aa3d7c383a6f39c940cd}{msg\+\_\+thread}
\item 
boost\+::condition\+\_\+variable \hyperlink{class_cam_cap_a609ffa71782939a4428485a191202bbc}{data\+\_\+ready\+\_\+cond}
\item 
boost\+::mutex \hyperlink{class_cam_cap_af1a617d50c6eed145fe96fd4b40e73bf}{data\+\_\+ready\+\_\+mutex}
\item 
bool \hyperlink{class_cam_cap_a6ebbdd1217a68d77959aec45c7ea59e2}{data\+\_\+ready\+\_\+flag} = false
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 45 of file camcap.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_cam_cap_afe0db98a5f72bc9b261dcb78e2840da6}\label{class_cam_cap_afe0db98a5f72bc9b261dcb78e2840da6}} 
\index{Cam\+Cap@{Cam\+Cap}!Cam\+Cap@{Cam\+Cap}}
\index{Cam\+Cap@{Cam\+Cap}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{Cam\+Cap()}{CamCap()}}
{\footnotesize\ttfamily Cam\+Cap\+::\+Cam\+Cap (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructor of a \hyperlink{class_cam_cap}{Cam\+Cap} object. 

Sets variables and append elements to the interface 

Definition at line 3 of file camcap.\+cpp.



References Image\+View\+::adjust\+\_\+mat, camera\+\_\+vbox, control, fixed\+\_\+ball, fm, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::image\+View, info\+\_\+fm, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::info\+\_\+hbox, interface, K\+F\+\_\+\+Robot\+Ball, notebook, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::robot\+G\+UI, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::signal\+\_\+start(), start\+\_\+signal(), strategy\+G\+UI, virtual\+\_\+robots\+\_\+orientations, virtual\+\_\+robots\+\_\+positions, and V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::vision\+G\+UI.


\begin{DoxyCode}
3                : \hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data}(0), \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}(0), \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}(0), \hyperlink{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}{frameCounter}(0), 
      \hyperlink{class_cam_cap_a0aedb5217ab6aa3d7c383a6f39c940cd}{msg\_thread}(&\hyperlink{class_cam_cap_a0f09ee70dc70ffad088a87bd3011592d}{CamCap::send\_cmd\_thread}, \textcolor{keyword}{this}) \{
4     \hyperlink{class_cam_cap_ad0377b692fbf2edec6d8cc3dfdc65c2d}{fm}.set\_label(\textcolor{stringliteral}{"ImageView"});
5     \hyperlink{class_cam_cap_ad0377b692fbf2edec6d8cc3dfdc65c2d}{fm}.add(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView});
6 
7     \hyperlink{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}{notebook}.append\_page(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}, \textcolor{stringliteral}{"Capture"});
8     \hyperlink{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}{notebook}.append\_page(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ad7fa1969bc6892bad70672aacaa960c7}{robotGUI}, \textcolor{stringliteral}{"Robot"});
9     \hyperlink{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}{notebook}.append\_page(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}, \textcolor{stringliteral}{"Vision"});
10     \hyperlink{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}{notebook}.append\_page(\hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}, \textcolor{stringliteral}{"Control"});
11     \hyperlink{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}{notebook}.append\_page(\hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}, \textcolor{stringliteral}{"Strategy"});
12 
13     KalmanFilter kf;
14     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 4; i++) \{
15         \hyperlink{class_cam_cap_abf236d376a111567379a41ae29b3f644}{KF\_RobotBall}.push\_back(kf); 
16     \}
17 
18     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 3; i++) \{
19         \hyperlink{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}{fixed\_ball}[i]=\textcolor{keyword}{false};
20         \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i] = 0;
21         \textcolor{comment}{// valores absolutos pois são só pra incializar}
22         \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i] = cv::Point(200, 480 / 6 + (i + 1) * 480 / 6);
23     \}
24 
25     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 4; i++) \{
26         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[i][0] = -1;
27         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[i][1] = -1;
28     \}
29 
30     \hyperlink{class_cam_cap_a4a00cd71f3f2ab88b985f53e527613fd}{camera\_vbox}.pack\_start(\hyperlink{class_cam_cap_ad0377b692fbf2edec6d8cc3dfdc65c2d}{fm}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, 10);
31     \hyperlink{class_cam_cap_a4a00cd71f3f2ab88b985f53e527613fd}{camera\_vbox}.pack\_start(\hyperlink{class_cam_cap_a411c71ae763f50f8a8752bb9a6ddc4d1}{info\_fm}, \textcolor{keyword}{false}, \textcolor{keyword}{true}, 10);
32     \hyperlink{class_cam_cap_a411c71ae763f50f8a8752bb9a6ddc4d1}{info\_fm}.add(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ae189e841cf752e3b018b2e0eb9f65ea7}{info\_hbox});
33 
34     pack\_start(\hyperlink{class_cam_cap_a4a00cd71f3f2ab88b985f53e527613fd}{camera\_vbox}, \textcolor{keyword}{true}, \textcolor{keyword}{true}, 10);
35     pack\_start(\hyperlink{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}{notebook}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, 10);
36 
37     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a43220e7911fcf933c7e2e702b703943e}{signal\_start}().connect(sigc::mem\_fun(*\textcolor{keyword}{this}, &
      \hyperlink{class_cam_cap_ae676e6624dd821ad494a80e68a41e249}{CamCap::start\_signal}));
38 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 2
\mbox{\Hypertarget{class_cam_cap_a3d74911ae33294e1714a40fc02e7783d}\label{class_cam_cap_a3d74911ae33294e1714a40fc02e7783d}} 
\index{Cam\+Cap@{Cam\+Cap}!````~Cam\+Cap@{$\sim$\+Cam\+Cap}}
\index{````~Cam\+Cap@{$\sim$\+Cam\+Cap}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{$\sim$\+Cam\+Cap()}{~CamCap()}}
{\footnotesize\ttfamily Cam\+Cap\+::$\sim$\+Cam\+Cap (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor of a \hyperlink{class_cam_cap}{Cam\+Cap} object. 



Definition at line 40 of file camcap.\+cpp.



References con, data, Image\+View\+::disable\+\_\+image\+\_\+show(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::image\+View, interface, and msg\+\_\+thread.


\begin{DoxyCode}
40                \{
41     \hyperlink{class_cam_cap_a608a3c47ba3c1c046794e3f074b97cea}{con}.disconnect();
42     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a52c3ac86c941bcdfdd4fd8c711e53184}{disable\_image\_show}();
43     free(\hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data});
44 
45     \hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data} = 0;
46     
47     \hyperlink{class_cam_cap_a0aedb5217ab6aa3d7c383a6f39c940cd}{msg\_thread}.interrupt();
48     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a0aedb5217ab6aa3d7c383a6f39c940cd}{msg\_thread}.joinable()) \hyperlink{class_cam_cap_a0aedb5217ab6aa3d7c383a6f39c940cd}{msg\_thread}.join();
49 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 3


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_cam_cap_abf57bed0fb3a45bb50947cd6f42698ea}\label{class_cam_cap_abf57bed0fb3a45bb50947cd6f42698ea}} 
\index{Cam\+Cap@{Cam\+Cap}!angular\+\_\+distance@{angular\+\_\+distance}}
\index{angular\+\_\+distance@{angular\+\_\+distance}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{angular\+\_\+distance()}{angular\_distance()}}
{\footnotesize\ttfamily double Cam\+Cap\+::angular\+\_\+distance (\begin{DoxyParamCaption}\item[{double}]{alpha,  }\item[{double}]{beta }\end{DoxyParamCaption})}



Calculates the angular distance between two given points. 


\begin{DoxyParams}{Parameters}
{\em alpha} & First point \\
\hline
{\em beta} & Second point \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Angle between alpha and beta 
\end{DoxyReturn}


Definition at line 342 of file camcap.\+cpp.



References distance(), and PI.



Referenced by updating\+\_\+formation().


\begin{DoxyCode}
342                                                          \{
343     \textcolor{keywordtype}{double} phi = fmod(abs(beta - alpha), (\hyperlink{camcap_8hpp_a598a3330b3c21701223ee0ca14316eca}{PI}));
344     \textcolor{keywordtype}{double} \hyperlink{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}{distance} = phi > \hyperlink{camcap_8hpp_a598a3330b3c21701223ee0ca14316eca}{PI}/2 ? \hyperlink{camcap_8hpp_a598a3330b3c21701223ee0ca14316eca}{PI} - phi : phi;
345     \textcolor{keywordflow}{return} \hyperlink{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}{distance};
346 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 4
Here is the caller graph for this function\+:
% FIG 5
\mbox{\Hypertarget{class_cam_cap_afb044a7b5b3b2f17af62e3115e84993e}\label{class_cam_cap_afb044a7b5b3b2f17af62e3115e84993e}} 
\index{Cam\+Cap@{Cam\+Cap}!arrowed\+Line@{arrowed\+Line}}
\index{arrowed\+Line@{arrowed\+Line}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{arrowed\+Line()}{arrowedLine()}}
{\footnotesize\ttfamily void Cam\+Cap\+::arrowed\+Line (\begin{DoxyParamCaption}\item[{cv\+::\+Mat}]{img,  }\item[{cv\+::\+Point}]{pt1,  }\item[{cv\+::\+Point}]{pt2,  }\item[{const cv\+::\+Scalar \&}]{color,  }\item[{int}]{thickness = {\ttfamily 1},  }\item[{int}]{line\+\_\+type = {\ttfamily 8},  }\item[{int}]{shift = {\ttfamily 0},  }\item[{double}]{tip\+Length = {\ttfamily 0.1} }\end{DoxyParamCaption})}



Draws an arrow between two given points. 


\begin{DoxyParams}{Parameters}
{\em img} & Cameraflow \\
\hline
{\em pt1} & Point to be connected \\
\hline
{\em pt2} & Point to be connected \\
\hline
{\em color} & Arrow\textquotesingle{}s color \\
\hline
{\em thickness} & Arrow\textquotesingle{}s line thickness \\
\hline
{\em line\+\_\+type} & The way that pixels are connected. Each pixel has 8 neighbors by default \\
\hline
{\em shift} & Number of fractional bits in the point coordinates \\
\hline
{\em tip\+Length} & Length of the arrow tip \\
\hline
\end{DoxyParams}


Definition at line 323 of file camcap.\+cpp.



Referenced by capture\+\_\+and\+\_\+show().


\begin{DoxyCode}
324                                                                \{
325 
326     \textcolor{keyword}{const} \textcolor{keywordtype}{double} tipSize = norm(pt1-pt2)*tipLength;
327     line(img, pt1, pt2, color, thickness, line\_type, shift);
328     \textcolor{keyword}{const} \textcolor{keywordtype}{double} angle = atan2( (\textcolor{keywordtype}{double}) pt1.y - pt2.y, (\textcolor{keywordtype}{double}) pt1.x - pt2.x );
329     cv::Point p(cvRound(pt2.x + tipSize * cos(angle + CV\_PI / 4)),
330     cvRound(pt2.y + tipSize * sin(angle + CV\_PI / 4)));
331     line(img, p, pt2, color, thickness, line\_type, shift);
332     p.x = cvRound(pt2.x + tipSize * cos(angle - CV\_PI / 4));
333     p.y = cvRound(pt2.y + tipSize * sin(angle - CV\_PI / 4));
334     line(img, p, pt2, color, thickness, line\_type, shift);
335 
336 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 6
\mbox{\Hypertarget{class_cam_cap_a87f384c5fec40a0ccfd7833347fec0df}\label{class_cam_cap_a87f384c5fec40a0ccfd7833347fec0df}} 
\index{Cam\+Cap@{Cam\+Cap}!capture\+\_\+and\+\_\+show@{capture\+\_\+and\+\_\+show}}
\index{capture\+\_\+and\+\_\+show@{capture\+\_\+and\+\_\+show}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{capture\+\_\+and\+\_\+show()}{capture\_and\_show()}}
{\footnotesize\ttfamily bool Cam\+Cap\+::capture\+\_\+and\+\_\+show (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Captures camera frames and shows it in the interface. 

It also draw elements (target circles, arrows, virtual robots) and triggers some events (formation change, warp, hsv and pid buttons) \begin{DoxyReturn}{Returns}
bool true 
\end{DoxyReturn}


Definition at line 96 of file camcap.\+cpp.



References Image\+View\+::adjust\+\_\+event\+\_\+flag, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::adjust\+\_\+event\+\_\+flag, adv\+Robots, arrowed\+Line(), Ball\+\_\+\+Est, Ball\+\_\+kf\+\_\+est, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::bt\+\_\+adjust, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::bt\+\_\+warp, Control\+G\+U\+I\+::button\+\_\+\+P\+I\+D\+\_\+\+Test, control, data, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::draw\+\_\+info\+\_\+flag, formation\+\_\+creation(), Image\+View\+::formation\+\_\+flag, Strategy\+G\+U\+I\+::formation\+\_\+flag, fps\+\_\+average, frame\+Counter, Strategy\+::get\+\_\+\+Ball\+\_\+\+Est(), Robots\+::get\+\_\+position(), Robots\+::get\+\_\+secondary\+\_\+tag(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::get\+\_\+start\+\_\+game\+\_\+flag(), Robots\+::get\+\_\+target(), Strategy\+::get\+\_\+targets(), Robots\+::get\+\_\+trans\+Angle(), Vision\+::get\+Advs(), C\+P\+U\+Timer\+::get\+Crono\+Total\+Secs(), Vision\+G\+U\+I\+::get\+Is\+Split\+View(), Vision\+::get\+Split\+Frame(), Vision\+::get\+Threshold(), v4lcap\+::grab\+\_\+rgb(), height, Image\+View\+::hold\+\_\+warp, Vision\+G\+U\+I\+::\+H\+S\+V\+\_\+calib\+\_\+event\+\_\+flag, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::image\+View, Vision\+G\+U\+I\+::\+Img\+\_\+id, interface, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::invert\+\_\+image\+\_\+flag, Robots\+::is\+\_\+target\+\_\+set(), notify\+\_\+data\+\_\+ready(), P\+I\+D\+\_\+test(), Image\+View\+::\+P\+I\+D\+\_\+test\+\_\+flag, Control\+G\+U\+I\+::\+P\+I\+D\+\_\+test\+\_\+flag, Image\+View\+::refresh(), C\+P\+U\+Timer\+::reset(), Robots\+::reset\+\_\+commands(), Robots\+::reset\+\_\+targets(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::reset\+\_\+warp\+\_\+flag, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::robot\+G\+UI, Vision\+::run(), Image\+View\+::sector, Selec\+\_\+index, Vision\+G\+U\+I\+::select\+Frame(), Strategy\+::set\+\_\+\+Ball(), Image\+View\+::set\+\_\+data(), Robots\+::\+S\+I\+ZE, Image\+View\+::split\+\_\+flag, C\+P\+U\+Timer\+::start(), C\+P\+U\+Timer\+::stop(), Strategy\+G\+U\+I\+::strategy, strategy\+G\+UI, timer, Control\+G\+U\+I\+::update\+\_\+msg\+\_\+time(), Robot\+G\+U\+I\+::update\+\_\+robot\+\_\+functions(), Robot\+G\+U\+I\+::update\+\_\+speed\+\_\+progress\+Bars(), update\+All\+Positions(), updating\+\_\+formation(), Strategy\+G\+U\+I\+::updating\+\_\+formation\+\_\+flag, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::vcap, virtual\+\_\+robot\+\_\+selected, virtual\+\_\+robots\+\_\+orientations, virtual\+\_\+robots\+\_\+positions, Vision\+G\+U\+I\+::vision, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::vision\+G\+UI, Image\+View\+::warp\+\_\+counter, Image\+View\+::warp\+\_\+event\+\_\+flag, warp\+\_\+transform(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::warped, and width.



Referenced by start\+\_\+signal().


\begin{DoxyCode}
96                               \{
97     \textcolor{comment}{// ----------------- CONFIGURAÇÃO INICIAL -----------------//}
98     \textcolor{keywordflow}{if} (!\hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
99     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}{frameCounter} == 0) \hyperlink{class_cam_cap_a2ea4ba1566017370f13057ec3d8b43ff}{timer}.\hyperlink{class_c_p_u_timer_a8712b4f64c79a210e91bbb72ed55bfc1}{start}();
100 
101     \hyperlink{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}{frameCounter}++;
102 
103     \textcolor{comment}{// ----------------- CAPTURA -----------------//}
104 
105     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7ece61f4ccc6d5321c445e60f34e7f33}{vcap}.\hyperlink{classv4lcap_a4ef7f2a17a32f5b89bf9ddce123a3b52}{grab\_rgb}(\hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data}); \textcolor{comment}{// pega dados da câmera}
106     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a34baa17952c6cbc4374f1bb6bdbbd757}{set\_data}(\hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data}, \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}, 
      \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}); \textcolor{comment}{// coloca dados no canvas da interface}
107     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a1c14fbed1a32a6f159c9916b6bd04d0a}{refresh}(); \textcolor{comment}{// mostra os dados}
108 
109     cv::Mat cameraFlow(\hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}, \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}, CV\_8UC3, \hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data}); \textcolor{comment}{// cria a imagem que será utilizada na
       visão}
110 
111     \textcolor{comment}{// ----------------- FLAGS DE INTERFACE -----------------//}
112 
113     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a93112870dda714b0bbe59b8f6cfe4b99}{hold\_warp}) \{
114         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ac87d2ec65167aae1177178f6bffce0ed}{warped} = \textcolor{keyword}{true};
115         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a0d17ffdc7f7792c2d37bcda12c700133}{bt\_adjust}.set\_state(Gtk::STATE\_NORMAL);
116         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a1a2a3e02d28b64343e62e17069fb1fd8}{warp\_event\_flag} = \textcolor{keyword}{false};
117         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a93112870dda714b0bbe59b8f6cfe4b99}{hold\_warp} = \textcolor{keyword}{false};
118     \}
119 
120     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_aa6cd5079d1f62050205bca10edf667ce}{reset\_warp\_flag}) \{
121         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_af8b73549a44458562570771774f7b04b}{warp\_counter} = 0;
122         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_aa6cd5079d1f62050205bca10edf667ce}{reset\_warp\_flag} = \textcolor{keyword}{false};
123     \}
124 
125     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_af347599c5ea679b8ed0ca867f3a942c5}{split\_flag} = \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a2d3a0e0b04ac1b80070e9123ec354d83}{getIsSplitView}();
126     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ad94a51f7cd15b92c8c9defa5fb745b6d}{PID\_test\_flag} = \hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}.
      \hyperlink{class_control_g_u_i_a7839defbdc6354cabaa58ceadfe926c3}{PID\_test\_flag};
127     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a44427e978ef9239514b7149ebf59022c}{formation\_flag} = 
      \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_aaac145125516fb8b7fe7137db18cdb58}{formation\_flag};
128     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_abc6c43376871979a67c86b041025ab07}{adjust\_event\_flag} = 
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a52efea2776e5a4c8af47ca2d43dd75a5}{adjust\_event\_flag};
129 
130     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a0a5a7071e17e23864058b755b515e9ab}{sector} != -1) \{
131         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a26659931ea77f5b975fe1d0ce101c74c}{selectFrame}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a0a5a7071e17e23864058b755b515e9ab}{sector});
132         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a0a5a7071e17e23864058b755b515e9ab}{sector} = -1;
133     \}
134 
135     \textcolor{comment}{// ----------------- PREPARAÇÃO DA VISÃO -----------------//}
136 
137     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ac87d2ec65167aae1177178f6bffce0ed}{warped}) \{
138         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a6cdcc092c26848cd7009e56084ee1b23}{bt\_warp}.set\_active(\textcolor{keyword}{false});
139         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a6cdcc092c26848cd7009e56084ee1b23}{bt\_warp}.set\_state(Gtk::STATE\_INSENSITIVE);
140         \hyperlink{class_cam_cap_a90c0560e51d69bc551ae17c72edb3028}{warp\_transform}(cameraFlow);
141         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a1a2a3e02d28b64343e62e17069fb1fd8}{warp\_event\_flag}=\textcolor{keyword}{false};
142 
143         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a5915fd3d7a8047e2c9cd331976acbbae}{invert\_image\_flag})
144             cv::flip(cameraFlow,cameraFlow, -1);
145     \}
146 
147     \textcolor{comment}{// ----------------- VISÃO -----------------//}
148 
149     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a36aba058af844ec6cbe0c945c616cd5f}{vision}->\hyperlink{class_vision_a8d7335b29584429ff5b5c24958896b08}{run}(cameraFlow); \textcolor{comment}{// executa a visão}
150 
151     \hyperlink{class_cam_cap_ae72873010cb7dae6e9842ccae917cae3}{advRobots} = \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a36aba058af844ec6cbe0c945c616cd5f}{vision}->
      \hyperlink{class_vision_ade08a555c6bcba89ee6a60be24f95c5b}{getAdvs}();
152 
153     \textcolor{comment}{// atualiza a interface de acordo com o tipo de view (simples ou split)}
154     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a2d3a0e0b04ac1b80070e9123ec354d83}{getIsSplitView}()) \{
155         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a34baa17952c6cbc4374f1bb6bdbbd757}{set\_data}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a36aba058af844ec6cbe0c945c616cd5f}{vision}->\hyperlink{class_vision_a5543116011e744661d9e60a70012bc6c}{getSplitFrame}().clone().data, 
      \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}, \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height});
156         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a1c14fbed1a32a6f159c9916b6bd04d0a}{refresh}();
157     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_ac732afeda7552e0c1dc4db8d63633be2}{HSV\_calib\_event\_flag}) \{
158         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a34baa17952c6cbc4374f1bb6bdbbd757}{set\_data}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a36aba058af844ec6cbe0c945c616cd5f}{vision}->\hyperlink{class_vision_a8dbf66a10209a8c92480b303e1eac3de}{getThreshold}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a4a46f114bc58e0f1d56b655f4bc8f9d8}{Img\_id}).data, \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}, \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height});
159         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a1c14fbed1a32a6f159c9916b6bd04d0a}{refresh}();
160     \}
161 
162     \textcolor{comment}{// roda os filtros e atualiza a posição dos robos na interface}
163     \hyperlink{class_cam_cap_afc272fe8b0ddc82386dbf827aed7db78}{updateAllPositions}();
164 
165     \textcolor{comment}{// -------------- CONTROLE -----------------//}
166 
167     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ad94a51f7cd15b92c8c9defa5fb745b6d}{PID\_test\_flag} && !
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}()) \{
168         \hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}.\hyperlink{class_control_g_u_i_a3e71e5f6e11ffd2ab7a206988ef8d7bb}{button\_PID\_Test}.set\_active(\textcolor{keyword}{true});
169         \hyperlink{class_cam_cap_a93f8ee79ed618c215139e40eb0485c9f}{PID\_test}();
170     \} \textcolor{keywordflow}{else} \{
171         \hyperlink{class_robots_ade0caad007f6bbc5cdb35182a16780b7}{Robots::reset\_targets}();
172         \hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index}=-1;
173         \hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}.\hyperlink{class_control_g_u_i_a7839defbdc6354cabaa58ceadfe926c3}{PID\_test\_flag} = \textcolor{keyword}{false};
174     \}
175 
176     \textcolor{keywordflow}{if}(!\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ad94a51f7cd15b92c8c9defa5fb745b6d}{PID\_test\_flag} && 
      \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_aaac145125516fb8b7fe7137db18cdb58}{formation\_flag} && !\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}()) \{
177         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a46f3c766dd61236382cc2681372f6538}{updating\_formation\_flag})
178             \hyperlink{class_cam_cap_a8bab2cf2a40f386ab20480cfc83ac77c}{updating\_formation}();
179 
180         \hyperlink{class_cam_cap_a848749241df00e03c5fca82cc9423fdd}{formation\_creation}();
181     \}
182     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a46f3c766dd61236382cc2681372f6538}{updating\_formation\_flag}) \{
183         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a46f3c766dd61236382cc2681372f6538}{updating\_formation\_flag} = \textcolor{keyword}{false};
184 
185         \hyperlink{class_robots_af9dfd621b03a3c6a52810610abdb6a9d}{Robots::reset\_commands}();
186     \}
187 
188     \textcolor{comment}{// !TODO não chamar esta função todo frame, desativar o pid\_test logicamente no controle}
189     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ad94a51f7cd15b92c8c9defa5fb745b6d}{PID\_test\_flag} && (
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}() || \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.
      \hyperlink{class_strategy_g_u_i_aaac145125516fb8b7fe7137db18cdb58}{formation\_flag}))
190         \hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}.\hyperlink{class_control_g_u_i_a3e71e5f6e11ffd2ab7a206988ef8d7bb}{button\_PID\_Test}.set\_active(\textcolor{keyword}{false});
191 
192     \textcolor{comment}{// ----------- ESTRATEGIA -----------------//}
193 
194     \textcolor{comment}{// só roda a estratégia se o play tiver sido dado}
195     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}()) \{
196         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_af8e7b112adca9d3de45cbb0ab00a80bb}{strategy}.\hyperlink{class_strategy_a7119e796ed0218f4e44418fea1efdf49}{set\_Ball}(\hyperlink{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}{Ball\_kf\_est}); \textcolor{comment}{//
       interface.visionGUI.vision->getBall()}
197         \hyperlink{class_cam_cap_ae91debabf4943c74262acf6d60c6930f}{Ball\_Est} = \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_af8e7b112adca9d3de45cbb0ab00a80bb}{strategy}.\hyperlink{class_strategy_a08e53a7b4e9239e2536dcdbf2cc6abf5}{get\_Ball\_Est}();
198 
199         \textcolor{comment}{// roda a estratégia}
200         \textcolor{comment}{// debug\_log("Running strategy.");}
201         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_af8e7b112adca9d3de45cbb0ab00a80bb}{strategy}.\hyperlink{class_strategy_ab1c455b23e8b7f3377132a3e243f8f76}{get\_targets}(\hyperlink{class_cam_cap_ae72873010cb7dae6e9842ccae917cae3}{advRobots});
202 
203         \textcolor{comment}{// atualiza a interface}
204         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ad7fa1969bc6892bad70672aacaa960c7}{robotGUI}.\hyperlink{class_robot_g_u_i_aeb4d6cd3764ae5d1d7a24a5565aa42cb}{update\_speed\_progressBars}();
205         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ad7fa1969bc6892bad70672aacaa960c7}{robotGUI}.\hyperlink{class_robot_g_u_i_a88e9422aa99db2dd70403650ab1551a4}{update\_robot\_functions}();
206     \} \textcolor{comment}{// if start\_game\_flag}
207 
208     \textcolor{comment}{// ----------------- DESENHA SOBRE A IMAGEM  -----------------//}
209 
210     \textcolor{keywordflow}{if}(!\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_acfa3f205af98a194432aca85f3e6efe9}{draw\_info\_flag} && !\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a2d3a0e0b04ac1b80070e9123ec354d83}{getIsSplitView}()) \{
211 
212         \textcolor{comment}{// ----------- DESENHOS DA VISÃO ----------- //}
213 
214         \textcolor{keywordflow}{if} (!\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_ac732afeda7552e0c1dc4db8d63633be2}{HSV\_calib\_event\_flag}) \{
215             \textcolor{comment}{// bola}
216             circle(cameraFlow, \hyperlink{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}{Ball\_kf\_est}, 7, cv::Scalar(255,255,255), 2);
217 
218             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
219                 \textcolor{comment}{// orientação do robô}
220                 line(cameraFlow, \hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i), 
      \hyperlink{class_robots_a2ebc2bd5efa2313e9f39d676fa70f86a}{Robots::get\_secondary\_tag}(i),cv::Scalar(255,255,0), 2);
221                 \textcolor{comment}{// id do robô}
222                 putText(cameraFlow, std::to\_string(i+1),cv::Point(
      \hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i).x-5,\hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i).y-17),
      cv::FONT\_HERSHEY\_PLAIN,1,cv::Scalar(255,255,0),2);
223                 \textcolor{comment}{// marcação do robô}
224                 circle(cameraFlow, \hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i), 15, cv::Scalar(255,255,0), 
      2);
225 
226                 \textcolor{comment}{// vetor que todos os robos estão executando}
227                 cv::Point aux\_point;
228                 aux\_point.x = int(100*cos(\hyperlink{class_robots_af3cabeacfb88dd920f581939935e76ca}{Robots::get\_transAngle}(i)));
229                 aux\_point.y = - int(100*sin(\hyperlink{class_robots_af3cabeacfb88dd920f581939935e76ca}{Robots::get\_transAngle}(i)));
230                 aux\_point += \hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i);
231                 \hyperlink{class_cam_cap_afb044a7b5b3b2f17af62e3115e84993e}{arrowedLine}(cameraFlow,\hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i), aux\_point,
      cv::Scalar(255,0,0),2);
232             \}
233 
234             \textcolor{comment}{// adversários}
235             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_cam_cap_ae72873010cb7dae6e9842ccae917cae3}{advRobots}.size(); i++)
236                 circle(cameraFlow, \hyperlink{class_cam_cap_ae72873010cb7dae6e9842ccae917cae3}{advRobots}.at(i), 15, cv::Scalar(0,0,255), 2);
237         \}
238 
239         \textcolor{comment}{// ----------- DESENHOS DA ESTRATÉGIA ---------- //}
240 
241         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}()) \{
242             \textcolor{comment}{// desenha a estimativa da bola}
243             circle(cameraFlow, \hyperlink{class_cam_cap_ae91debabf4943c74262acf6d60c6930f}{Ball\_Est}, 7, cv::Scalar(255,140,0), 2);
244 
245             \textcolor{comment}{// desenha os alvos dos robôs}
246             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
247                 circle(cameraFlow, \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i), 7, cv::Scalar(127,255,127), 2);
248                 putText(cameraFlow, std::to\_string(i+1), cv::Point(
      \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i).x-5, \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i).y-17),
      cv::FONT\_HERSHEY\_PLAIN,1,cv::Scalar(127,255,127),2);
249             \}
250         \}
251 
252         \textcolor{comment}{// ----------- DESENHOS DO CONTROLE ---------- //}
253 
254         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_aaac145125516fb8b7fe7137db18cdb58}{formation\_flag}) \{
255             \textcolor{comment}{// exibe os robos virtuais}
256             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 3; i++) \{
257                 \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected} == i)
258                     circle(cameraFlow,\hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i], 20, cv::Scalar(0
      ,255,100), 3);
259 
260                 \textcolor{comment}{// posição}
261                 circle(cameraFlow,\hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i], 17, cv::Scalar(0,255
      ,0), 2);
262                 \textcolor{comment}{// orientação}
263                 cv::Point aux\_point = cv::Point(\hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i].x + 30*
      cos(\hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i]), 
      \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i].y + 30*sin(
      \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i]));
264                 \hyperlink{class_cam_cap_afb044a7b5b3b2f17af62e3115e84993e}{arrowedLine}(cameraFlow,\hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i], 
      aux\_point,cv::Scalar(0,255,0),2);
265                 \textcolor{comment}{// identificação}
266                 putText(cameraFlow, std::to\_string(i+1),\hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i]
       + cv::Point(-14,10),cv::FONT\_HERSHEY\_PLAIN,1,cv::Scalar(0,255,0),2);
267             \}
268         \}
269 
270         \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ad94a51f7cd15b92c8c9defa5fb745b6d}{PID\_test\_flag}) \{
271             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
272                 \textcolor{keywordflow}{if}(\hyperlink{class_robots_ad79a530bb3c696a351f11f5698fb4960}{Robots::is\_target\_set}(i)) \{
273                     \textcolor{comment}{// linha branca no alvo sendo executado}
274                     line(cameraFlow, \hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i), 
      \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i), cv::Scalar(255,255,255),2);
275                 \}
276                 \textcolor{comment}{// círculo branco no alvo sendo executado}
277                 circle(cameraFlow,\hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i), 9, cv::Scalar(255,255,255), 2);
278             \}
279 
280             \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index} != -1)
281                 circle(cameraFlow, \hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(
      \hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index}), 17, cv::Scalar(255,255,255), 2);
282         \}
283     \} \textcolor{comment}{// if !draw\_info\_flag}
284 
285     \textcolor{comment}{// ----------------------------------------//}
286 
287     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}{frameCounter} == 30) \{
288         \hyperlink{class_cam_cap_a2ea4ba1566017370f13057ec3d8b43ff}{timer}.\hyperlink{class_c_p_u_timer_afc986e87c38afb37b7911f8424726d1d}{stop}();
289         \hyperlink{class_cam_cap_a01f1239b5e2b6478ebda3eac68c35bc1}{fps\_average} = 30 / \hyperlink{class_cam_cap_a2ea4ba1566017370f13057ec3d8b43ff}{timer}.\hyperlink{class_c_p_u_timer_aa8736023dbfa50166f8e49960ad84a84}{getCronoTotalSecs}();
290         \textcolor{comment}{// cout<<"CPU Time: "<<timer.getCPUTotalSecs()<<",  \(\backslash\)"CPU FPS\(\backslash\)":
       "<<30/timer.getCPUTotalSecs()<<endl;}
291         \textcolor{comment}{// cout<<"FPS Time: "<<timer.getCronoTotalSecs()<<", FPS: "<<30/timer.getCronoTotalSecs()<<endl;}
292         \hyperlink{class_cam_cap_a2ea4ba1566017370f13057ec3d8b43ff}{timer}.\hyperlink{class_c_p_u_timer_ae9c1b873923f73091dae7e5a6051baf6}{reset}();
293         \hyperlink{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}{frameCounter} = 0;
294     \}
295     
296     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}() || \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ad94a51f7cd15b92c8c9defa5fb745b6d}{PID\_test\_flag}) \{
297         \hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}.\hyperlink{class_control_g_u_i_a7cdf0036f7b6c8ad8c9fb2a1c36e9c39}{update\_msg\_time}();
298         \hyperlink{class_cam_cap_ad34d9213700050e66a66e63d027b9bf0}{notify\_data\_ready}();
299     \}
300 
301     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
302 \} \textcolor{comment}{// capture\_and\_show}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 7
Here is the caller graph for this function\+:
% FIG 8
\mbox{\Hypertarget{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}\label{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}} 
\index{Cam\+Cap@{Cam\+Cap}!distance@{distance}}
\index{distance@{distance}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{distance()}{distance()}}
{\footnotesize\ttfamily double Cam\+Cap\+::distance (\begin{DoxyParamCaption}\item[{cv\+::\+Point}]{a,  }\item[{cv\+::\+Point}]{b }\end{DoxyParamCaption})}



Calculates the euclidean distance between two given points. 


\begin{DoxyParams}{Parameters}
{\em a} & First point \\
\hline
{\em b} & Second point \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Linear distance between a and b 
\end{DoxyReturn}


Definition at line 338 of file camcap.\+cpp.



Referenced by angular\+\_\+distance(), P\+I\+D\+\_\+test(), and updating\+\_\+formation().


\begin{DoxyCode}
338                                             \{
339     \textcolor{keywordflow}{return} sqrt(pow(\textcolor{keywordtype}{double}(b.x - a.x), 2) + pow(\textcolor{keywordtype}{double}(b.y - a.y), 2));
340 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 9
\mbox{\Hypertarget{class_cam_cap_a848749241df00e03c5fca82cc9423fdd}\label{class_cam_cap_a848749241df00e03c5fca82cc9423fdd}} 
\index{Cam\+Cap@{Cam\+Cap}!formation\+\_\+creation@{formation\+\_\+creation}}
\index{formation\+\_\+creation@{formation\+\_\+creation}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{formation\+\_\+creation()}{formation\_creation()}}
{\footnotesize\ttfamily void Cam\+Cap\+::formation\+\_\+creation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creates the formation (creation and load) interface. 



Definition at line 373 of file camcap.\+cpp.



References Strategy\+G\+U\+I\+::formation\+\_\+orientations, Strategy\+G\+U\+I\+::formation\+\_\+positions, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::get\+\_\+start\+\_\+game\+\_\+flag(), height, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::image\+View, interface, Image\+View\+::look\+\_\+pos, Image\+View\+::robot\+\_\+pos, strategy\+G\+UI, Image\+View\+::tar\+\_\+pos, update\+\_\+formation\+\_\+information(), Strategy\+G\+U\+I\+::update\+\_\+interface\+\_\+flag, virtual\+\_\+robot\+\_\+selected, virtual\+\_\+robots\+\_\+orientations, virtual\+\_\+robots\+\_\+positions, and width.



Referenced by capture\+\_\+and\+\_\+show().


\begin{DoxyCode}
373                                 \{
374     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}()) \textcolor{keywordflow}{return};
375 
376     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a83d19a6d98510e3984be7196c740d1fc}{update\_interface\_flag}) \{
377         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 3; i++) \{
378                 \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i] = 
      \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a4d2d15fe0a25b8d9d8fa56a4cf155ff0}{formation\_positions}[i];
379                 \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i] = 
      \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_ad8d7e6bbfceba5d6284c8825f37ea8a2}{formation\_orientations}[i];
380         \}
381 
382         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a83d19a6d98510e3984be7196c740d1fc}{update\_interface\_flag} = \textcolor{keyword}{false};
383     \}
384 
385     \textcolor{comment}{// marca o robô mais próximo}
386     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 3; i++) \{
387         \textcolor{keywordtype}{float} dist = sqrt(pow((\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ab97c018602b91e96f318dc92af222aa5}{robot\_pos}[0]-
      \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i].x),2)+pow((\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ab97c018602b91e96f318dc92af222aa5}{robot\_pos}[1]-\hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i].y),2));
388         \textcolor{keywordflow}{if}(dist <= 17) \{
389             \hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected} = i;
390             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < 2; j++) \{
391                 \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[i] = -1;
392                 \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_af6562e3dfd03c0fb66826a7a5bd6e759}{look\_pos}[i] = -1;
393             \}
394         \}
395     \}
396 
397     \textcolor{comment}{// segundo clique}
398     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected} > -1) \{
399         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_af6562e3dfd03c0fb66826a7a5bd6e759}{look\_pos}[0] >= 0) \{
400             \textcolor{keywordtype}{float} x1, x2, y1, y2;
401             x1 = \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[
      \hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected}].x;
402             y1 = \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[
      \hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected}].y;
403             x2 = \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_af6562e3dfd03c0fb66826a7a5bd6e759}{look\_pos}[0];
404             y2 = \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_af6562e3dfd03c0fb66826a7a5bd6e759}{look\_pos}[1];
405             \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[
      \hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected}] = atan2((y2-y1)*1.3/\hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height},(x2-x1)*1.5/
      \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width});
406             \hyperlink{class_cam_cap_afa26f0cbaee5db899735934f3548ebe9}{update\_formation\_information}();
407         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[0] >= 0) \{
408             \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[
      \hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected}] = cv::Point(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[0], \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.
      \hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[1]);
409             \hyperlink{class_cam_cap_afa26f0cbaee5db899735934f3548ebe9}{update\_formation\_information}();
410         \}
411     \}
412 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 10
Here is the caller graph for this function\+:
% FIG 11
\mbox{\Hypertarget{class_cam_cap_ad34d9213700050e66a66e63d027b9bf0}\label{class_cam_cap_ad34d9213700050e66a66e63d027b9bf0}} 
\index{Cam\+Cap@{Cam\+Cap}!notify\+\_\+data\+\_\+ready@{notify\+\_\+data\+\_\+ready}}
\index{notify\+\_\+data\+\_\+ready@{notify\+\_\+data\+\_\+ready}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{notify\+\_\+data\+\_\+ready()}{notify\_data\_ready()}}
{\footnotesize\ttfamily void Cam\+Cap\+::notify\+\_\+data\+\_\+ready (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Notifies all waiting threads through a conditional variable. 



Definition at line 318 of file camcap.\+cpp.



References data\+\_\+ready\+\_\+cond, and data\+\_\+ready\+\_\+flag.



Referenced by capture\+\_\+and\+\_\+show().


\begin{DoxyCode}
318                                \{
319     \hyperlink{class_cam_cap_a6ebbdd1217a68d77959aec45c7ea59e2}{data\_ready\_flag} = \textcolor{keyword}{true};
320     \hyperlink{class_cam_cap_a609ffa71782939a4428485a191202bbc}{data\_ready\_cond}.notify\_all();
321 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 12
\mbox{\Hypertarget{class_cam_cap_a93f8ee79ed618c215139e40eb0485c9f}\label{class_cam_cap_a93f8ee79ed618c215139e40eb0485c9f}} 
\index{Cam\+Cap@{Cam\+Cap}!P\+I\+D\+\_\+test@{P\+I\+D\+\_\+test}}
\index{P\+I\+D\+\_\+test@{P\+I\+D\+\_\+test}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{P\+I\+D\+\_\+test()}{PID\_test()}}
{\footnotesize\ttfamily void Cam\+Cap\+::\+P\+I\+D\+\_\+test (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Executes the \textquotesingle{}P\+ID Test on click\textquotesingle{} at the control panel. 

Handles only 1 selected robot at time by setting it\textquotesingle{}s target 

Definition at line 425 of file camcap.\+cpp.



References Ball\+\_\+kf\+\_\+est, distance(), fixed\+\_\+ball, Robots\+::get\+\_\+position(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::get\+\_\+start\+\_\+game\+\_\+flag(), Robots\+::get\+\_\+target(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::image\+View, interface, Robots\+::is\+\_\+target\+\_\+set(), Image\+View\+::robot\+\_\+pos, R\+O\+B\+O\+T\+\_\+\+R\+A\+D\+I\+US, Selec\+\_\+index, Robots\+::set\+\_\+command(), Robots\+::set\+\_\+target(), Robots\+::\+S\+I\+ZE, Robots\+::stop(), and Image\+View\+::tar\+\_\+pos.



Referenced by capture\+\_\+and\+\_\+show().


\begin{DoxyCode}
425                       \{
426     \textcolor{comment}{// se o botão play estiver pressionado, não faz o pid test}
427     \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_afb1f877ebf3a82de783f6860979eea85}{get\_start\_game\_flag}()) \textcolor{keywordflow}{return};
428     
429     \textcolor{comment}{// pra cada robô, olha se o clique na imagem foi nele}
430     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
431         \textcolor{comment}{// se a distancia do robô i com o clique da tela for menor que 1 raio de robô}
432         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}{distance}(\hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i), cv::Point(
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ab97c018602b91e96f318dc92af222aa5}{robot\_pos}[0], \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_ab97c018602b91e96f318dc92af222aa5}{robot\_pos}[1])) <= \hyperlink{camcap_8hpp_ab69dd643c61be536f4dc344cf7da0be6}{ROBOT\_RADIUS}) \{
433             \hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index} = i; \textcolor{comment}{// seleciona o robô i entre as chamadas de PID\_test()}
434             \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[0] = -1; \textcolor{comment}{// reseta o alvo x da tela}
435             \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[1] = -1; \textcolor{comment}{// reseta o alvo y da tela}
436             \hyperlink{class_robots_ac3452d86940fa017a16f7be4fe099d89}{Robots::stop}(\hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index}); \textcolor{comment}{// para o robô i}
437             \hyperlink{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}{fixed\_ball}[\hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index}] = \textcolor{keyword}{false}; \textcolor{comment}{// desmarca a flag de seguir a bola}
438         \}
439     \}
440 
441     \textcolor{comment}{// se tem um robô selecionado na interface}
442     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index} > -1) \{
443         \textcolor{comment}{// se a distancia dele é menor que um threshold pra bola, segue a bola}
444         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}{distance}(\hyperlink{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}{Ball\_kf\_est}, \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(
      \hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index})) <= \hyperlink{camcap_8hpp_ab69dd643c61be536f4dc344cf7da0be6}{ROBOT\_RADIUS}*2)
445             \hyperlink{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}{fixed\_ball}[\hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index}] = \textcolor{keyword}{true};
446         \textcolor{keywordflow}{else} \{ \textcolor{comment}{// senão, coloca o alvo pro segundo clique}
447             \hyperlink{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}{fixed\_ball}[\hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index}] = \textcolor{keyword}{false};
448             \hyperlink{class_robots_ac1cd5c41b6e5d5643b2186ca51699c8f}{Robots::set\_target}(\hyperlink{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}{Selec\_index}, cv::Point(
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[0],\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.
      \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[1]));
449             
450             \textcolor{comment}{/* comando por POSITION */}
451             \textcolor{comment}{//Robots::set\_command(i,
       cv::Point(interface.imageView.tar\_pos[0],interface.imageView.tar\_pos[1]));}
452         \}
453     \}
454 
455     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
456         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}{fixed\_ball}[i]) \{ \textcolor{comment}{// se a bola tá fixa, vai pra bola}
457             \hyperlink{class_robots_ae5034abea0160aac1d77ad154ee77f64}{Robots::set\_command}(i, \hyperlink{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}{Ball\_kf\_est});
458         \} \textcolor{keywordflow}{else} \{
459             \textcolor{comment}{// se chegou no alvo, para}
460             \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}{distance}(\hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i), 
      \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i)) <= \hyperlink{camcap_8hpp_ab69dd643c61be536f4dc344cf7da0be6}{ROBOT\_RADIUS}) \{
461                 \textcolor{comment}{// Robots::look\_at(i, Ball\_kf\_est); // faz o robô olhar pra bola ao chegar no alvo (deve
       ser o único comando nesse if)}
462                 \hyperlink{class_robots_ac3452d86940fa017a16f7be4fe099d89}{Robots::stop}(i); \textcolor{comment}{// para o robô}
463                 \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[0]=-1; \textcolor{comment}{// reseta a posição x do alvo
       da interface}
464                 \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a569238a3b9d094c11637673dba40bf29}{tar\_pos}[1]=-1; \textcolor{comment}{// reseta a posição y do alvo
       da interface}
465             \}
466             \textcolor{comment}{// senão, segue o passeio (se o alvo for (-1, -1), o flyingMessenger ignora)}
467             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{class_robots_ad79a530bb3c696a351f11f5698fb4960}{Robots::is\_target\_set}(i)) \{
468                 \textcolor{comment}{/* converte o comando pra VECTOR */}
469                 \textcolor{keywordtype}{double} transAngle = atan2(\textcolor{keywordtype}{double}(\hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i).y - 
      \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i).y), -\textcolor{keywordtype}{double}(\hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i).x - 
      \hyperlink{class_robots_a8a4fe339df4823e45cf34d9fb8daa64b}{Robots::get\_target}(i).x));
470                 \hyperlink{class_robots_ae5034abea0160aac1d77ad154ee77f64}{Robots::set\_command}(i, transAngle);
471             \}
472         \}
473     \}
474 \} \textcolor{comment}{// PID\_test}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 13
Here is the caller graph for this function\+:
% FIG 14
\mbox{\Hypertarget{class_cam_cap_a0f09ee70dc70ffad088a87bd3011592d}\label{class_cam_cap_a0f09ee70dc70ffad088a87bd3011592d}} 
\index{Cam\+Cap@{Cam\+Cap}!send\+\_\+cmd\+\_\+thread@{send\+\_\+cmd\+\_\+thread}}
\index{send\+\_\+cmd\+\_\+thread@{send\+\_\+cmd\+\_\+thread}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{send\+\_\+cmd\+\_\+thread()}{send\_cmd\_thread()}}
{\footnotesize\ttfamily void Cam\+Cap\+::send\+\_\+cmd\+\_\+thread (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Send robots to its estimated positions. 


\begin{DoxyParams}{Parameters}
{\em robots} & Vector cointaining all robots instances \\
\hline
\end{DoxyParams}


Definition at line 304 of file camcap.\+cpp.



References control, data\+\_\+ready\+\_\+cond, data\+\_\+ready\+\_\+flag, data\+\_\+ready\+\_\+mutex, Control\+G\+U\+I\+::\+FM, Robots\+::get\+\_\+commands(), and Flying\+Messenger\+::send\+C\+M\+Ds().


\begin{DoxyCode}
304                              \{
305     boost::unique\_lock<boost::mutex> lock(\hyperlink{class_cam_cap_af1a617d50c6eed145fe96fd4b40e73bf}{data\_ready\_mutex});
306     \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{
307         \textcolor{keywordflow}{try} \{
308             \hyperlink{class_cam_cap_a609ffa71782939a4428485a191202bbc}{data\_ready\_cond}.wait(lock, [\textcolor{keyword}{this}]() \{ \textcolor{keywordflow}{return} 
      \hyperlink{class_cam_cap_a6ebbdd1217a68d77959aec45c7ea59e2}{data\_ready\_flag}; \});
309         \} \textcolor{keywordflow}{catch} (...) \{
310             lock.unlock();
311             \textcolor{keywordflow}{return};
312         \}
313         \hyperlink{class_cam_cap_a6ebbdd1217a68d77959aec45c7ea59e2}{data\_ready\_flag} = \textcolor{keyword}{false};
314         \hyperlink{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}{control}.\hyperlink{class_control_g_u_i_a16612b604257a888faac7a1d7e9e3e51}{FM}.\hyperlink{class_flying_messenger_a97b0db02039cde3d9d80225e4db0f23a}{sendCMDs}(\hyperlink{class_robots_a34e3959011295509ab032e3d96b3cd61}{Robots::get\_commands}());
315     \}
316 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 15
\mbox{\Hypertarget{class_cam_cap_ae676e6624dd821ad494a80e68a41e249}\label{class_cam_cap_ae676e6624dd821ad494a80e68a41e249}} 
\index{Cam\+Cap@{Cam\+Cap}!start\+\_\+signal@{start\+\_\+signal}}
\index{start\+\_\+signal@{start\+\_\+signal}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{start\+\_\+signal()}{start\_signal()}}
{\footnotesize\ttfamily bool Cam\+Cap\+::start\+\_\+signal (\begin{DoxyParamCaption}\item[{bool}]{b }\end{DoxyParamCaption})}



Interface adjustments after \textquotesingle{}start\textquotesingle{} button is clicked. 


\begin{DoxyParams}{Parameters}
{\em b} & Variable that indicates whether start/stop button was clicked \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true 
\end{DoxyReturn}


Definition at line 51 of file camcap.\+cpp.



References V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::\+\_\+\+\_\+event\+\_\+bt\+\_\+quick\+\_\+load\+\_\+clicked(), Strategy\+G\+U\+I\+::bt\+\_\+create\+Formation, capture\+\_\+and\+\_\+show(), con, data, debug\+\_\+log, Robot\+G\+U\+I\+::disable\+\_\+buttons(), Image\+View\+::disable\+\_\+image\+\_\+show(), Robot\+G\+U\+I\+::enable\+\_\+buttons(), v4lcap\+::format\+\_\+dest, Strategy\+G\+U\+I\+::formation\+\_\+box, height, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::image\+View, interface, Vision\+::preload\+H\+S\+V(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::robot\+G\+UI, Strategy\+::set\+\_\+constants(), Vision\+G\+U\+I\+::set\+Frame\+Size(), Strategy\+G\+U\+I\+::strategy, strategy\+G\+UI, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::vcap, Vision\+G\+U\+I\+::vision, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::vision\+G\+UI, and width.



Referenced by Cam\+Cap().


\begin{DoxyCode}
51                                 \{
52     \textcolor{keywordflow}{if} (b) \{
53         \hyperlink{debug_8hpp_afde3f42696113719c9ae35507125ee6e}{debug\_log}(\textcolor{stringliteral}{"Starting capture..."});
54 
55         \textcolor{keywordflow}{if} (\hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data}) \{
56             \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a52c3ac86c941bcdfdd4fd8c711e53184}{disable\_image\_show}();
57             free(\hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data});
58             \hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data} = 0;
59         \}
60         \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width} = \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7ece61f4ccc6d5321c445e60f34e7f33}{vcap}.\hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}.fmt.pix.width;
61         \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height} = \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7ece61f4ccc6d5321c445e60f34e7f33}{vcap}.\hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}.fmt.pix.height;
62         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_af8e7b112adca9d3de45cbb0ab00a80bb}{strategy}.\hyperlink{class_strategy_a00120223877a8f4a97ef2ef4f8cecb1b}{set\_constants}(\hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width},
      \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height});
63         
64         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_afd0b5f34c6a9691ab2fe83c49abae95a}{setFrameSize}(\hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}, 
      \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height});
65 
66         \textcolor{comment}{// Liberar os botões de edit}
67         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ad7fa1969bc6892bad70672aacaa960c7}{robotGUI}.\hyperlink{class_robot_g_u_i_a01f52178c89f4bbb7b0c5ba4c1b709d0}{enable\_buttons}();
68         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a0f2ab3a2cdca1663def9c4ec1e366a5d}{formation\_box}.set\_sensitive(\textcolor{keyword}{true});
69         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_ab6edc11fb98709c98ad1815998aa937a}{bt\_createFormation}.set\_sensitive(\textcolor{keyword}{true});
70 
71         \hyperlink{class_cam_cap_a516da4047c872d26767e50fb09799400}{data} = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) calloc(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7ece61f4ccc6d5321c445e60f34e7f33}{vcap}.
      \hyperlink{classv4lcap_a51d51cae7bdc2fe6aa5bec4ddbeb6c31}{format\_dest}.fmt.pix.sizeimage, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}));
72 
73         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.set\_size\_request(\hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}, 
      \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height});
74         \hyperlink{class_cam_cap_a608a3c47ba3c1c046794e3f074b97cea}{con} = Glib::signal\_idle().connect(sigc::mem\_fun(*\textcolor{keyword}{this}, &
      \hyperlink{class_cam_cap_a87f384c5fec40a0ccfd7833347fec0df}{CamCap::capture\_and\_show}));
75 
76         \hyperlink{debug_8hpp_afde3f42696113719c9ae35507125ee6e}{debug\_log}(\textcolor{stringliteral}{"Capture started."});
77 
78     \} \textcolor{keywordflow}{else} \{
79         \hyperlink{class_cam_cap_a608a3c47ba3c1c046794e3f074b97cea}{con}.disconnect();
80 
81         \textcolor{comment}{// Travar os botões de edit}
82         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_ad7fa1969bc6892bad70672aacaa960c7}{robotGUI}.\hyperlink{class_robot_g_u_i_aaed4d5a44833dc435ac8f9e2faad58b7}{disable\_buttons}();
83         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a0f2ab3a2cdca1663def9c4ec1e366a5d}{formation\_box}.set\_sensitive(\textcolor{keyword}{false});
84         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_ab6edc11fb98709c98ad1815998aa937a}{bt\_createFormation}.set\_sensitive(\textcolor{keyword}{false});
85 
86         \hyperlink{debug_8hpp_afde3f42696113719c9ae35507125ee6e}{debug\_log}(\textcolor{stringliteral}{"Capture Stopped."});
87     \}
88 
89     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a36aba058af844ec6cbe0c945c616cd5f}{vision}->\hyperlink{class_vision_ac0c3f793197c5fec6dddb22ff7c7383c}{preloadHSV}();
90 
91     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a3010084dff2d7f93eed40efaab8ee61b}{\_\_event\_bt\_quick\_load\_clicked}();
92 
93     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
94 \} \textcolor{comment}{// start\_signal}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 16
Here is the caller graph for this function\+:
% FIG 17
\mbox{\Hypertarget{class_cam_cap_afa26f0cbaee5db899735934f3548ebe9}\label{class_cam_cap_afa26f0cbaee5db899735934f3548ebe9}} 
\index{Cam\+Cap@{Cam\+Cap}!update\+\_\+formation\+\_\+information@{update\+\_\+formation\+\_\+information}}
\index{update\+\_\+formation\+\_\+information@{update\+\_\+formation\+\_\+information}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{update\+\_\+formation\+\_\+information()}{update\_formation\_information()}}
{\footnotesize\ttfamily void Cam\+Cap\+::update\+\_\+formation\+\_\+information (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Updates information given by interface in strategy. 



Definition at line 414 of file camcap.\+cpp.



References Strategy\+G\+U\+I\+::formation\+\_\+orientations, Strategy\+G\+U\+I\+::formation\+\_\+positions, strategy\+G\+UI, virtual\+\_\+robot\+\_\+selected, virtual\+\_\+robots\+\_\+orientations, and virtual\+\_\+robots\+\_\+positions.



Referenced by formation\+\_\+creation().


\begin{DoxyCode}
414                                           \{ \textcolor{comment}{// atualiza as informações dadas pela interface na estratégia}
415     \textcolor{comment}{// reseta robo selecionado}
416     \hyperlink{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}{virtual\_robot\_selected} = -1;
417 
418     \textcolor{comment}{// copia os dados pra estratégia}
419     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 3; i++) \{
420         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a4d2d15fe0a25b8d9d8fa56a4cf155ff0}{formation\_positions}[i] = 
      \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i];
421         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_ad8d7e6bbfceba5d6284c8825f37ea8a2}{formation\_orientations}[i] = 
      \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i];
422     \}
423 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 18
\mbox{\Hypertarget{class_cam_cap_afc272fe8b0ddc82386dbf827aed7db78}\label{class_cam_cap_afc272fe8b0ddc82386dbf827aed7db78}} 
\index{Cam\+Cap@{Cam\+Cap}!update\+All\+Positions@{update\+All\+Positions}}
\index{update\+All\+Positions@{update\+All\+Positions}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{update\+All\+Positions()}{updateAllPositions()}}
{\footnotesize\ttfamily void Cam\+Cap\+::update\+All\+Positions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Updates the position of all captured elements. 

Sets ball position, robot\textquotesingle{}s orientation and positions (both actual and prediction) 

Definition at line 526 of file camcap.\+cpp.



References Ball\+\_\+kf\+\_\+est, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::ballX, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::ballY, fps\+\_\+average, Vision\+::get\+Ball(), interface, K\+F\+\_\+\+F\+I\+R\+ST, K\+F\+\_\+\+Robot\+Ball, Robots\+::\+S\+I\+ZE, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::update\+F\+P\+S(), V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::update\+Robot\+Labels(), Vision\+G\+U\+I\+::vision, and V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::vision\+G\+UI.



Referenced by capture\+\_\+and\+\_\+show().


\begin{DoxyCode}
526                                 \{
527     cv::Point ballPosition;
528 
529     \textcolor{comment}{// !TODO trocar estas variáveis para um Point e guardar localmente também}
530     ballPosition = \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a7a2432ad62a960423bc3370abe5c8930}{visionGUI}.\hyperlink{class_vision_g_u_i_a36aba058af844ec6cbe0c945c616cd5f}{vision}->\hyperlink{class_vision_a17e19e24cfc7948f646a3cca0488437a}{getBall}();
531     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a41a7395305cf41b91cdadee1f6c4d94b}{ballX} = ballPosition.x;
532     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_af81f6cd160e4b1331cbbec6f907c2856}{ballY} = ballPosition.y;
533 
534     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a32c034643a07b5354ad50541413ff08d}{updateRobotLabels}();
535     \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a13330b40a7cbd68c2ed4a244f0726810}{updateFPS}(\hyperlink{class_cam_cap_a01f1239b5e2b6478ebda3eac68c35bc1}{fps\_average});
536 
537     \textcolor{comment}{// KALMAN FILTER}
538     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_ada660167ec9872e8c91f0e8cf82028f0}{KF\_FIRST}) \{
539         \textcolor{comment}{//KALMAN FILTER INIT}
540         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
541             \textcolor{comment}{//if(Robots::is\_posistion\_set(i))}
542             \textcolor{comment}{//KF\_RobotBall.at(i).KF\_init(Robots::get\_position(i));}
543         \}
544 
545         \hyperlink{class_cam_cap_abf236d376a111567379a41ae29b3f644}{KF\_RobotBall}.at(3).KF\_init(ballPosition);
546         \hyperlink{class_cam_cap_ada660167ec9872e8c91f0e8cf82028f0}{KF\_FIRST} = \textcolor{keyword}{false};
547     \}
548 
549     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
550         \textcolor{comment}{//if(Robots::is\_posistion\_set(i))}
551         \textcolor{comment}{//    Robots::set\_position(i, KF\_RobotBall[i].KF\_Prediction(Robots::get\_position(i)));}
552     \}
553     \hyperlink{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}{Ball\_kf\_est} = \hyperlink{class_cam_cap_abf236d376a111567379a41ae29b3f644}{KF\_RobotBall}.at(Robots::SIZE).KF\_Prediction(ballPosition);
554 
555 \} \textcolor{comment}{// updateAllPositions}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 19
Here is the caller graph for this function\+:
% FIG 20
\mbox{\Hypertarget{class_cam_cap_a8bab2cf2a40f386ab20480cfc83ac77c}\label{class_cam_cap_a8bab2cf2a40f386ab20480cfc83ac77c}} 
\index{Cam\+Cap@{Cam\+Cap}!updating\+\_\+formation@{updating\+\_\+formation}}
\index{updating\+\_\+formation@{updating\+\_\+formation}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{updating\+\_\+formation()}{updating\_formation()}}
{\footnotesize\ttfamily void Cam\+Cap\+::updating\+\_\+formation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Sends robots to the target position and orientation. 



Definition at line 348 of file camcap.\+cpp.



References angular\+\_\+distance(), distance(), C\+O\+N\+S\+T\+::fixed\+\_\+pos\+\_\+distance, Robots\+::get\+\_\+orientation(), Robots\+::get\+\_\+position(), Robots\+::look\+\_\+at(), M\+A\+X\+\_\+\+P\+O\+S\+I\+T\+I\+O\+N\+I\+N\+G\+\_\+\+V\+EL, M\+A\+X\+\_\+\+T\+H\+E\+T\+A\+\_\+\+T\+O\+L\+E\+R\+A\+T\+I\+ON, PI, Robots\+::set\+\_\+command(), Robots\+::set\+\_\+fixed\+Pos(), Robots\+::\+S\+I\+ZE, strategy\+G\+UI, Strategy\+G\+U\+I\+::updating\+\_\+formation\+\_\+flag, virtual\+\_\+robots\+\_\+orientations, virtual\+\_\+robots\+\_\+positions, and width.



Referenced by capture\+\_\+and\+\_\+show().


\begin{DoxyCode}
348                                 \{
349     \textcolor{comment}{// se os três robôs estiverem posicionados, desmarca a flag}
350     \textcolor{keywordtype}{int} robots\_positioned = 0;
351 
352     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_robots_ae9df2f1d345ad6740f0459956cdd4712}{Robots::SIZE}; i++) \{
353         \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a6595a726e77091a8accf19e62dc55e41}{distance}(\hyperlink{class_robots_a1fca8f2f5070176faa6ba1efa2f1ff14}{Robots::get\_position}(i), 
      \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i]) > \hyperlink{namespace_c_o_n_s_t_ae8d764cbcf03a0351752bff7d9cb30e6}{CONST::fixed\_pos\_distance} /
       4) \{
354             \textcolor{comment}{//interface.robotGUI.robot\_list.at(i).cmdType = VECTOR;}
355             \textcolor{comment}{//interface.robotGUI.robot\_list.at(i).transAngle =
       atan2(double(interface.robotGUI.robot\_list.at(i).position.y - virtual\_robots\_positions[i].y), - double(interface.robotGUI.robot\_list.at(i).position.x -
       virtual\_robots\_positions[i].x));}
356             \hyperlink{class_robots_ae5034abea0160aac1d77ad154ee77f64}{Robots::set\_command}(i, \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i], 
      \hyperlink{camcap_8hpp_ad938167e5a9051bff1bf9df0316915dd}{MAX\_POSITIONING\_VEL});
357         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_abf57bed0fb3a45bb50947cd6f42698ea}{angular\_distance}(\hyperlink{class_robots_ae1d0829c1089322c8fac5830f65b13a0}{Robots::get\_orientation}(i), 
      \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i]) > 
      \hyperlink{camcap_8hpp_a1a6fe8e14fa30fbb43cb22f735248e8f}{MAX\_THETA\_TOLERATION} * (\hyperlink{camcap_8hpp_a598a3330b3c21701223ee0ca14316eca}{PI}/180)) \{
358             \hyperlink{class_robots_a427266e3332ab91bb3a78b5fb61a6c2c}{Robots::set\_fixedPos}(i, \textcolor{keyword}{true});
359             \textcolor{keywordtype}{double} angle = \hyperlink{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}{virtual\_robots\_positions}[i].x > 
      \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}/2 ? -\hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i] : 
      \hyperlink{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}{virtual\_robots\_orientations}[i];
360             \hyperlink{class_robots_a3b307142c41d7adc7614e6e4f2caf16b}{Robots::look\_at}(i, angle, \hyperlink{camcap_8hpp_ad938167e5a9051bff1bf9df0316915dd}{MAX\_POSITIONING\_VEL});
361         \} \textcolor{keywordflow}{else} \{
362             \hyperlink{class_robots_ae5034abea0160aac1d77ad154ee77f64}{Robots::set\_command}(i, (\textcolor{keywordtype}{float})0, 0); \textcolor{comment}{// trava as rodas}
363             robots\_positioned++;
364         \}
365     \}
366 
367     \textcolor{keywordflow}{if}(robots\_positioned > 2) \{
368         \hyperlink{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}{strategyGUI}.\hyperlink{class_strategy_g_u_i_a46f3c766dd61236382cc2681372f6538}{updating\_formation\_flag} = \textcolor{keyword}{false};
369         std::cout << \textcolor{stringliteral}{"Done positioning.\(\backslash\)n"};
370     \}
371 \}
\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 21
Here is the caller graph for this function\+:
% FIG 22
\mbox{\Hypertarget{class_cam_cap_a90c0560e51d69bc551ae17c72edb3028}\label{class_cam_cap_a90c0560e51d69bc551ae17c72edb3028}} 
\index{Cam\+Cap@{Cam\+Cap}!warp\+\_\+transform@{warp\+\_\+transform}}
\index{warp\+\_\+transform@{warp\+\_\+transform}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{warp\+\_\+transform()}{warp\_transform()}}
{\footnotesize\ttfamily void Cam\+Cap\+::warp\+\_\+transform (\begin{DoxyParamCaption}\item[{cv\+::\+Mat}]{camera\+Flow }\end{DoxyParamCaption})}



Adjusts the image framing. 



Definition at line 476 of file camcap.\+cpp.



References Image\+View\+::adjust\+\_\+event\+\_\+flag, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::adjust\+\_\+event\+\_\+flag, Image\+View\+::adjust\+\_\+mat, Image\+View\+::adjust\+\_\+rdy, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::bt\+\_\+adjust, height, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::image\+View, interface, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::offsetL, V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface\+::offsetR, Image\+View\+::warp\+\_\+mat, and width.



Referenced by capture\+\_\+and\+\_\+show().


\begin{DoxyCode}
476                                            \{
477     cv::Point2f inputQuad[4];
478     cv::Point2f outputQuad[4];
479     cv::Mat lambda = cv::Mat::zeros(cameraFlow.rows, cameraFlow.cols, cameraFlow.type());
480 
481     \textcolor{comment}{// !TODO Otimização do código::Usar laço de repetição}
482     inputQuad[0] = cv::Point2f( \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[0][0]-
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a4e43fc5295bdec46e8e2fd24bf719e0b}{offsetL},\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[0][1]);
483     inputQuad[1] = cv::Point2f( \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[1][0]+
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a8bb9caa477b417f549198ea059375f06}{offsetR},\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[1][1]);
484     inputQuad[2] = cv::Point2f( \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[2][0]+
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a8bb9caa477b417f549198ea059375f06}{offsetR},\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[2][1]);
485     inputQuad[3] = cv::Point2f( \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[3][0]-
      \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a4e43fc5295bdec46e8e2fd24bf719e0b}{offsetL},\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a483ffadadbb0b3059073c3c6af37bdc7}{warp\_mat}[3][1]);
486 
487     outputQuad[0] = cv::Point2f( 0,0 );
488     outputQuad[1] = cv::Point2f( \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}-1,0);
489     outputQuad[2] = cv::Point2f( \hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}-1,\hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}-1);
490     outputQuad[3] = cv::Point2f( 0,\hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}-1  );
491     lambda = getPerspectiveTransform( inputQuad, outputQuad );
492     warpPerspective(cameraFlow,cameraFlow,lambda,cameraFlow.size());
493 
494     \textcolor{keywordflow}{if}(\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a9a73e324dd284f7b6b33b760b9a21c33}{adjust\_rdy}) \{
495         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a0d17ffdc7f7792c2d37bcda12c700133}{bt\_adjust}.set\_active(\textcolor{keyword}{false});
496         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a0d17ffdc7f7792c2d37bcda12c700133}{bt\_adjust}.set\_state(Gtk::STATE\_INSENSITIVE);
497         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a52efea2776e5a4c8af47ca2d43dd75a5}{adjust\_event\_flag} = \textcolor{keyword}{false};
498         \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_abc6c43376871979a67c86b041025ab07}{adjust\_event\_flag} = \textcolor{keyword}{false};
499 
500         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[0][1]; i++) \{
501             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < 3*\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.
      \hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[0][0]; j++) \{
502                 cameraFlow.at<uchar>(i, j) = 0;
503             \}
504         \}
505 
506         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}; i > \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.
      \hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[1][1]; i--) \{
507             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < 3*\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.
      \hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[1][0]; j++) \{
508                 cameraFlow.at<uchar>(i, j) = 0;
509             \}
510         \}
511 
512         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < \hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.\hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[2][1]; i++) \{
513             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 3*\hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}; j > 3*\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.
      \hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[2][0]; j--) \{
514                 cameraFlow.at<uchar>(i, j) = 0;
515             \}
516         \}
517 
518         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = \hyperlink{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}{height}; i>\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.
      \hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[3][1]; i--) \{
519             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 3*\hyperlink{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}{width}; j > 3*\hyperlink{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}{interface}.\hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface_a2c99f4d9fad8a34fa98d5b61beb06745}{imageView}.
      \hyperlink{class_image_view_a59c7771f6220f24b661c3ba8ea3b27f1}{adjust\_mat}[3][0]; j--) \{
520                 cameraFlow.at<uchar>(i, j) = 0;
521             \}
522         \}
523     \}
524 \} \textcolor{comment}{// warp\_transform}
\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 23


\subsection{Field Documentation}
\mbox{\Hypertarget{class_cam_cap_ae72873010cb7dae6e9842ccae917cae3}\label{class_cam_cap_ae72873010cb7dae6e9842ccae917cae3}} 
\index{Cam\+Cap@{Cam\+Cap}!adv\+Robots@{adv\+Robots}}
\index{adv\+Robots@{adv\+Robots}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{adv\+Robots}{advRobots}}
{\footnotesize\ttfamily vector$<$cv\+::\+Point$>$ Cam\+Cap\+::adv\+Robots}



Definition at line 61 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show().

\mbox{\Hypertarget{class_cam_cap_ae91debabf4943c74262acf6d60c6930f}\label{class_cam_cap_ae91debabf4943c74262acf6d60c6930f}} 
\index{Cam\+Cap@{Cam\+Cap}!Ball\+\_\+\+Est@{Ball\+\_\+\+Est}}
\index{Ball\+\_\+\+Est@{Ball\+\_\+\+Est}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{Ball\+\_\+\+Est}{Ball\_Est}}
{\footnotesize\ttfamily cv\+::\+Point Cam\+Cap\+::\+Ball\+\_\+\+Est}



Definition at line 64 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show().

\mbox{\Hypertarget{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}\label{class_cam_cap_a8e27afe151d46cfbf000fe900ce013b8}} 
\index{Cam\+Cap@{Cam\+Cap}!Ball\+\_\+kf\+\_\+est@{Ball\+\_\+kf\+\_\+est}}
\index{Ball\+\_\+kf\+\_\+est@{Ball\+\_\+kf\+\_\+est}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{Ball\+\_\+kf\+\_\+est}{Ball\_kf\_est}}
{\footnotesize\ttfamily cv\+::\+Point Cam\+Cap\+::\+Ball\+\_\+kf\+\_\+est}



Definition at line 65 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show(), P\+I\+D\+\_\+test(), and update\+All\+Positions().

\mbox{\Hypertarget{class_cam_cap_a4a00cd71f3f2ab88b985f53e527613fd}\label{class_cam_cap_a4a00cd71f3f2ab88b985f53e527613fd}} 
\index{Cam\+Cap@{Cam\+Cap}!camera\+\_\+vbox@{camera\+\_\+vbox}}
\index{camera\+\_\+vbox@{camera\+\_\+vbox}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{camera\+\_\+vbox}{camera\_vbox}}
{\footnotesize\ttfamily Gtk\+::\+V\+Box Cam\+Cap\+::camera\+\_\+vbox}



Definition at line 78 of file camcap.\+hpp.



Referenced by Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_a608a3c47ba3c1c046794e3f074b97cea}\label{class_cam_cap_a608a3c47ba3c1c046794e3f074b97cea}} 
\index{Cam\+Cap@{Cam\+Cap}!con@{con}}
\index{con@{con}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{con}{con}}
{\footnotesize\ttfamily sigc\+::connection Cam\+Cap\+::con}



Definition at line 81 of file camcap.\+hpp.



Referenced by start\+\_\+signal(), and $\sim$\+Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}\label{class_cam_cap_a0e2b26d564d6baa6f5f60ce7227ad53f}} 
\index{Cam\+Cap@{Cam\+Cap}!control@{control}}
\index{control@{control}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{control}{control}}
{\footnotesize\ttfamily \hyperlink{class_control_g_u_i}{Control\+G\+UI} Cam\+Cap\+::control}



Definition at line 72 of file camcap.\+hpp.



Referenced by Cam\+Cap(), capture\+\_\+and\+\_\+show(), and send\+\_\+cmd\+\_\+thread().

\mbox{\Hypertarget{class_cam_cap_a516da4047c872d26767e50fb09799400}\label{class_cam_cap_a516da4047c872d26767e50fb09799400}} 
\index{Cam\+Cap@{Cam\+Cap}!data@{data}}
\index{data@{data}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{data}{data}}
{\footnotesize\ttfamily unsigned char$\ast$ Cam\+Cap\+::data}



Definition at line 56 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show(), start\+\_\+signal(), and $\sim$\+Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_a609ffa71782939a4428485a191202bbc}\label{class_cam_cap_a609ffa71782939a4428485a191202bbc}} 
\index{Cam\+Cap@{Cam\+Cap}!data\+\_\+ready\+\_\+cond@{data\+\_\+ready\+\_\+cond}}
\index{data\+\_\+ready\+\_\+cond@{data\+\_\+ready\+\_\+cond}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{data\+\_\+ready\+\_\+cond}{data\_ready\_cond}}
{\footnotesize\ttfamily boost\+::condition\+\_\+variable Cam\+Cap\+::data\+\_\+ready\+\_\+cond}



Definition at line 84 of file camcap.\+hpp.



Referenced by notify\+\_\+data\+\_\+ready(), and send\+\_\+cmd\+\_\+thread().

\mbox{\Hypertarget{class_cam_cap_a6ebbdd1217a68d77959aec45c7ea59e2}\label{class_cam_cap_a6ebbdd1217a68d77959aec45c7ea59e2}} 
\index{Cam\+Cap@{Cam\+Cap}!data\+\_\+ready\+\_\+flag@{data\+\_\+ready\+\_\+flag}}
\index{data\+\_\+ready\+\_\+flag@{data\+\_\+ready\+\_\+flag}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{data\+\_\+ready\+\_\+flag}{data\_ready\_flag}}
{\footnotesize\ttfamily bool Cam\+Cap\+::data\+\_\+ready\+\_\+flag = false}



Definition at line 86 of file camcap.\+hpp.



Referenced by notify\+\_\+data\+\_\+ready(), and send\+\_\+cmd\+\_\+thread().

\mbox{\Hypertarget{class_cam_cap_af1a617d50c6eed145fe96fd4b40e73bf}\label{class_cam_cap_af1a617d50c6eed145fe96fd4b40e73bf}} 
\index{Cam\+Cap@{Cam\+Cap}!data\+\_\+ready\+\_\+mutex@{data\+\_\+ready\+\_\+mutex}}
\index{data\+\_\+ready\+\_\+mutex@{data\+\_\+ready\+\_\+mutex}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{data\+\_\+ready\+\_\+mutex}{data\_ready\_mutex}}
{\footnotesize\ttfamily boost\+::mutex Cam\+Cap\+::data\+\_\+ready\+\_\+mutex}



Definition at line 85 of file camcap.\+hpp.



Referenced by send\+\_\+cmd\+\_\+thread().

\mbox{\Hypertarget{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}\label{class_cam_cap_a19dab098186c6d30c93a68dd6b8da270}} 
\index{Cam\+Cap@{Cam\+Cap}!fixed\+\_\+ball@{fixed\+\_\+ball}}
\index{fixed\+\_\+ball@{fixed\+\_\+ball}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{fixed\+\_\+ball}{fixed\_ball}}
{\footnotesize\ttfamily bool Cam\+Cap\+::fixed\+\_\+ball\mbox{[}3\mbox{]}}



Definition at line 53 of file camcap.\+hpp.



Referenced by Cam\+Cap(), and P\+I\+D\+\_\+test().

\mbox{\Hypertarget{class_cam_cap_ad0377b692fbf2edec6d8cc3dfdc65c2d}\label{class_cam_cap_ad0377b692fbf2edec6d8cc3dfdc65c2d}} 
\index{Cam\+Cap@{Cam\+Cap}!fm@{fm}}
\index{fm@{fm}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{fm}{fm}}
{\footnotesize\ttfamily Gtk\+::\+Frame Cam\+Cap\+::fm}



Definition at line 76 of file camcap.\+hpp.



Referenced by Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_a01f1239b5e2b6478ebda3eac68c35bc1}\label{class_cam_cap_a01f1239b5e2b6478ebda3eac68c35bc1}} 
\index{Cam\+Cap@{Cam\+Cap}!fps\+\_\+average@{fps\+\_\+average}}
\index{fps\+\_\+average@{fps\+\_\+average}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{fps\+\_\+average}{fps\_average}}
{\footnotesize\ttfamily int Cam\+Cap\+::fps\+\_\+average = 0}



Definition at line 49 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show(), and update\+All\+Positions().

\mbox{\Hypertarget{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}\label{class_cam_cap_a8a9611d808c20c937eb8a543bdf00cee}} 
\index{Cam\+Cap@{Cam\+Cap}!frame\+Counter@{frame\+Counter}}
\index{frame\+Counter@{frame\+Counter}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{frame\+Counter}{frameCounter}}
{\footnotesize\ttfamily int Cam\+Cap\+::frame\+Counter}



Definition at line 58 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show().

\mbox{\Hypertarget{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}\label{class_cam_cap_ab2c69bebfede0ba522b982b5f47b384e}} 
\index{Cam\+Cap@{Cam\+Cap}!height@{height}}
\index{height@{height}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{height}{height}}
{\footnotesize\ttfamily int Cam\+Cap\+::height}



Definition at line 47 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show(), formation\+\_\+creation(), start\+\_\+signal(), and warp\+\_\+transform().

\mbox{\Hypertarget{class_cam_cap_a411c71ae763f50f8a8752bb9a6ddc4d1}\label{class_cam_cap_a411c71ae763f50f8a8752bb9a6ddc4d1}} 
\index{Cam\+Cap@{Cam\+Cap}!info\+\_\+fm@{info\+\_\+fm}}
\index{info\+\_\+fm@{info\+\_\+fm}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{info\+\_\+fm}{info\_fm}}
{\footnotesize\ttfamily Gtk\+::\+Frame Cam\+Cap\+::info\+\_\+fm}



Definition at line 77 of file camcap.\+hpp.



Referenced by Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}\label{class_cam_cap_a58002893dfb61307042ddbba0c362dcd}} 
\index{Cam\+Cap@{Cam\+Cap}!interface@{interface}}
\index{interface@{interface}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{interface}{interface}}
{\footnotesize\ttfamily \hyperlink{class_v_s_s_s___g_u_i_1_1_v4_l_interface}{V\+S\+S\+S\+\_\+\+G\+U\+I\+::\+V4\+L\+Interface} Cam\+Cap\+::interface}



Definition at line 73 of file camcap.\+hpp.



Referenced by Cam\+Cap(), capture\+\_\+and\+\_\+show(), formation\+\_\+creation(), P\+I\+D\+\_\+test(), start\+\_\+signal(), update\+All\+Positions(), warp\+\_\+transform(), and $\sim$\+Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_ada660167ec9872e8c91f0e8cf82028f0}\label{class_cam_cap_ada660167ec9872e8c91f0e8cf82028f0}} 
\index{Cam\+Cap@{Cam\+Cap}!K\+F\+\_\+\+F\+I\+R\+ST@{K\+F\+\_\+\+F\+I\+R\+ST}}
\index{K\+F\+\_\+\+F\+I\+R\+ST@{K\+F\+\_\+\+F\+I\+R\+ST}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{K\+F\+\_\+\+F\+I\+R\+ST}{KF\_FIRST}}
{\footnotesize\ttfamily bool Cam\+Cap\+::\+K\+F\+\_\+\+F\+I\+R\+ST = true}



Definition at line 54 of file camcap.\+hpp.



Referenced by update\+All\+Positions().

\mbox{\Hypertarget{class_cam_cap_abf236d376a111567379a41ae29b3f644}\label{class_cam_cap_abf236d376a111567379a41ae29b3f644}} 
\index{Cam\+Cap@{Cam\+Cap}!K\+F\+\_\+\+Robot\+Ball@{K\+F\+\_\+\+Robot\+Ball}}
\index{K\+F\+\_\+\+Robot\+Ball@{K\+F\+\_\+\+Robot\+Ball}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{K\+F\+\_\+\+Robot\+Ball}{KF\_RobotBall}}
{\footnotesize\ttfamily vector$<$\hyperlink{class_kalman_filter}{Kalman\+Filter}$>$ Cam\+Cap\+::\+K\+F\+\_\+\+Robot\+Ball}



Definition at line 62 of file camcap.\+hpp.



Referenced by Cam\+Cap(), and update\+All\+Positions().

\mbox{\Hypertarget{class_cam_cap_a0aedb5217ab6aa3d7c383a6f39c940cd}\label{class_cam_cap_a0aedb5217ab6aa3d7c383a6f39c940cd}} 
\index{Cam\+Cap@{Cam\+Cap}!msg\+\_\+thread@{msg\+\_\+thread}}
\index{msg\+\_\+thread@{msg\+\_\+thread}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{msg\+\_\+thread}{msg\_thread}}
{\footnotesize\ttfamily boost\+::thread Cam\+Cap\+::msg\+\_\+thread}



Definition at line 83 of file camcap.\+hpp.



Referenced by $\sim$\+Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}\label{class_cam_cap_acccac8a77e94926ef3d4a79bd9b94f56}} 
\index{Cam\+Cap@{Cam\+Cap}!notebook@{notebook}}
\index{notebook@{notebook}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{notebook}{notebook}}
{\footnotesize\ttfamily Gtk\+::\+Notebook Cam\+Cap\+::notebook}



Definition at line 79 of file camcap.\+hpp.



Referenced by Cam\+Cap().

\mbox{\Hypertarget{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}\label{class_cam_cap_a26dab6605daa1e18cdced96ea1ad5cbf}} 
\index{Cam\+Cap@{Cam\+Cap}!Selec\+\_\+index@{Selec\+\_\+index}}
\index{Selec\+\_\+index@{Selec\+\_\+index}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{Selec\+\_\+index}{Selec\_index}}
{\footnotesize\ttfamily int Cam\+Cap\+::\+Selec\+\_\+index =-\/1}



Definition at line 48 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show(), and P\+I\+D\+\_\+test().

\mbox{\Hypertarget{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}\label{class_cam_cap_a71ae899fee6c1b02de3c373965208e52}} 
\index{Cam\+Cap@{Cam\+Cap}!strategy\+G\+UI@{strategy\+G\+UI}}
\index{strategy\+G\+UI@{strategy\+G\+UI}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{strategy\+G\+UI}{strategyGUI}}
{\footnotesize\ttfamily \hyperlink{class_strategy_g_u_i}{Strategy\+G\+UI} Cam\+Cap\+::strategy\+G\+UI}



Definition at line 71 of file camcap.\+hpp.



Referenced by Cam\+Cap(), capture\+\_\+and\+\_\+show(), formation\+\_\+creation(), start\+\_\+signal(), update\+\_\+formation\+\_\+information(), and updating\+\_\+formation().

\mbox{\Hypertarget{class_cam_cap_adfc9cd012ff6fa67497ffb0d32eb634e}\label{class_cam_cap_adfc9cd012ff6fa67497ffb0d32eb634e}} 
\index{Cam\+Cap@{Cam\+Cap}!ticks@{ticks}}
\index{ticks@{ticks}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{ticks}{ticks}}
{\footnotesize\ttfamily double Cam\+Cap\+::ticks = 0}



Definition at line 59 of file camcap.\+hpp.

\mbox{\Hypertarget{class_cam_cap_a2ea4ba1566017370f13057ec3d8b43ff}\label{class_cam_cap_a2ea4ba1566017370f13057ec3d8b43ff}} 
\index{Cam\+Cap@{Cam\+Cap}!timer@{timer}}
\index{timer@{timer}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{timer}{timer}}
{\footnotesize\ttfamily \hyperlink{class_c_p_u_timer}{C\+P\+U\+Timer} Cam\+Cap\+::timer}



Definition at line 51 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show().

\mbox{\Hypertarget{class_cam_cap_a074219feeb2cc1531246f45d8244ed0c}\label{class_cam_cap_a074219feeb2cc1531246f45d8244ed0c}} 
\index{Cam\+Cap@{Cam\+Cap}!timer\+Counter@{timer\+Counter}}
\index{timer\+Counter@{timer\+Counter}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{timer\+Counter}{timerCounter}}
{\footnotesize\ttfamily int Cam\+Cap\+::timer\+Counter = 0}



Definition at line 50 of file camcap.\+hpp.

\mbox{\Hypertarget{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}\label{class_cam_cap_a6709fb57a514b9aa6ee943b2b57fdbe7}} 
\index{Cam\+Cap@{Cam\+Cap}!virtual\+\_\+robot\+\_\+selected@{virtual\+\_\+robot\+\_\+selected}}
\index{virtual\+\_\+robot\+\_\+selected@{virtual\+\_\+robot\+\_\+selected}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{virtual\+\_\+robot\+\_\+selected}{virtual\_robot\_selected}}
{\footnotesize\ttfamily int Cam\+Cap\+::virtual\+\_\+robot\+\_\+selected = -\/1}



Definition at line 69 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show(), formation\+\_\+creation(), and update\+\_\+formation\+\_\+information().

\mbox{\Hypertarget{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}\label{class_cam_cap_af7519e2b0d2139c7ef95482fa3c03c20}} 
\index{Cam\+Cap@{Cam\+Cap}!virtual\+\_\+robots\+\_\+orientations@{virtual\+\_\+robots\+\_\+orientations}}
\index{virtual\+\_\+robots\+\_\+orientations@{virtual\+\_\+robots\+\_\+orientations}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{virtual\+\_\+robots\+\_\+orientations}{virtual\_robots\_orientations}}
{\footnotesize\ttfamily float Cam\+Cap\+::virtual\+\_\+robots\+\_\+orientations\mbox{[}3\mbox{]}}



Definition at line 68 of file camcap.\+hpp.



Referenced by Cam\+Cap(), capture\+\_\+and\+\_\+show(), formation\+\_\+creation(), update\+\_\+formation\+\_\+information(), and updating\+\_\+formation().

\mbox{\Hypertarget{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}\label{class_cam_cap_afdbec56c1e17c308441cf2eaad035e45}} 
\index{Cam\+Cap@{Cam\+Cap}!virtual\+\_\+robots\+\_\+positions@{virtual\+\_\+robots\+\_\+positions}}
\index{virtual\+\_\+robots\+\_\+positions@{virtual\+\_\+robots\+\_\+positions}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{virtual\+\_\+robots\+\_\+positions}{virtual\_robots\_positions}}
{\footnotesize\ttfamily cv\+::\+Point Cam\+Cap\+::virtual\+\_\+robots\+\_\+positions\mbox{[}3\mbox{]}}



Definition at line 67 of file camcap.\+hpp.



Referenced by Cam\+Cap(), capture\+\_\+and\+\_\+show(), formation\+\_\+creation(), update\+\_\+formation\+\_\+information(), and updating\+\_\+formation().

\mbox{\Hypertarget{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}\label{class_cam_cap_ac22698ba7ba278ffd8f7af7bd86a62c9}} 
\index{Cam\+Cap@{Cam\+Cap}!width@{width}}
\index{width@{width}!Cam\+Cap@{Cam\+Cap}}
\subsubsection{\texorpdfstring{width}{width}}
{\footnotesize\ttfamily int Cam\+Cap\+::width}



Definition at line 47 of file camcap.\+hpp.



Referenced by capture\+\_\+and\+\_\+show(), formation\+\_\+creation(), start\+\_\+signal(), updating\+\_\+formation(), and warp\+\_\+transform().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/\hyperlink{camcap_8hpp}{camcap.\+hpp}\item 
src/\hyperlink{camcap_8cpp}{camcap.\+cpp}\end{DoxyCompactItemize}
