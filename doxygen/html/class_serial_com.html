<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VSSS-INF: SerialCom Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pequi_mecanico2.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VSSS-INF
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Brief codes about Very Small Soccer Size</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">SerialCom Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="serial_com_8hpp_source.html">serialCom.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for SerialCom:</div>
<div class="dyncontent">
<div class="center"><img src="class_serial_com__coll__graph.png" border="0" usemap="#_serial_com_coll__map" alt="Collaboration graph"/></div>
<map name="_serial_com_coll__map" id="_serial_com_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af2d4922981a43216d0e7a2f0b02cfff7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#af2d4922981a43216d0e7a2f0b02cfff7">SerialCom</a> (const std::string &amp;port, int baud)</td></tr>
<tr class="separator:af2d4922981a43216d0e7a2f0b02cfff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5582cf804e661a24cb32720b31a2f9fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#a5582cf804e661a24cb32720b31a2f9fe">~SerialCom</a> ()</td></tr>
<tr class="separator:a5582cf804e661a24cb32720b31a2f9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c37690ef5f8c76a4c49f568dc1bb7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#a49c37690ef5f8c76a4c49f568dc1bb7f">newRobot</a> (char id, uint16_t addr)</td></tr>
<tr class="memdesc:a49c37690ef5f8c76a4c49f568dc1bb7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives ID and address of the robot and creates a connection to the robot.  <a href="#a49c37690ef5f8c76a4c49f568dc1bb7f">More...</a><br /></td></tr>
<tr class="separator:a49c37690ef5f8c76a4c49f568dc1bb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a371f0bf00f14bcf6ef23c752276144"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#a0a371f0bf00f14bcf6ef23c752276144">sendMessage</a> (char id, const std::string &amp;<a class="el" href="structmessage.html">message</a>)</td></tr>
<tr class="separator:a0a371f0bf00f14bcf6ef23c752276144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bc443df9f0d736ff9c06e7dcb4ecb6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structmessage.html">message</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#a31bc443df9f0d736ff9c06e7dcb4ecb6">getMessages</a> ()</td></tr>
<tr class="memdesc:a31bc443df9f0d736ff9c06e7dcb4ecb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method that receives messages from remote xbees and returns a vector with all messages received.  <a href="#a31bc443df9f0d736ff9c06e7dcb4ecb6">More...</a><br /></td></tr>
<tr class="separator:a31bc443df9f0d736ff9c06e7dcb4ecb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7680deb087f1746d4d8c38d6fc2d25fb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#a7680deb087f1746d4d8c38d6fc2d25fb">getResponse</a> (char id, const std::string &amp;<a class="el" href="structmessage.html">message</a>)</td></tr>
<tr class="separator:a7680deb087f1746d4d8c38d6fc2d25fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b99a72ec721ac5c30ec1b9683d59188"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structmessage.html">message</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#a9b99a72ec721ac5c30ec1b9683d59188">getResponseAll</a> (const std::string &amp;<a class="el" href="structmessage.html">message</a>)</td></tr>
<tr class="memdesc:a9b99a72ec721ac5c30ec1b9683d59188"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same functionality of getResponse method but sends message and waits response from all robots.  <a href="#a9b99a72ec721ac5c30ec1b9683d59188">More...</a><br /></td></tr>
<tr class="separator:a9b99a72ec721ac5c30ec1b9683d59188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2171dcfcdcecc0ac18b9e206b28608be"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#a2171dcfcdcecc0ac18b9e206b28608be">getString</a> (xbee_pkt *pkt)</td></tr>
<tr class="separator:a2171dcfcdcecc0ac18b9e206b28608be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ec587c5ade11ed2b68366ad4b79df2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#af5ec587c5ade11ed2b68366ad4b79df2">update_ack</a> (char id, int ack)</td></tr>
<tr class="memdesc:af5ec587c5ade11ed2b68366ad4b79df2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method updates the ack of type struct <a class="el" href="structack__count.html">ack_count</a> that contains the ack return validation.  <a href="#af5ec587c5ade11ed2b68366ad4b79df2">More...</a><br /></td></tr>
<tr class="separator:af5ec587c5ade11ed2b68366ad4b79df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3bb19785d37bfbd6fde36e107fed1b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structack__count.html">ack_count</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#af3bb19785d37bfbd6fde36e107fed1b1">get_ack_count</a> (char id)</td></tr>
<tr class="memdesc:af3bb19785d37bfbd6fde36e107fed1b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ack from a identified robot.  <a href="#af3bb19785d37bfbd6fde36e107fed1b1">More...</a><br /></td></tr>
<tr class="separator:af3bb19785d37bfbd6fde36e107fed1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6408a34f1d7260fc40ffc0f2bc452db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#af6408a34f1d7260fc40ffc0f2bc452db">reset_lost_acks</a> ()</td></tr>
<tr class="memdesc:af6408a34f1d7260fc40ffc0f2bc452db"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method resets all acks received from all robots.  <a href="#af6408a34f1d7260fc40ffc0f2bc452db">More...</a><br /></td></tr>
<tr class="separator:af6408a34f1d7260fc40ffc0f2bc452db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad5b8e665ab2218ad6caedd59738a7c12"><td class="memItemLeft" align="right" valign="top">struct xbee *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#ad5b8e665ab2218ad6caedd59738a7c12">xbee</a></td></tr>
<tr class="separator:ad5b8e665ab2218ad6caedd59738a7c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20f6fe8f53cb581b285924eda5ad01c"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; char, <a class="el" href="structrobot__xbee.html">robot_xbee</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a></td></tr>
<tr class="separator:ae20f6fe8f53cb581b285924eda5ad01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="serial_com_8hpp_source.html#l00047">47</a> of file <a class="el" href="serial_com_8hpp_source.html">serialCom.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af2d4922981a43216d0e7a2f0b02cfff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d4922981a43216d0e7a2f0b02cfff7">&#9670;&nbsp;</a></span>SerialCom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SerialCom::SerialCom </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>baud</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor of a new Serial Com object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>String path of the serial port that handles xbee radio (Eg. /dev/ttyUSB1). </td></tr>
    <tr><td class="paramname">baud</td><td>Baudrate of the communication between host pc and xbee. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00006">6</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                                                 {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    xbee_err ret;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="keywordflow">if</span>((ret = xbee_setup(&amp;<a class="code" href="class_serial_com.html#ad5b8e665ab2218ad6caedd59738a7c12">xbee</a>, <span class="stringliteral">&quot;xbee1&quot;</span>, port.c_str(), baud)) != XBEE_ENONE) {</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        printf(<span class="stringliteral">&quot;Xbee setup error: %d (%s)\n&quot;</span>, ret, xbee_errorToStr(ret));</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        cout &lt;&lt; <span class="stringliteral">&quot;Xbee connected on &quot;</span> &lt;&lt; port &lt;&lt; endl;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    }</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;}</div><div class="ttc" id="class_serial_com_html_ad5b8e665ab2218ad6caedd59738a7c12"><div class="ttname"><a href="class_serial_com.html#ad5b8e665ab2218ad6caedd59738a7c12">SerialCom::xbee</a></div><div class="ttdeci">struct xbee * xbee</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00053">serialCom.hpp:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5582cf804e661a24cb32720b31a2f9fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5582cf804e661a24cb32720b31a2f9fe">&#9670;&nbsp;</a></span>~SerialCom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SerialCom::~SerialCom </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the <a class="el" href="class_serial_com.html">SerialCom</a> object </p>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00016">16</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                     {</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">for</span>(pair&lt;const char,robot_xbee&gt;&amp; r : <a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>)</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        xbee_conEnd(r.second.con);</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    robots.clear();</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    xbee_shutdown(<a class="code" href="class_serial_com.html#ad5b8e665ab2218ad6caedd59738a7c12">xbee</a>);</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;}</div><div class="ttc" id="class_serial_com_html_ad5b8e665ab2218ad6caedd59738a7c12"><div class="ttname"><a href="class_serial_com.html#ad5b8e665ab2218ad6caedd59738a7c12">SerialCom::xbee</a></div><div class="ttdeci">struct xbee * xbee</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00053">serialCom.hpp:53</a></div></div>
<div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af3bb19785d37bfbd6fde36e107fed1b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3bb19785d37bfbd6fde36e107fed1b1">&#9670;&nbsp;</a></span>get_ack_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structack__count.html">ack_count</a> SerialCom::get_ack_count </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ack from a identified robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Identification of the robot member. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structack__count.html">ack_count</a> Number of acks of the robot. </dd></dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00107">107</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                          {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>[id].acks;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31bc443df9f0d736ff9c06e7dcb4ecb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31bc443df9f0d736ff9c06e7dcb4ecb6">&#9670;&nbsp;</a></span>getMessages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="structmessage.html">message</a> &gt; SerialCom::getMessages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method that receives messages from remote xbees and returns a vector with all messages received. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns vector of struct message that handles char id and string data. </dd></dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00056">56</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                       {</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">struct </span>xbee_pkt *pkt;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    vector&lt;message&gt; msgs;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; r : <a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>){</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span>(xbee_conRx(r.second.con, &amp;pkt, <span class="keyword">nullptr</span>) == XBEE_ENONE &amp;&amp; pkt-&gt;dataLen &gt; 0)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            msgs.push_back({r.second.id,<a class="code" href="class_serial_com.html#a2171dcfcdcecc0ac18b9e206b28608be">getString</a>(pkt)});</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">return</span> msgs;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;}</div><div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
<div class="ttc" id="class_serial_com_html_a2171dcfcdcecc0ac18b9e206b28608be"><div class="ttname"><a href="class_serial_com.html#a2171dcfcdcecc0ac18b9e206b28608be">SerialCom::getString</a></div><div class="ttdeci">std::string getString(xbee_pkt *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8cpp_source.html#l00102">serialCom.cpp:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7680deb087f1746d4d8c38d6fc2d25fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7680deb087f1746d4d8c38d6fc2d25fb">&#9670;&nbsp;</a></span>getResponse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string SerialCom::getResponse </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This method sends a message to a specific robot taged by your identification number and waits for xbee sends back the string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The robot identification to get message from. </td></tr>
    <tr><td class="paramname">message</td><td>Message that will be sent to the robot. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a string that contains the robot[id] message. </dd></dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00080">80</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                                            {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>.count(<span class="keywordtype">id</span>) == 0)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;erro&quot;</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">struct </span>xbee_pkt *pkt;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    uint8_t ack;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    xbee_conTx(<a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>[<span class="keywordtype">id</span>].con, &amp;ack, <a class="code" href="structmessage.html">message</a>.c_str());</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="class_serial_com.html#af5ec587c5ade11ed2b68366ad4b79df2">update_ack</a>(<span class="keywordtype">id</span>, ack);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span>(ack == 0 &amp;&amp; xbee_conRxWait(<a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>[<span class="keywordtype">id</span>].con, &amp;pkt, <span class="keyword">nullptr</span>) == XBEE_ENONE &amp;&amp; pkt-&gt;dataLen &gt; 0) {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_serial_com.html#a2171dcfcdcecc0ac18b9e206b28608be">getString</a>(pkt);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="stringliteral">&quot;erro&quot;</span>;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00023">serialCom.hpp:23</a></div></div>
<div class="ttc" id="class_serial_com_html_af5ec587c5ade11ed2b68366ad4b79df2"><div class="ttname"><a href="class_serial_com.html#af5ec587c5ade11ed2b68366ad4b79df2">SerialCom::update_ack</a></div><div class="ttdeci">void update_ack(char id, int ack)</div><div class="ttdoc">This method updates the ack of type struct ack_count that contains the ack return validation...</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8cpp_source.html#l00094">serialCom.cpp:94</a></div></div>
<div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
<div class="ttc" id="class_serial_com_html_a2171dcfcdcecc0ac18b9e206b28608be"><div class="ttname"><a href="class_serial_com.html#a2171dcfcdcecc0ac18b9e206b28608be">SerialCom::getString</a></div><div class="ttdeci">std::string getString(xbee_pkt *pkt)</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8cpp_source.html#l00102">serialCom.cpp:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b99a72ec721ac5c30ec1b9683d59188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b99a72ec721ac5c30ec1b9683d59188">&#9670;&nbsp;</a></span>getResponseAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="structmessage.html">message</a> &gt; SerialCom::getResponseAll </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same functionality of getResponse method but sends message and waits response from all robots. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Message that will be sent to the robots. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;message&gt; Returns a vector containing all robots return messages. </dd></dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00069">69</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                                                  {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    vector&lt;struct message&gt; msgs;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; r : <a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>){</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordtype">string</span> ret = <a class="code" href="class_serial_com.html#a7680deb087f1746d4d8c38d6fc2d25fb">getResponse</a>(r.second.id,<a class="code" href="structmessage.html">message</a>);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">if</span>(!ret.empty())</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            msgs.push_back({r.second.id,ret});</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> msgs;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00023">serialCom.hpp:23</a></div></div>
<div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
<div class="ttc" id="class_serial_com_html_a7680deb087f1746d4d8c38d6fc2d25fb"><div class="ttname"><a href="class_serial_com.html#a7680deb087f1746d4d8c38d6fc2d25fb">SerialCom::getResponse</a></div><div class="ttdeci">std::string getResponse(char id, const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8cpp_source.html#l00080">serialCom.cpp:80</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2171dcfcdcecc0ac18b9e206b28608be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2171dcfcdcecc0ac18b9e206b28608be">&#9670;&nbsp;</a></span>getString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string SerialCom::getString </td>
          <td>(</td>
          <td class="paramtype">xbee_pkt *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pkt</td><td>Package received from the robot of type xbee_pkt (struct defined on xbee.h library). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string Message converted. </dd></dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00102">102</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                                {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordtype">string</span> str(pkt-&gt;data, pkt-&gt;data+pkt-&gt;dataLen);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">return</span> str;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a49c37690ef5f8c76a4c49f568dc1bb7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c37690ef5f8c76a4c49f568dc1bb7f">&#9670;&nbsp;</a></span>newRobot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialCom::newRobot </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives ID and address of the robot and creates a connection to the robot. </p>
<p>Creates a new robot connection.</p>
<p><a class="el" href="class_robots.html">Robots</a> connection are added using xbee_conNew method provided from xbee library. xbee_conNew creates a new connection via the given libxbee instance. The new connection will be returned via 'con', and the connection's type is provided by type. From xbee attie library the types are available on <a href="http://doc.libxbee.attie.co.uk/man3/xbee_conNew.3.html">http://doc.libxbee.attie.co.uk/man3/xbee_conNew.3.html</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Robot ID provided by vision. </td></tr>
    <tr><td class="paramname">addr</td><td>Address provided statically from <a class="el" href="class_flying_messenger.html">FlyingMessenger</a> class. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00025">25</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                                               {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keyword">struct </span>xbee_con *con;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keyword">struct </span>xbee_conAddress address{};</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    memset(&amp;address, 0, <span class="keyword">sizeof</span>(address));</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    address.addr16_enabled = 1;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    address.addr16[0] = (uint8_t) (addr &gt;&gt; 8);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    address.addr16[1] = (uint8_t) addr;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    xbee_err ret;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span>((ret = xbee_conNew(<a class="code" href="class_serial_com.html#ad5b8e665ab2218ad6caedd59738a7c12">xbee</a>, &amp;con, <span class="stringliteral">&quot;16-bit Data&quot;</span>, &amp;address)) != XBEE_ENONE) {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        printf(<span class="stringliteral">&quot;Xbee connection error: %d (%s)\n&quot;</span>, ret, xbee_errorToStr(ret));</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>[id] = {id,addr,con,{0,0,0}};</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div><div class="ttc" id="class_serial_com_html_ad5b8e665ab2218ad6caedd59738a7c12"><div class="ttname"><a href="class_serial_com.html#ad5b8e665ab2218ad6caedd59738a7c12">SerialCom::xbee</a></div><div class="ttdeci">struct xbee * xbee</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00053">serialCom.hpp:53</a></div></div>
<div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6408a34f1d7260fc40ffc0f2bc452db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6408a34f1d7260fc40ffc0f2bc452db">&#9670;&nbsp;</a></span>reset_lost_acks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialCom::reset_lost_acks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method resets all acks received from all robots. </p>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00111">111</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                                {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; r : <a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>) r.second.acks = {0,0,0};</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div><div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a371f0bf00f14bcf6ef23c752276144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a371f0bf00f14bcf6ef23c752276144">&#9670;&nbsp;</a></span>sendMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SerialCom::sendMessage </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method that sends message to a specific robot identified by robot ID.</p>
<p>This method calls xbee_conTx method from xbee library. This method receives a ACK return from the sent message and update ACK count using update_ack method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Robot ID that identifies specific robot. </td></tr>
    <tr><td class="paramname">message</td><td>Message that will be sent to robot. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns ACK received from xbee_conTx method. </dd></dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00044">44</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                                                         {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>.count(<span class="keywordtype">id</span>) == 0)</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    uint8_t ack;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    xbee_conTx(<a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>[<span class="keywordtype">id</span>].con, &amp;ack, <a class="code" href="structmessage.html">message</a>.c_str());</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="class_serial_com.html#af5ec587c5ade11ed2b68366ad4b79df2">update_ack</a>(<span class="keywordtype">id</span>, ack);</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> ack;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div><div class="ttc" id="structmessage_html"><div class="ttname"><a href="structmessage.html">message</a></div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00023">serialCom.hpp:23</a></div></div>
<div class="ttc" id="class_serial_com_html_af5ec587c5ade11ed2b68366ad4b79df2"><div class="ttname"><a href="class_serial_com.html#af5ec587c5ade11ed2b68366ad4b79df2">SerialCom::update_ack</a></div><div class="ttdeci">void update_ack(char id, int ack)</div><div class="ttdoc">This method updates the ack of type struct ack_count that contains the ack return validation...</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8cpp_source.html#l00094">serialCom.cpp:94</a></div></div>
<div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af5ec587c5ade11ed2b68366ad4b79df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5ec587c5ade11ed2b68366ad4b79df2">&#9670;&nbsp;</a></span>update_ack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SerialCom::update_ack </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method updates the ack of type struct <a class="el" href="structack__count.html">ack_count</a> that contains the ack return validation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Identification of the robot owner of the ack counter. </td></tr>
    <tr><td class="paramname">ack</td><td>Ack returned from robot. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="serial_com_8cpp_source.html#l00094">94</a> of file <a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a>.</p>

<p class="reference">References <a class="el" href="serial_com_8hpp_source.html#l00032">ack_count::lost</a>, <a class="el" href="serial_com_8hpp_source.html#l00034">ack_count::lost_rate</a>, and <a class="el" href="serial_com_8hpp_source.html#l00033">ack_count::total</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                           {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="structack__count.html">ack_count</a>&amp; acks = <a class="code" href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">robots</a>[id].acks;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span>(ack != 0) acks.<a class="code" href="structack__count.html#a621179b83751cda8db5f662d8bf0f591">lost</a>++;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    acks.<a class="code" href="structack__count.html#acad0aaa27c2d3742cd2d1dec03374cc0">total</a>++;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    acks.<a class="code" href="structack__count.html#a5727e1fe59488611b16b22b82af97e52">lost_rate</a> = double(acks.<a class="code" href="structack__count.html#a621179b83751cda8db5f662d8bf0f591">lost</a>)/double(acks.<a class="code" href="structack__count.html#acad0aaa27c2d3742cd2d1dec03374cc0">total</a>)*100;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div><div class="ttc" id="structack__count_html"><div class="ttname"><a href="structack__count.html">ack_count</a></div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00031">serialCom.hpp:31</a></div></div>
<div class="ttc" id="class_serial_com_html_ae20f6fe8f53cb581b285924eda5ad01c"><div class="ttname"><a href="class_serial_com.html#ae20f6fe8f53cb581b285924eda5ad01c">SerialCom::robots</a></div><div class="ttdeci">std::unordered_map&lt; char, robot_xbee &gt; robots</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00058">serialCom.hpp:58</a></div></div>
<div class="ttc" id="structack__count_html_a5727e1fe59488611b16b22b82af97e52"><div class="ttname"><a href="structack__count.html#a5727e1fe59488611b16b22b82af97e52">ack_count::lost_rate</a></div><div class="ttdeci">double lost_rate</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00034">serialCom.hpp:34</a></div></div>
<div class="ttc" id="structack__count_html_a621179b83751cda8db5f662d8bf0f591"><div class="ttname"><a href="structack__count.html#a621179b83751cda8db5f662d8bf0f591">ack_count::lost</a></div><div class="ttdeci">int lost</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00032">serialCom.hpp:32</a></div></div>
<div class="ttc" id="structack__count_html_acad0aaa27c2d3742cd2d1dec03374cc0"><div class="ttname"><a href="structack__count.html#acad0aaa27c2d3742cd2d1dec03374cc0">ack_count::total</a></div><div class="ttdeci">int total</div><div class="ttdef"><b>Definition:</b> <a href="serial_com_8hpp_source.html#l00033">serialCom.hpp:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="ae20f6fe8f53cb581b285924eda5ad01c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20f6fe8f53cb581b285924eda5ad01c">&#9670;&nbsp;</a></span>robots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;char, <a class="el" href="structrobot__xbee.html">robot_xbee</a>&gt; SerialCom::robots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unordered map that stores all robots. </p>

<p class="definition">Definition at line <a class="el" href="serial_com_8hpp_source.html#l00058">58</a> of file <a class="el" href="serial_com_8hpp_source.html">serialCom.hpp</a>.</p>

</div>
</div>
<a id="ad5b8e665ab2218ad6caedd59738a7c12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b8e665ab2218ad6caedd59738a7c12">&#9670;&nbsp;</a></span>xbee</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct xbee* SerialCom::xbee</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pointer that points to xbee struct inside xbee.h. </p>

<p class="definition">Definition at line <a class="el" href="serial_com_8hpp_source.html#l00053">53</a> of file <a class="el" href="serial_com_8hpp_source.html">serialCom.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/communication/<a class="el" href="serial_com_8hpp_source.html">serialCom.hpp</a></li>
<li>src/communication/<a class="el" href="serial_com_8cpp_source.html">serialCom.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 11 2018 16:05:36 for VSSS-INF by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
